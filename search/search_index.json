{"config":{"lang":["en","zh","ja"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Home","text":"<p>RAG / Existing AI Memory</p> <p>Riverse / River Algorithm</p> Scenario: You said \"I've been having headaches lately\" \u2014 two months after mentioning a job change RAG Approach I've been having headaches lately I'm sorry to hear that. Here are some common causes of headaches: dehydration, screen time, stress... Would you like some tips? <p>Vector search found \"headache\" in medical Q&amp;A corpus. No connection to your life context.</p> River Algorithm I've been having headaches lately You started the new management role about two months ago, and around the same time your sleep got worse \u2014 you mentioned staying up past 1am several times. The headaches might be linked. How's the work pressure been? Want me to track this as a health pattern? <p>Causal chain: job change \u2192 sleep disruption \u2192 headaches. Timeline-aware, personally weighted.</p> <p>Conversations flow like water, key information settles like riverbed sediment, progressively upgrading from \"suspected\" to \"confirmed\" to \"established\" through multi-turn verification. Offline consolidation (Sleep) acts as the river's self-purification.</p> <pre><code>Conversation flows in \u2500\u2500\u2192 Erosion \u2500\u2500\u2192 Sedimentation \u2500\u2500\u2192 Shapes cognition \u2500\u2500\u2192 Keeps flowing\n                           \u2502              \u2502                   \u2502\n                           \u2502              \u2502                   \u2514\u2500 Confirmed knowledge \u2192 stable bedrock\n                           \u2502              \u2514\u2500 Key info \u2192 observations, hypotheses, profiles\n                           \u2514\u2500 Outdated beliefs washed away, replaced by new insights\n</code></pre> <p></p> <p></p> <p></p> <p></p> <p></p> <p></p> <p></p> <p></p> <p></p> <p></p> <p></p> <p></p> <p></p> <p></p> Layer Technology Runtime Python 3.10+, PostgreSQL 16+ Local LLM Ollama (any compatible model) Cloud LLM OpenAI GPT-4o / DeepSeek (fallback) Embeddings Ollama + BGE-M3 REST API FastAPI + Uvicorn Web Dashboard Flask Telegram python-telegram-bot (async) Discord discord.py (async) Voice / Vision Whisper-1, GPT-4 Vision, LLaVA TTS Edge TTS"},{"location":"#riverse","title":"Riverse","text":"<p> A personal AI agent that runs on your own machine \u2014 persistent memory, offline cognition, grows with every conversation. All data stays local. v1.0 Beta \u00b7 Single-user recommended </p> Get Started Docker Quick Start GitHub"},{"location":"#rag-memory-vs-river-algorithm","title":"RAG Memory vs. River Algorithm","text":"<p>Why similarity search isn't enough for a personal AI.</p>"},{"location":"#retrieve-then-forget","title":"Retrieve then Forget","text":"<ul> <li>Keyword / vector similarity retrieval \u2014 finds text that \"looks similar\", no understanding of what matters to you</li> <li>No timeline \u2014 a fact from 3 years ago and yesterday are weighted equally</li> <li>No causal reasoning \u2014 \"you mentioned headaches\" and \"you started a new job\" stay as isolated fragments, never connected</li> <li>Equal weight recall \u2014 your passing comment about a movie ranks the same as your core life values</li> <li>Cloud-dependent \u2014 every message round-trips to a remote model; your data lives on someone else's server</li> </ul>"},{"location":"#understand-then-evolve","title":"Understand then Evolve","text":"<ul> <li>Personal profile weighting \u2014 information is ranked by relevance to you, not by text similarity</li> <li>Temporal evolution \u2014 recent events carry momentum; old patterns solidify or fade naturally over time</li> <li>Causal inference \u2014 connects \"started new job \u2192 stress \u2192 headaches \u2192 sleep problems\" into a coherent chain</li> <li>Confidence levels \u2014 observations progress from suspected \u2192 confirmed \u2192 established through multi-turn verification</li> <li>Local-first \u2014 memory lives on your device; remote LLM is called only when local cognition can't solve the problem</li> </ul>"},{"location":"#the-future-your-device-your-intelligence","title":"The Future: Your Device, Your Intelligence","text":"<p>Today's AI is cloud-centered \u2014 every thought goes through someone else's server. Riverse inverts this. Your personal device holds the memory, the profile, the context. It understands you locally. Only when it encounters a problem beyond local capacity does it formulate a precise question and make a single call to a remote LLM \u2014 like consulting a specialist, not outsourcing your brain.</p> Local Memory &amp; Profile \u2192 Local Cognition \u2192 Can solve locally? \u2192 If not \u2192 describe problem \u2192 one remote call <p>This is the foundation for running a truly personal AI on phones, watches, and personal devices \u2014 where you own your data, your profile, and your intelligence.</p>"},{"location":"#river-algorithm","title":"River Algorithm","text":"<p>The core cognition model that makes Riverse different.</p>"},{"location":"#flow","title":"Flow","text":"<p>Every conversation is water flowing through. The river never stops \u2014 understanding of you evolves continuously and never resets.</p>"},{"location":"#sediment","title":"Sediment","text":"<p>Key information settles like silt: facts sink into profiles, emotions into observations, patterns into hypotheses. Confirmed knowledge sinks deeper.</p>"},{"location":"#purify","title":"Purify","text":"<p>Sleep is the river's self-purification \u2014 washing away outdated info, resolving contradictions, integrating fragments into coherent understanding.</p>"},{"location":"#features","title":"Features","text":"<p>Everything you need for a truly personal AI.</p>"},{"location":"#persistent-memory","title":"Persistent Memory","text":"<p>Remembers across sessions. Builds a timeline-based profile that evolves with you.</p>"},{"location":"#offline-consolidation","title":"Offline Consolidation","text":"<p>Processes conversations after they end \u2014 extracts insights, resolves contradictions, strengthens confirmed knowledge.</p>"},{"location":"#multi-modal-input","title":"Multi-Modal Input","text":"<p>Text, voice, images, files \u2014 all understood natively via Whisper, GPT-4 Vision, and LLaVA.</p>"},{"location":"#pluggable-tools","title":"Pluggable Tools","text":"<p>Finance tracking, health sync (Withings), web search, vision, TTS, and more.</p>"},{"location":"#yaml-skills","title":"YAML Skills","text":"<p>Create custom behaviors with simple YAML \u2014 trigger by keyword or cron schedule.</p>"},{"location":"#external-agents","title":"External Agents","text":"<p>Connect Home Assistant, n8n, Dify and more via agent configs.</p>"},{"location":"#multi-channel","title":"Multi-Channel","text":"<p>Telegram, Discord, REST API, WebSocket, CLI, and Web Dashboard.</p>"},{"location":"#local-first","title":"Local-First","text":"<p>Ollama by default. Auto-escalates to OpenAI / DeepSeek when needed.</p>"},{"location":"#proactive-outreach","title":"Proactive Outreach","text":"<p>Follows up on events, checks in when idle, respects quiet hours.</p>"},{"location":"#semantic-search","title":"Semantic Search","text":"<p>BGE-M3 embeddings \u2014 retrieves relevant memories by meaning, not just keywords.</p>"},{"location":"#mcp-protocol","title":"MCP Protocol","text":"<p>Model Context Protocol support for Gmail and other MCP servers.</p>"},{"location":"#tech-stack","title":"Tech Stack","text":""},{"location":"faq/","title":"FAQ","text":""},{"location":"faq/#postgresql-connection-failed","title":"PostgreSQL connection failed","text":"<p>Check that PostgreSQL is running:</p> <pre><code>pg_isready -h localhost\n</code></pre> <p>If your username is not <code>postgres</code>, update <code>database.user</code> in <code>settings.yaml</code>.</p>"},{"location":"faq/#ollama-model-not-found","title":"Ollama model not found","text":"<pre><code>ollama list\nollama pull &lt;your-model&gt;    # e.g. qwen2.5:14b, llama3, mistral\nollama pull bge-m3\n</code></pre>"},{"location":"faq/#telegram-bot-not-responding","title":"Telegram Bot not responding","text":"<ol> <li>Check <code>bot_token</code> is correct</li> <li>Check <code>allowed_user_ids</code> includes your Telegram user ID</li> <li>Check terminal log output</li> </ol>"},{"location":"faq/#cloud-only-without-ollama","title":"Cloud-only without Ollama","text":"<p>Set <code>llm_provider: \"openai\"</code>, fill in API key, set <code>embedding.enabled: false</code>.</p>"},{"location":"about/contact/","title":"Contact","text":"<ul> <li>X (Twitter): @JKRiverse</li> <li>Discord: Join</li> <li>Email: mailwangjk@gmail.com</li> <li>GitHub: wangjiake/JKRiver</li> </ul>"},{"location":"about/license/","title":"License","text":"<p>This project is dual-licensed:</p> Use Case License Details Personal / Open Source AGPL-3.0 Free to use; modifications must be open-sourced Commercial / Closed Source Commercial License Contact mailwangjk@gmail.com <p>In short: personal use, research, and open-source contributions are free; closed-source commercial use or SaaS requires a commercial license.</p>"},{"location":"development/api/","title":"REST API Reference","text":"<p>Start the API server:</p> <pre><code>uvicorn agent.api:app --host 0.0.0.0 --port 8400\n</code></pre>"},{"location":"development/api/#endpoints","title":"Endpoints","text":"Endpoint Method Description <code>/chat</code> POST Send message, get reply <code>/session/new</code> POST Create new session <code>/sleep</code> POST Trigger memory consolidation <code>/profile</code> GET Get current profile <code>/hypotheses</code> GET Get all hypotheses <code>/sessions</code> GET List active sessions <code>/ws/chat</code> WebSocket Real-time chat"},{"location":"development/api/#post-chat","title":"POST /chat","text":"<p>Send a message and receive a reply.</p> <pre><code>curl -X POST http://localhost:8400/chat \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"message\": \"Hello, nice to meet you!\"}'\n</code></pre>"},{"location":"development/api/#post-sessionnew","title":"POST /session/new","text":"<p>Create a new conversation session.</p> <pre><code>curl -X POST http://localhost:8400/session/new\n</code></pre>"},{"location":"development/api/#post-sleep","title":"POST /sleep","text":"<p>Trigger offline memory consolidation (Sleep).</p> <pre><code>curl -X POST http://localhost:8400/sleep\n</code></pre>"},{"location":"development/api/#get-profile","title":"GET /profile","text":"<p>Retrieve the current user profile built from conversations.</p> <pre><code>curl http://localhost:8400/profile\n</code></pre>"},{"location":"development/api/#get-hypotheses","title":"GET /hypotheses","text":"<p>List all hypotheses the system has formed about the user.</p> <pre><code>curl http://localhost:8400/hypotheses\n</code></pre>"},{"location":"development/api/#get-sessions","title":"GET /sessions","text":"<p>List all active conversation sessions.</p> <pre><code>curl http://localhost:8400/sessions\n</code></pre>"},{"location":"development/api/#websocket-wschat","title":"WebSocket /ws/chat","text":"<p>Connect for real-time bidirectional chat.</p> <pre><code>const ws = new WebSocket(\"ws://localhost:8400/ws/chat\");\nws.onmessage = (event) =&gt; console.log(event.data);\nws.send(JSON.stringify({ message: \"Hello!\" }));\n</code></pre>"},{"location":"development/custom-skill/","title":"Custom Skill Development","text":"<p>Skills are YAML-defined behaviors that extend Riverse's capabilities. They can be triggered by keywords or run on a schedule.</p>"},{"location":"development/custom-skill/#skill-file-location","title":"Skill File Location","text":"<p>Place <code>.yaml</code> files in <code>agent/skills/</code>. They are loaded automatically on startup.</p>"},{"location":"development/custom-skill/#skill-types","title":"Skill Types","text":""},{"location":"development/custom-skill/#instruction-skill-keyword-triggered","title":"Instruction Skill (keyword-triggered)","text":"<p>A simple skill that provides instructions to the LLM when triggered:</p> <pre><code>name: explain_code\ndescription: Auto-explain code when user sends a snippet\ntrigger:\n  type: keyword\n  keywords: [\"explain code\", \"what does this do\"]\ninstruction: |\n  Explain the code step by step:\n  1. Summarize what the code does in one sentence\n  2. Explain key logic line by line\n  3. Point out potential improvements\nenabled: true\n</code></pre>"},{"location":"development/custom-skill/#workflow-skill-scheduled","title":"Workflow Skill (scheduled)","text":"<p>A skill with steps that runs on a cron schedule:</p> <pre><code>name: weekly_summary\ndescription: Send a warm weekend greeting every Sunday\ntrigger:\n  type: schedule\n  cron: \"0 20 * * 0\"            # Every Sunday at 20:00\nsteps:\n  - respond: |\n      Write a short, warm weekend greeting.\nenabled: true\n</code></pre>"},{"location":"development/custom-skill/#fields-reference","title":"Fields Reference","text":"Field Required Description <code>name</code> Yes Unique identifier for the skill <code>description</code> Yes What the skill does (helps LLM decide when to use it) <code>trigger.type</code> Yes <code>keyword</code> or <code>schedule</code> <code>trigger.keywords</code> For keyword type List of trigger phrases <code>trigger.cron</code> For schedule type Cron expression <code>instruction</code> For keyword type Instructions for the LLM <code>steps</code> For schedule type List of actions to execute <code>enabled</code> Yes <code>true</code> / <code>false</code>"},{"location":"development/custom-skill/#creating-skills-via-chat","title":"Creating Skills via Chat","text":"<p>You can create skills by telling the bot directly in conversation:</p> <p>\"Create a skill that reminds me to drink water every 2 hours\"</p> <p>\"Make a skill that summarizes my day every evening at 9pm\"</p> <p>The bot will generate the YAML and save it to <code>agent/skills/</code>.</p> <p>Tip</p> <p>For Telegram scheduled skills, install the job queue extension: <code>pip install \"python-telegram-bot[job-queue]\"</code></p>"},{"location":"development/custom-tool/","title":"Custom Tool Development","text":"<p>Riverse uses a drop-in tool system. To add a new tool, create a single <code>.py</code> file in <code>agent/tools/</code> \u2014 no registration code needed.</p>"},{"location":"development/custom-tool/#interface","title":"Interface","text":"<p>Every tool extends <code>BaseTool</code> and implements two methods:</p> <pre><code>from agent.tools import BaseTool, ToolManifest, ToolResult\n\nclass MyTool(BaseTool):\n\n    def __init__(self, config: dict):\n        self.config = config\n\n    def manifest(self) -&gt; ToolManifest:\n        return ToolManifest(\n            name=\"my_tool\",                          # unique ID\n            description=\"One-line description for LLM to decide when to use this tool\",\n            parameters={\n                \"param_name\": \"what this parameter means\",\n            },\n            examples=[\n                \"natural language trigger example 1\",\n                \"natural language trigger example 2\",\n            ],\n        )\n\n    def execute(self, params: dict) -&gt; ToolResult:\n        value = params.get(\"param_name\", \"\")\n\n        # do your work here...\n        result = f\"some output for {value}\"\n\n        return ToolResult(success=True, data=result)\n</code></pre>"},{"location":"development/custom-tool/#toolmanifest","title":"ToolManifest","text":"Field Purpose <code>name</code> Unique identifier. The LLM uses this to call the tool. <code>description</code> One line. The LLM reads this to decide when to use the tool. <code>parameters</code> Dict of <code>{param: description}</code>. The LLM fills these in. <code>examples</code> 2-3 natural language phrases that would trigger this tool."},{"location":"development/custom-tool/#toolresult","title":"ToolResult","text":"Field Purpose <code>success</code> <code>True</code> / <code>False</code> <code>data</code> String injected into the LLM's context as reference material. <code>error</code> Error message (only when <code>success=False</code>)."},{"location":"development/custom-tool/#optional-is_available","title":"Optional: <code>is_available()</code>","text":"<p>Override this to disable the tool when dependencies are missing:</p> <pre><code>def is_available(self) -&gt; bool:\n    return self.config.get(\"tools\", {}).get(\"my_tool\", {}).get(\"enabled\", True)\n</code></pre>"},{"location":"development/custom-tool/#example-weather-tool","title":"Example: Weather Tool","text":"<pre><code>import requests\nfrom agent.tools import BaseTool, ToolManifest, ToolResult\n\nclass WeatherTool(BaseTool):\n\n    def __init__(self, config: dict):\n        self.config = config\n\n    def manifest(self) -&gt; ToolManifest:\n        return ToolManifest(\n            name=\"weather\",\n            description=\"Query current weather for a city\",\n            parameters={\"city\": \"City name, e.g. Tokyo, London\"},\n            examples=[\"What's the weather in Tokyo?\", \"Is it raining in London?\"],\n        )\n\n    def execute(self, params: dict) -&gt; ToolResult:\n        city = params.get(\"city\", \"\").strip()\n        if not city:\n            return ToolResult(success=False, data=\"\", error=\"Missing city\")\n\n        try:\n            r = requests.get(f\"https://wttr.in/{city}?format=j1\", timeout=10)\n            data = r.json()[\"current_condition\"][0]\n            summary = f\"{city}: {data['temp_C']}\u00b0C, {data['weatherDesc'][0]['value']}\"\n            return ToolResult(success=True, data=summary)\n        except Exception as e:\n            return ToolResult(success=False, data=\"\", error=str(e))\n</code></pre> <p>Save as <code>agent/tools/weather.py</code> \u2014 it will be available on next startup.</p>"},{"location":"development/custom-tool/#how-it-works","title":"How It Works","text":"<ol> <li>On startup, <code>ToolRegistry</code> scans every <code>.py</code> in <code>agent/tools/</code> (skips files starting with <code>_</code>).</li> <li>For each <code>BaseTool</code> subclass found, it calls <code>is_available()</code>.</li> <li>Available tools are registered by their <code>manifest().name</code>.</li> <li>When the user sends a message, the LLM sees all tool manifests and decides which (if any) to call.</li> <li>The tool's <code>execute()</code> result is injected into the LLM's context for generating the final response.</li> </ol>"},{"location":"features/agents/","title":"External Agents","text":"<p>Connect external services to Riverse via <code>agent/config/agents_en.yaml</code>. The LLM automatically decides when to invoke agents based on conversation context.</p>"},{"location":"features/agents/#built-in-templates","title":"Built-in Templates","text":"Agent Type Description Default weather_query HTTP wttr.in weather query Enabled home_lights HTTP Home Assistant light control Disabled home_status HTTP Home Assistant device status Disabled n8n_email HTTP Send email via n8n Disabled n8n_workflow HTTP Trigger n8n workflow Disabled dify_agent HTTP Dify sub-agent Disabled backup_notes Command Local backup script Disabled system_info Command System info query Disabled"},{"location":"features/agents/#enabling-an-agent","title":"Enabling an Agent","text":"<p>Set <code>enabled: true</code> and fill in your URL/token:</p> <pre><code>- name: home_lights\n  type: http\n  enabled: true\n  url: \"http://your-home-assistant:8123/api/services/light/toggle\"\n  headers:\n    Authorization: \"Bearer YOUR_TOKEN\"\n  description: \"Toggle lights via Home Assistant\"\n</code></pre>"},{"location":"features/agents/#agent-types","title":"Agent Types","text":""},{"location":"features/agents/#http-agent","title":"HTTP Agent","text":"<p>Makes HTTP requests to external services (Home Assistant, n8n, Dify, etc.).</p>"},{"location":"features/agents/#command-agent","title":"Command Agent","text":"<p>Executes local shell commands (backup scripts, system queries, etc.).</p>"},{"location":"features/agents/#multi-language-config","title":"Multi-Language Config","text":"<p>Agent configs are available in multiple languages:</p> <ul> <li><code>agent/config/agents_en.yaml</code> \u2014 English</li> <li><code>agent/config/agents_zh.yaml</code> \u2014 Chinese</li> <li><code>agent/config/agents_ja.yaml</code> \u2014 Japanese</li> </ul> <p>The active config is determined by the <code>language</code> setting in <code>settings.yaml</code>.</p>"},{"location":"features/mcp/","title":"MCP Protocol","text":"<p>Riverse supports the Model Context Protocol (MCP) for connecting to external MCP servers like Gmail.</p>"},{"location":"features/mcp/#configuration","title":"Configuration","text":"<p>Enable MCP and configure servers in <code>settings.yaml</code>:</p> <pre><code>mcp:\n  enabled: true\n  servers:\n    - name: \"gmail\"\n      command: \"npx\"\n      args: [\"-y\", \"@anthropic/mcp-gmail\"]\n</code></pre>"},{"location":"features/mcp/#what-is-mcp","title":"What is MCP?","text":"<p>The Model Context Protocol is a standard for connecting AI models to external data sources and tools. It allows Riverse to interact with services like:</p> <ul> <li>Gmail \u2014 read and send emails</li> <li>Other MCP-compatible servers</li> </ul>"},{"location":"features/mcp/#how-it-works","title":"How It Works","text":"<p>When MCP is enabled, Riverse connects to the configured MCP servers at startup. The LLM can then use the tools provided by these servers during conversations, just like built-in tools.</p>"},{"location":"features/memory/","title":"Memory &amp; Sleep","text":""},{"location":"features/memory/#persistent-memory","title":"Persistent Memory","text":"<p>Riverse remembers across sessions and builds a timeline-based profile that evolves with you. Every conversation contributes to a growing understanding of your personality, preferences, experiences, and relationships.</p> <p>This is powered by the River Algorithm \u2014 conversations flow like water, key information settles like riverbed sediment, progressively upgrading from \"suspected\" to \"confirmed\" to \"established\" through multi-turn verification.</p>"},{"location":"features/memory/#sleep-offline-memory-consolidation","title":"Sleep \u2014 Offline Memory Consolidation","text":"<p>Sleep is the process where Riverse digests conversations and updates your profile. It is triggered automatically or on demand:</p> Trigger How Telegram Send <code>/new</code> \u2014 resets the session and runs Sleep in the background CLI Runs automatically when you exit (<code>quit</code> or Ctrl+C) REST API <code>POST /sleep</code> Cron (recommended) Schedule a nightly job to consolidate the day's conversations"},{"location":"features/memory/#cron-example","title":"Cron Example","text":"<p>Run Sleep every day at midnight:</p> <pre><code># crontab -e\n0 0 * * * cd /path/to/JKRiver &amp;&amp; /path/to/python -c \"from agent.sleep import run; run()\"\n</code></pre>"},{"location":"features/memory/#semantic-search","title":"Semantic Search","text":"<p>With embeddings enabled (BGE-M3), Riverse retrieves relevant memories by meaning rather than keyword matching.</p> <pre><code>embedding:\n  enabled: true\n  model: \"bge-m3\"\n  api_base: \"http://localhost:11434\"\n</code></pre>"},{"location":"features/memory/#memory-accuracy","title":"Memory Accuracy","text":"<p>Info</p> <p>No LLM today is specifically trained for personal profile extraction, so results may occasionally be off. When you spot something inaccurate, you can reject incorrect memories or close outdated ones in the Web Dashboard. Riverse intentionally does not allow manual editing of memory content \u2014 wrong memories are like sediment in a river, meant to be washed away by the current, not sculpted by hand. As conversations accumulate, the River Algorithm continuously self-corrects through multi-turn verification and contradiction detection \u2014 profiles become more accurate over time.</p>"},{"location":"features/multi-channel/","title":"Multi-Channel Access","text":"<p>Riverse supports multiple communication channels. All channels share the same memory and profile.</p>"},{"location":"features/multi-channel/#supported-channels","title":"Supported Channels","text":"Channel Command Description CLI <code>python -m agent.main</code> Terminal-based interactive mode Telegram Bot <code>python -m agent.telegram_bot</code> Supports text, voice, images, files Discord Bot <code>python -m agent.discord_bot</code> Text-based chat REST API <code>uvicorn agent.api:app --host 0.0.0.0 --port 8400</code> HTTP endpoints WebSocket Included with REST API Real-time bidirectional chat Web Dashboard <code>python web.py</code> Profile viewer and memory management"},{"location":"features/multi-channel/#telegram-bot","title":"Telegram Bot","text":"<p>The recommended primary interface \u2014 supports multi-modal input (text, voice, images, files).</p> <p>Setup:</p> <ol> <li>Create a bot via @BotFather (<code>/newbot</code>)</li> <li>Get your User ID from @userinfobot</li> <li>Configure in <code>settings.yaml</code>:</li> </ol> <pre><code>telegram:\n  bot_token: \"123456:ABC-DEF...\"\n  temp_dir: \"tmp/telegram\"\n  allowed_user_ids: [your_user_id]\n</code></pre>"},{"location":"features/multi-channel/#discord-bot","title":"Discord Bot","text":"<ol> <li>Create an application at Discord Developer Portal</li> <li>Enable Message Content Intent on the Bot page</li> <li>Invite bot to your server via OAuth2</li> </ol> <pre><code>discord:\n  bot_token: \"your-discord-bot-token\"\n  allowed_user_ids: []           # Empty = allow all\n</code></pre>"},{"location":"features/multi-channel/#web-dashboard","title":"Web Dashboard","text":"<pre><code>python web.py                          # Default port 1234\npython web.py --port 8401              # Custom port\n</code></pre> <p>The dashboard shows:</p> <ul> <li>Profile overview (categories, timeline, confirmed/pending status)</li> <li>Relationship graph</li> <li>Trajectory analysis</li> <li>Observations</li> <li>Memory review (confirm, reject, resolve contradictions)</li> <li>Finance and health data</li> </ul>"},{"location":"features/proactive/","title":"Proactive Outreach","text":"<p>Riverse can proactively reach out to you \u2014 following up on events, checking in when idle, and sending timely reminders.</p>"},{"location":"features/proactive/#configuration","title":"Configuration","text":"<pre><code>proactive:\n  enabled: true\n  scan_interval_minutes: 30       # How often to check for triggers\n  quiet_hours:\n    start: \"23:00\"\n    end: \"08:00\"\n  max_messages_per_day: 3         # Rate limit\n  min_gap_minutes: 120            # Minimum gap between messages\n</code></pre>"},{"location":"features/proactive/#trigger-types","title":"Trigger Types","text":""},{"location":"features/proactive/#event-follow-up","title":"Event Follow-up","text":"<p>Automatically follows up on important events (e.g., a job interview you mentioned, a trip you're planning).</p> <pre><code>proactive:\n  triggers:\n    event_followup:\n      enabled: true\n      min_importance: 0.6         # Minimum importance score (0-1)\n      followup_after_hours: 24    # Wait this long before following up\n      max_age_days: 7             # Don't follow up on events older than this\n</code></pre>"},{"location":"features/proactive/#strategy","title":"Strategy","text":"<p>Triggers proactive messages based on profile strategy insights \u2014 for example, suggesting actions based on patterns discovered in your conversations.</p> <pre><code>proactive:\n  triggers:\n    strategy:\n      enabled: true\n</code></pre>"},{"location":"features/proactive/#idle-check-in","title":"Idle Check-in","text":"<p>Sends a friendly message when you haven't chatted in a while.</p> <pre><code>proactive:\n  triggers:\n    idle_checkin:\n      enabled: true\n      idle_hours: 48              # Check in after this many hours of silence\n</code></pre>"},{"location":"features/proactive/#how-it-works","title":"How It Works","text":"<p>The proactive system runs on a periodic scan (<code>scan_interval_minutes</code>). Each scan:</p> <ol> <li>Checks if quiet hours are active \u2014 if so, skips</li> <li>Checks rate limits (<code>max_messages_per_day</code>, <code>min_gap_minutes</code>)</li> <li>Evaluates each trigger type in order</li> <li>If a trigger fires, generates a contextually relevant message using the same memory and cognition system as regular conversations</li> </ol>"},{"location":"features/skills/","title":"Skill System","text":"<p>Create custom behaviors with simple YAML files \u2014 trigger by keyword or cron schedule.</p>"},{"location":"features/skills/#creating-skills","title":"Creating Skills","text":"<p>Create <code>.yaml</code> files in <code>agent/skills/</code> to define custom skills.</p>"},{"location":"features/skills/#keyword-triggered","title":"Keyword-Triggered","text":"<pre><code>name: explain_code\ndescription: Auto-explain code when user sends a snippet\ntrigger:\n  type: keyword\n  keywords: [\"explain code\", \"what does this do\"]\ninstruction: |\n  The user wants you to explain code. Please:\n  1. Summarize the purpose of the code in one sentence\n  2. Explain key logic line by line or block by block\n  3. Point out potential improvements\nenabled: true\n</code></pre>"},{"location":"features/skills/#scheduled","title":"Scheduled","text":"<pre><code>name: weekly_summary\ndescription: Send a warm weekend greeting every Sunday\ntrigger:\n  type: schedule\n  cron: \"0 20 * * 0\"\nsteps:\n  - respond: |\n      Write a short, warm weekend greeting.\nenabled: true\n</code></pre>"},{"location":"features/skills/#creating-skills-via-chat","title":"Creating Skills via Chat","text":"<p>You can create skills by telling the bot directly:</p> <p>\"Create a skill that reminds me to drink water every 2 hours\"</p> <p>The bot will automatically generate the YAML and save it to <code>agent/skills/</code>.</p>"},{"location":"features/skills/#custom-skill-development","title":"Custom Skill Development","text":"<p>For more details on building advanced skills, see the Custom Skill Development guide.</p>"},{"location":"features/tools/","title":"Built-in Tools","text":"<p>Riverse includes a pluggable tool system. The LLM automatically decides when to invoke tools based on the conversation context.</p>"},{"location":"features/tools/#available-tools","title":"Available Tools","text":"Tool Description Web Search Search the web for current information (uses cloud LLM with <code>search: true</code>) Vision Image analysis via GPT-4 Vision / Ollama LLaVA Voice Speech-to-text via OpenAI Whisper-1 TTS Text-to-speech via Edge TTS File Read Read local text files (.txt, .py, .yaml, .json, .md) Shell Exec Execute safe shell commands (whitelist-based, disabled by default) Finance Tracking Track and analyze financial data Health Sync Sync health data from Withings devices"},{"location":"features/tools/#configuration","title":"Configuration","text":"<pre><code>tools:\n  enabled: true\n  shell_exec:\n    enabled: false               # Disabled by default for safety\n</code></pre>"},{"location":"features/tools/#how-tools-work","title":"How Tools Work","text":"<ol> <li>On startup, <code>ToolRegistry</code> scans every <code>.py</code> file in <code>agent/tools/</code> (skips files starting with <code>_</code>)</li> <li>For each <code>BaseTool</code> subclass found, it calls <code>is_available()</code></li> <li>Available tools are registered by their <code>manifest().name</code></li> <li>When the user sends a message, the LLM sees all tool manifests and decides which (if any) to call</li> <li>The tool's <code>execute()</code> result is injected into the LLM's context for generating the final response</li> </ol>"},{"location":"features/tools/#custom-tools","title":"Custom Tools","text":"<p>You can create your own tools by adding <code>.py</code> files to <code>agent/tools/</code>. See the Custom Tool Development guide.</p>"},{"location":"getting-started/configuration/","title":"Configuration","text":"<p>All settings are in one file \u2014 <code>settings.yaml</code> in the project root.</p>"},{"location":"getting-started/configuration/#database","title":"Database","text":"<pre><code>database:\n    name: \"Riverse\"\n    user: \"your_username\"     # your PostgreSQL username\n    host: \"localhost\"\n</code></pre> <p>Tip</p> <p>macOS Homebrew PostgreSQL typically uses your system username (run <code>whoami</code> to check). Linux/Windows installations usually default to <code>postgres</code>.</p>"},{"location":"getting-started/configuration/#language","title":"Language","text":"<pre><code>language: \"en\"                  # en / zh / ja\n</code></pre>"},{"location":"getting-started/configuration/#llm-provider","title":"LLM Provider","text":"Local (Ollama)Cloud-only (no Ollama) <pre><code>ollama pull &lt;your-model&gt;         # e.g. qwen2.5:14b, llama3, mistral\nollama pull bge-m3              # Embedding model (optional)\n</code></pre> <pre><code>llm_provider: \"local\"\n\nlocal:\n  model: \"your-model\"            # e.g. qwen2.5:14b, llama3, mistral\n  api_base: \"http://localhost:11434\"\n  temperature: 0.7              # Response randomness 0-1\n  max_tokens: 2048              # Max response length\n</code></pre> <pre><code>llm_provider: \"openai\"\n\nopenai:\n  model: \"gpt-4o-mini\"\n  api_base: \"https://api.openai.com\"\n  api_key: \"sk-your-openai-api-key\"\n  temperature: 0.7\n  max_tokens: 2048\n</code></pre> <p>Tip</p> <p>The <code>openai</code> config works with any OpenAI-compatible API: OpenAI / DeepSeek / Groq / local vLLM / etc. Just change <code>api_base</code> and <code>api_key</code>.</p>"},{"location":"getting-started/configuration/#cloud-llm-fallback","title":"Cloud LLM Fallback","text":"<p>Auto-escalates to cloud when local model quality is insufficient. Recommended even when using local models:</p> <pre><code>cloud_llm:\n  enabled: true\n  providers:\n    - name: \"openai\"\n      model: \"gpt-4o\"\n      api_base: \"https://api.openai.com\"\n      api_key: \"sk-your-openai-api-key\"\n      search: true              # Enable web search\n      priority: 1\n    - name: \"deepseek\"\n      model: \"deepseek-chat\"\n      api_base: \"https://api.deepseek.com\"\n      api_key: \"sk-your-deepseek-key\"\n      priority: 2\n  escalation:\n    auto: true                    # Auto-escalate on low quality\n    feedback: true                # Notify user after escalation\n    min_response_length: 20       # Replies shorter than this are low quality\n    failure_keywords:             # Replies containing these trigger escalation\n      - \"I'm not sure\"\n      - \"I cannot\"\n</code></pre>"},{"location":"getting-started/configuration/#telegram-bot","title":"Telegram Bot","text":"<ol> <li>Find @BotFather on Telegram, send <code>/newbot</code> to create a bot and get the token</li> <li>Get your user ID (pick one):<ul> <li>Send any message to @userinfobot, it will reply with your ID</li> <li>Or send a message to your bot, then visit <code>https://api.telegram.org/bot&lt;TOKEN&gt;/getUpdates</code></li> </ul> </li> <li>Edit <code>settings.yaml</code>:</li> </ol> <pre><code>telegram:\n  bot_token: \"123456:ABC-DEF...\"\n  temp_dir: \"tmp/telegram\"\n  allowed_user_ids: [your_user_id]  # Only allow yourself\n</code></pre>"},{"location":"getting-started/configuration/#discord-bot-optional","title":"Discord Bot (optional)","text":"<ol> <li>Go to Discord Developer Portal and create an application</li> <li>Get the token on the Bot page, enable Message Content Intent</li> <li>Invite the bot to your server via OAuth2 URL</li> </ol> <pre><code>discord:\n  bot_token: \"your-discord-bot-token\"\n  allowed_user_ids: []           # Empty = allow all; fill IDs to restrict\n</code></pre>"},{"location":"getting-started/configuration/#embedding-semantic-search-optional","title":"Embedding / Semantic Search (optional)","text":"<p>Enables searching memories by meaning instead of keywords. Requires Ollama with bge-m3:</p> <pre><code>ollama pull bge-m3\n</code></pre> <pre><code>embedding:\n  enabled: true\n  model: \"bge-m3\"\n  api_base: \"http://localhost:11434\"\n</code></pre>"},{"location":"getting-started/configuration/#other-settings","title":"Other Settings","text":"<pre><code># Tools\ntools:\n  enabled: true\n  shell_exec:\n    enabled: false               # Disabled by default for safety\n\n# TTS\ntts:\n  enabled: false\n\n# MCP Protocol\nmcp:\n  enabled: false\n  servers: []\n\n# Proactive Outreach\nproactive:\n  enabled: true\n  quiet_hours:\n    start: \"23:00\"\n    end: \"08:00\"\n</code></pre>"},{"location":"getting-started/docker/","title":"Docker Quick Start","text":"<p>Don't want to install Python or PostgreSQL? Run Riverse with Docker in 3 commands.</p>"},{"location":"getting-started/docker/#quick-start","title":"Quick Start","text":"<p>Visit the Riverse-Docker repository for full instructions.</p> <p>Supports:</p> <ul> <li>OpenAI</li> <li>DeepSeek</li> <li>Groq</li> <li>Any OpenAI-compatible API</li> </ul>"},{"location":"getting-started/docker/#whats-included","title":"What's Included","text":"<p>The Docker setup bundles:</p> <ul> <li>Python runtime</li> <li>PostgreSQL database</li> <li>Riverse application</li> <li>All dependencies</li> </ul> <p>No manual installation of Python, PostgreSQL, or Ollama needed \u2014 just provide your API key and start chatting.</p>"},{"location":"getting-started/first-chat/","title":"First Chat","text":"<p>After installation and configuration, here's how to start your first conversation with Riverse.</p>"},{"location":"getting-started/first-chat/#cli-mode","title":"CLI Mode","text":"<p>The simplest way to get started:</p> <pre><code>source .venv/bin/activate\npython -m agent.main\n</code></pre> <p>Type your messages directly in the terminal. Type <code>quit</code> or press <code>Ctrl+C</code> to exit \u2014 Sleep will automatically run to consolidate the conversation into memory.</p>"},{"location":"getting-started/first-chat/#telegram-bot","title":"Telegram Bot","text":"<pre><code>python -m agent.telegram_bot\n</code></pre> <p>Open your Telegram bot and start chatting. Supports:</p> <ul> <li>Text messages</li> <li>Voice messages (transcribed via Whisper)</li> <li>Images (analyzed via GPT-4 Vision / LLaVA)</li> <li>Files</li> </ul> <p>Send <code>/new</code> to start a new session and trigger Sleep. Send <code>/sleep</code> to manually trigger memory consolidation without starting a new session.</p>"},{"location":"getting-started/first-chat/#discord-bot","title":"Discord Bot","text":"<pre><code>python -m agent.discord_bot\n</code></pre>"},{"location":"getting-started/first-chat/#rest-api","title":"REST API","text":"<pre><code>uvicorn agent.api:app --host 0.0.0.0 --port 8400\n</code></pre> <p>Send a message:</p> <pre><code>curl -X POST http://localhost:8400/chat \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"message\": \"Hello, nice to meet you!\"}'\n</code></pre>"},{"location":"getting-started/first-chat/#web-dashboard","title":"Web Dashboard","text":"<pre><code>python web.py                          # Default port 1234\npython web.py --port 8401              # Custom port\n</code></pre> <p>Visit <code>http://localhost:1234</code> to view:</p> <ul> <li>Profile overview (categories, timeline, confirmed/pending status)</li> <li>Relationship graph</li> <li>Trajectory analysis</li> <li>Observations</li> <li>Memory review (confirm, reject, resolve contradictions)</li> <li>Finance and health data</li> </ul>"},{"location":"getting-started/first-chat/#tips","title":"Tips","text":"<p>Recommended: Telegram Bot</p> <p>Since Riverse handles images, voice, and files, Telegram Bot is the recommended primary interface. Set your unique Telegram User ID in <code>settings.yaml</code>.</p> <p>On accuracy</p> <p>No LLM today is specifically trained for personal profile extraction, so results may occasionally be off. When you spot something inaccurate, you can reject incorrect memories or close outdated ones in the Web Dashboard. Riverse intentionally does not allow manual editing \u2014 wrong memories are like sediment in a river, meant to be washed away by the current, not sculpted by hand. As conversations accumulate, the River Algorithm continuously self-corrects.</p>"},{"location":"getting-started/installation/","title":"Installation","text":""},{"location":"getting-started/installation/#prerequisites","title":"Prerequisites","text":"Dependency Description Python 3.10+ Runtime PostgreSQL 16+ Data storage Ollama Local LLM inference (optional, can use cloud-only)"},{"location":"getting-started/installation/#clone-install","title":"Clone &amp; Install","text":"<pre><code>git clone https://github.com/wangjiake/JKRiver.git\ncd JKRiver\npython3 -m venv .venv\nsource .venv/bin/activate        # macOS / Linux\n# .venv\\Scripts\\activate         # Windows\n\npip install -r requirements.txt\n</code></pre>"},{"location":"getting-started/installation/#setup-postgresql","title":"Setup PostgreSQL","text":"<pre><code>createdb -h localhost -U your_username Riverse\npsql -h localhost -U your_username -d Riverse -f agent/schema.sql\n</code></pre> <p>Note</p> <p>Riverse and River Algorithm \u2014 AI Chat History Edition share the same database. Running the schema setup from either project creates all tables needed for both. If you have already run the other project's database setup, you can skip this step.</p> <p>Verify tables were created:</p> <pre><code>psql -h localhost -U your_username -d Riverse -c \"\\dt\"\n</code></pre> <p>You should see <code>conversation_turns</code>, <code>user_profile</code>, <code>observations</code> and about ten other tables.</p> <p>Tip</p> <p>If you need scheduled skills support (Telegram Job Queue): <pre><code>pip install \"python-telegram-bot[job-queue]\"\n</code></pre></p>"},{"location":"getting-started/installation/#pull-ollama-models-optional","title":"Pull Ollama Models (optional)","text":"<p>If using local LLM:</p> <pre><code>ollama pull &lt;your-model&gt;         # e.g. qwen2.5:14b, llama3, mistral\nollama pull bge-m3              # Embedding model (optional)\n</code></pre>"},{"location":"getting-started/installation/#run","title":"Run","text":"<pre><code>python -m agent.main                                    # CLI\nuvicorn agent.api:app --host 0.0.0.0 --port 8400       # REST API\npython web.py                                            # Web Dashboard\npython -m agent.telegram_bot                             # Telegram Bot\npython -m agent.discord_bot                              # Discord Bot\n</code></pre>"},{"location":"zh/","title":"\u9996\u9875","text":"<p>RAG / \u73b0\u6709 AI \u8bb0\u5fc6</p> <p>Riverse / \u6cb3\u6d41\u7b97\u6cd5</p> \u573a\u666f\uff1a\u4f60\u8bf4\"\u6700\u8fd1\u8001\u662f\u5934\u75db\" \u2014 \u4e24\u4e2a\u6708\u524d\u4f60\u63d0\u5230\u8fc7\u6362\u4e86\u5de5\u4f5c RAG \u65b9\u5f0f \u6700\u8fd1\u8001\u662f\u5934\u75db \u5f88\u62b1\u6b49\u542c\u5230\u8fd9\u4e2a\u3002\u5934\u75db\u7684\u5e38\u89c1\u539f\u56e0\u5305\u62ec\uff1a\u8131\u6c34\u3001\u7528\u773c\u8fc7\u5ea6\u3001\u538b\u529b\u5927\u2026\u2026\u9700\u8981\u4e00\u4e9b\u7f13\u89e3\u5efa\u8bae\u5417\uff1f <p>\u5411\u91cf\u641c\u7d22\u5728\u533b\u7597\u95ee\u7b54\u5e93\u4e2d\u5339\u914d\u4e86\"\u5934\u75db\"\u3002\u548c\u4f60\u7684\u751f\u6d3b\u6beb\u65e0\u5173\u8054\u3002</p> \u6cb3\u6d41\u7b97\u6cd5 \u6700\u8fd1\u8001\u662f\u5934\u75db \u4f60\u5927\u6982\u4e24\u4e2a\u6708\u524d\u5f00\u59cb\u5e26\u56e2\u961f\u4e86\uff0c\u5dee\u4e0d\u591a\u540c\u4e00\u65f6\u95f4\u7761\u7720\u53d8\u5dee\u4e86\u2014\u2014\u4f60\u597d\u51e0\u6b21\u63d0\u5230\u51cc\u6668\u4e00\u70b9\u591a\u624d\u7761\u3002\u5934\u75db\u53ef\u80fd\u548c\u8fd9\u4e9b\u6709\u5173\u3002\u6700\u8fd1\u5de5\u4f5c\u538b\u529b\u600e\u4e48\u6837\uff1f\u8981\u4e0d\u8981\u6211\u628a\u8fd9\u4e2a\u8bb0\u5f55\u6210\u4e00\u4e2a\u5065\u5eb7\u8d8b\u52bf\u6301\u7eed\u8ffd\u8e2a\uff1f <p>\u56e0\u679c\u94fe\uff1a\u6362\u5de5\u4f5c \u2192 \u7761\u7720\u53d8\u5dee \u2192 \u5934\u75db\u3002\u6709\u65f6\u95f4\u7ebf\u610f\u8bc6\uff0c\u4e2a\u4eba\u6743\u91cd\u9a71\u52a8\u3002</p> <p>\u5bf9\u8bdd\u50cf\u6c34\u6d41\uff0c\u5173\u952e\u4fe1\u606f\u50cf\u6cb3\u5e8a\u6ce5\u6c99\u4e00\u6837\u6c89\u6dc0\uff0c\u7ecf\u8fc7\u591a\u8f6e\u9a8c\u8bc1\u9010\u6b65\u4ece\"\u731c\u6d4b\"\u5347\u7ea7\u4e3a\"\u786e\u8ba4\"\u518d\u5230\"\u7a33\u56fa\"\u3002\u79bb\u7ebf\u6574\u7406\uff08Sleep\uff09\u5219\u662f\u6cb3\u6d41\u7684\u81ea\u51c0\u8fc7\u7a0b\u3002</p> <pre><code>\u5bf9\u8bdd\u6d41\u5165 \u2500\u2500\u2192 \u51b2\u5237 \u2500\u2500\u2192 \u6c89\u6dc0 \u2500\u2500\u2192 \u5851\u9020\u8ba4\u77e5 \u2500\u2500\u2192 \u7ee7\u7eed\u6d41\u52a8\n              \u2502         \u2502         \u2502\n              \u2502         \u2502         \u2514\u2500 \u786e\u8ba4\u7684\u8ba4\u77e5 \u2192 \u7a33\u56fa\u7684\u6cb3\u5e8a\n              \u2502         \u2514\u2500 \u91cd\u8981\u4fe1\u606f \u2192 \u89c2\u5bdf\u8bb0\u5f55\u3001\u5047\u8bbe\u3001\u753b\u50cf\n              \u2514\u2500 \u77db\u76fe\u7684\u65e7\u8ba4\u77e5\u88ab\u51b2\u8d70\uff0c\u65b0\u7684\u6d1e\u5bdf\u53d6\u800c\u4ee3\u4e4b\n</code></pre> <p></p> <p></p> <p></p> <p></p> <p></p> <p></p> <p></p> <p></p> <p></p> <p></p> <p></p> <p></p> <p></p> <p></p> \u5c42 \u6280\u672f \u8fd0\u884c\u65f6 Python 3.10+, PostgreSQL 16+ \u672c\u5730 LLM Ollama\uff08\u4efb\u610f\u517c\u5bb9\u6a21\u578b\uff09 \u4e91\u7aef LLM OpenAI GPT-4o / DeepSeek\uff08\u515c\u5e95\uff09 \u5411\u91cf\u5d4c\u5165 Ollama + BGE-M3 REST API FastAPI + Uvicorn Web \u4eea\u8868\u76d8 Flask Telegram python-telegram-bot (async) Discord discord.py (async) \u8bed\u97f3 / \u56fe\u50cf Whisper-1, GPT-4 Vision, LLaVA TTS Edge TTS"},{"location":"zh/#riverse","title":"Riverse","text":"<p> \u4e3a\u4e2a\u4eba\u7ec8\u7aef\u8bbe\u8ba1\u7684 AI Agent \u2014 \u6301\u4e45\u8bb0\u5fc6\uff0c\u79bb\u7ebf\u8ba4\u77e5\uff0c\u8d8a\u7528\u8d8a\u61c2\u4f60\u3002\u6240\u6709\u6570\u636e\u5b58\u5728\u672c\u5730\u3002 v1.0 Beta \u00b7 \u63a8\u8350\u5355\u7528\u6237\u4f7f\u7528 </p> \u5f00\u59cb\u4f7f\u7528 Docker \u5feb\u901f\u4f53\u9a8c GitHub"},{"location":"zh/#rag-vs","title":"RAG \u8bb0\u5fc6 vs. \u6cb3\u6d41\u7b97\u6cd5","text":"<p>\u4e3a\u4ec0\u4e48\u76f8\u4f3c\u5ea6\u68c0\u7d22\u4e0d\u591f\u7528\u3002</p>"},{"location":"zh/#_1","title":"\u68c0\u7d22\u7136\u540e\u9057\u5fd8","text":"<ul> <li>\u5173\u952e\u8bcd / \u5411\u91cf\u76f8\u4f3c\u5ea6\u68c0\u7d22 \u2014 \u627e\u5230\"\u770b\u8d77\u6765\u50cf\"\u7684\u6587\u672c\uff0c\u4e0d\u7406\u89e3\u4ec0\u4e48\u5bf9\u4f60\u91cd\u8981</li> <li>\u6ca1\u6709\u65f6\u95f4\u7ebf \u2014 3 \u5e74\u524d\u7684\u4e8b\u5b9e\u548c\u6628\u5929\u7684\u4e00\u6837\u6743\u91cd</li> <li>\u6ca1\u6709\u56e0\u679c\u63a8\u7406 \u2014 \"\u4f60\u63d0\u5230\u5934\u75db\"\u548c\"\u4f60\u6362\u4e86\u5de5\u4f5c\"\u662f\u5b64\u7acb\u7684\u788e\u7247\uff0c\u6c38\u8fdc\u4e0d\u4f1a\u88ab\u5173\u8054</li> <li>\u540c\u7b49\u6743\u91cd\u53ec\u56de \u2014 \u4f60\u968f\u53e3\u63d0\u5230\u7684\u4e00\u90e8\u7535\u5f71\u548c\u4f60\u7684\u6838\u5fc3\u4ef7\u503c\u89c2\u6392\u5728\u540c\u4e00\u7ea7\u522b</li> <li>\u4f9d\u8d56\u4e91\u7aef \u2014 \u6bcf\u6761\u6d88\u606f\u90fd\u53d1\u5230\u8fdc\u7a0b\u6a21\u578b\uff1b\u4f60\u7684\u6570\u636e\u5b58\u5728\u522b\u4eba\u7684\u670d\u52a1\u5668\u4e0a</li> </ul>"},{"location":"zh/#_2","title":"\u7406\u89e3\u7136\u540e\u6f14\u5316","text":"<ul> <li>\u4e2a\u4eba\u753b\u50cf\u6743\u91cd \u2014 \u4fe1\u606f\u6309\u4e0e\u4f60\u7684\u76f8\u5173\u6027\u6392\u5e8f\uff0c\u800c\u975e\u6587\u672c\u76f8\u4f3c\u5ea6</li> <li>\u65f6\u95f4\u63a8\u79fb \u2014 \u8fd1\u671f\u4e8b\u4ef6\u643a\u5e26\u52bf\u80fd\uff1b\u65e7\u7684\u6a21\u5f0f\u968f\u65f6\u95f4\u81ea\u7136\u56fa\u5316\u6216\u6d88\u9000</li> <li>\u56e0\u679c\u63a8\u65ad \u2014 \u5c06\"\u6362\u65b0\u5de5\u4f5c \u2192 \u538b\u529b \u2192 \u5934\u75db \u2192 \u7761\u7720\u95ee\u9898\"\u5173\u8054\u6210\u5b8c\u6574\u7684\u56e0\u679c\u94fe</li> <li>\u7f6e\u4fe1\u5ea6\u5206\u7ea7 \u2014 \u89c2\u5bdf\u4ece\u731c\u6d4b \u2192 \u786e\u8ba4 \u2192 \u7a33\u56fa\uff0c\u901a\u8fc7\u591a\u8f6e\u9a8c\u8bc1\u9010\u6b65\u5347\u7ea7</li> <li>\u672c\u5730\u9a71\u52a8 \u2014 \u8bb0\u5fc6\u5b58\u5728\u4f60\u7684\u8bbe\u5907\u4e0a\uff1b\u8fdc\u7a0b\u5927\u6a21\u578b\u53ea\u5728\u672c\u5730\u8ba4\u77e5\u89e3\u51b3\u4e0d\u4e86\u95ee\u9898\u65f6\u624d\u8c03\u7528\u4e00\u6b21</li> </ul>"},{"location":"zh/#_3","title":"\u672a\u6765\uff1a\u4f60\u7684\u8bbe\u5907\uff0c\u4f60\u7684\u667a\u80fd","text":"<p>\u4eca\u5929\u7684 AI \u4ee5\u4e91\u4e3a\u4e2d\u5fc3 \u2014 \u6bcf\u4e00\u4e2a\u60f3\u6cd5\u90fd\u7ecf\u8fc7\u522b\u4eba\u7684\u670d\u52a1\u5668\u3002Riverse \u628a\u8fd9\u4e2a\u5012\u8fc7\u6765\u3002\u4f60\u7684\u4e2a\u4eba\u8bbe\u5907\u638c\u63e1\u8bb0\u5fc6\u3001\u753b\u50cf\u3001\u4e0a\u4e0b\u6587\uff0c\u5728\u672c\u5730\u7406\u89e3\u4f60\u3002\u53ea\u6709\u9047\u5230\u672c\u5730\u5904\u7406\u4e0d\u4e86\u7684\u95ee\u9898\u65f6\uff0c\u624d\u628a\u95ee\u9898\u7cbe\u786e\u63cf\u8ff0\u597d\uff0c\u8c03\u7528\u4e00\u6b21\u8fdc\u7a0b\u5927\u6a21\u578b \u2014 \u50cf\u54a8\u8be2\u4e13\u5bb6\uff0c\u800c\u4e0d\u662f\u628a\u5927\u8111\u5916\u5305\u3002</p> \u672c\u5730\u8bb0\u5fc6 &amp; \u753b\u50cf \u2192 \u672c\u5730\u8ba4\u77e5\u5904\u7406 \u2192 \u672c\u5730\u80fd\u89e3\u51b3\uff1f \u2192 \u4e0d\u80fd \u2192 \u63cf\u8ff0\u95ee\u9898 \u2192 \u8c03\u7528\u4e00\u6b21\u8fdc\u7a0b <p>\u8fd9\u662f\u672a\u6765\u5728\u624b\u673a\u3001\u624b\u8868\u7b49\u4e2a\u4eba\u7ec8\u7aef\u4e0a\u8fd0\u884c\u771f\u6b63\u4e2a\u4eba AI \u7684\u57fa\u7840 \u2014 \u4f60\u638c\u63e1\u81ea\u5df1\u7684\u6570\u636e\u3001\u753b\u50cf\u548c\u667a\u80fd\u3002</p>"},{"location":"zh/#_4","title":"\u6cb3\u6d41\u7b97\u6cd5","text":"<p>\u8ba9 Riverse \u4e0e\u4f17\u4e0d\u540c\u7684\u6838\u5fc3\u8ba4\u77e5\u6a21\u578b\u3002</p>"},{"location":"zh/#flow","title":"\u6c34\u6d41\uff08Flow\uff09","text":"<p>\u6bcf\u6b21\u5bf9\u8bdd\u90fd\u662f\u6d41\u7ecf\u7684\u6c34\u3002\u6cb3\u6d41\u6c38\u4e0d\u505c\u6b47\uff0c\u5bf9\u4f60\u7684\u7406\u89e3\u6301\u7eed\u6f14\u5316\uff0c\u4ece\u4e0d\u91cd\u7f6e\u3002</p>"},{"location":"zh/#sediment","title":"\u6c89\u6dc0\uff08Sediment\uff09","text":"<p>\u5173\u952e\u4fe1\u606f\u50cf\u6ce5\u6c99\u4e00\u6837\u6c89\u6dc0\uff1a\u4e8b\u5b9e\u6c89\u5165\u753b\u50cf\uff0c\u60c5\u7eea\u6c89\u5165\u89c2\u5bdf\uff0c\u89c4\u5f8b\u6c89\u5165\u5047\u8bbe\u3002\u53cd\u590d\u786e\u8ba4\u7684\u8ba4\u77e5\u8d8a\u6c89\u8d8a\u6df1\u3002</p>"},{"location":"zh/#purify","title":"\u81ea\u51c0\uff08Purify\uff09","text":"<p>Sleep \u50cf\u6cb3\u6d41\u7684\u81ea\u51c0\u80fd\u529b \u2014 \u51b2\u8d70\u8fc7\u65f6\u7684\u4fe1\u606f\uff0c\u89e3\u51b3\u77db\u76fe\u7684\u8ba4\u77e5\uff0c\u5c06\u788e\u7247\u6574\u5408\u4e3a\u5b8c\u6574\u7684\u7406\u89e3\u3002</p>"},{"location":"zh/#_5","title":"\u7279\u6027","text":"<p>\u6253\u9020\u771f\u6b63\u4e2a\u4eba AI \u6240\u9700\u7684\u4e00\u5207\u3002</p>"},{"location":"zh/#_6","title":"\u6301\u4e45\u8bb0\u5fc6","text":"<p>\u8de8\u4f1a\u8bdd\u8bb0\u5fc6\uff0c\u6784\u5efa\u968f\u4f60\u6f14\u5316\u7684\u7528\u6237\u753b\u50cf\u3002</p>"},{"location":"zh/#sleep","title":"\u79bb\u7ebf\u6574\u7406\uff08Sleep\uff09","text":"<p>\u5bf9\u8bdd\u7ed3\u675f\u540e\u81ea\u52a8\u6574\u7406\u8bb0\u5fc6\u3001\u63d0\u70bc\u8ba4\u77e5\u3001\u89e3\u51b3\u77db\u76fe\u3002</p>"},{"location":"zh/#_7","title":"\u591a\u6a21\u6001\u8f93\u5165","text":"<p>\u6587\u672c\u3001\u8bed\u97f3\u3001\u56fe\u7247\u3001\u6587\u4ef6 \u2014 \u901a\u8fc7 Whisper\u3001GPT-4 Vision\u3001LLaVA \u539f\u751f\u7406\u89e3\u3002</p>"},{"location":"zh/#_8","title":"\u53ef\u63d2\u62d4\u5de5\u5177","text":"<p>\u7f51\u9875\u641c\u7d22\u3001\u8d22\u52a1\u8ffd\u8e2a\u3001\u5065\u5eb7\u540c\u6b65\uff08Withings\uff09\u3001TTS \u7b49\u3002</p>"},{"location":"zh/#yaml","title":"YAML \u6280\u80fd","text":"<p>\u7528\u7b80\u5355\u7684 YAML \u521b\u5efa\u81ea\u5b9a\u4e49\u884c\u4e3a\uff0c\u6309\u5173\u952e\u8bcd\u6216 cron \u5b9a\u65f6\u89e6\u53d1\u3002</p>"},{"location":"zh/#agent","title":"\u5916\u90e8 Agent","text":"<p>\u901a\u8fc7\u914d\u7f6e\u6587\u4ef6\u63a5\u5165 Home Assistant\u3001n8n\u3001Dify \u7b49\u3002</p>"},{"location":"zh/#_9","title":"\u591a\u6e20\u9053","text":"<p>Telegram\u3001Discord\u3001REST API\u3001WebSocket\u3001CLI\u3001Web \u4eea\u8868\u76d8\u3002</p>"},{"location":"zh/#_10","title":"\u672c\u5730\u4f18\u5148","text":"<p>\u9ed8\u8ba4 Ollama\uff0c\u8d28\u91cf\u4e0d\u8db3\u65f6\u81ea\u52a8\u5347\u7ea7\u5230 OpenAI / DeepSeek\u3002</p>"},{"location":"zh/#_11","title":"\u4e3b\u52a8\u5173\u6000","text":"<p>\u8ddf\u8fdb\u91cd\u8981\u4e8b\u4ef6\u3001\u7a7a\u95f2\u95ee\u5019\u3001\u7b56\u7565\u63d0\u9192\uff0c\u5c0a\u91cd\u9759\u9ed8\u65f6\u6bb5\u3002</p>"},{"location":"zh/#_12","title":"\u8bed\u4e49\u641c\u7d22","text":"<p>BGE-M3 \u5411\u91cf\u5d4c\u5165\uff0c\u6309\u8bed\u4e49\u800c\u975e\u5173\u952e\u8bcd\u68c0\u7d22\u76f8\u5173\u8bb0\u5fc6\u3002</p>"},{"location":"zh/#mcp","title":"MCP \u534f\u8bae","text":"<p>\u652f\u6301 Model Context Protocol\uff0c\u63a5\u5165 Gmail \u7b49 MCP Server\u3002</p>"},{"location":"zh/#_13","title":"\u6280\u672f\u6808","text":""},{"location":"zh/faq/","title":"\u5e38\u89c1\u95ee\u9898","text":""},{"location":"zh/faq/#postgresql","title":"PostgreSQL \u8fde\u63a5\u5931\u8d25","text":"<p>\u786e\u8ba4 PostgreSQL \u6b63\u5728\u8fd0\u884c\uff1a</p> <pre><code>pg_isready -h localhost\n</code></pre> <p>\u5982\u679c\u7528\u6237\u540d\u4e0d\u662f\u9ed8\u8ba4\u7684 <code>postgres</code>\uff0c\u9700\u8981\u4fee\u6539\u9879\u76ee\u6839\u76ee\u5f55 <code>settings.yaml</code> \u4e2d\u7684 <code>database.user</code>\u3002</p>"},{"location":"zh/faq/#ollama","title":"Ollama \u6a21\u578b\u672a\u627e\u5230","text":"<pre><code>ollama list                     # \u67e5\u770b\u5df2\u5b89\u88c5\u6a21\u578b\nollama pull &lt;your-model&gt;         # \u4f8b\u5982 qwen2.5:14b, llama3, mistral\nollama pull bge-m3              # \u5b89\u88c5\u5d4c\u5165\u6a21\u578b\n</code></pre>"},{"location":"zh/faq/#telegram-bot","title":"Telegram Bot \u65e0\u54cd\u5e94","text":"<ol> <li>\u786e\u8ba4 <code>bot_token</code> \u6b63\u786e</li> <li>\u786e\u8ba4 <code>allowed_user_ids</code> \u5305\u542b\u4f60\u7684 Telegram user ID</li> <li>\u67e5\u770b\u7ec8\u7aef\u8f93\u51fa\u7684\u65e5\u5fd7\u4fe1\u606f</li> </ol>"},{"location":"zh/faq/#ollama_1","title":"\u5982\u4f55\u53ea\u7528\u4e91\u7aef\u4e0d\u7528 Ollama","text":"<p>\u5c06 <code>llm_provider</code> \u6539\u4e3a <code>\"openai\"</code>\uff0c\u586b\u5165 API Key\uff0c\u5c06 <code>embedding.enabled</code> \u8bbe\u4e3a <code>false</code>\u3002</p>"},{"location":"zh/about/contact/","title":"\u8054\u7cfb\u65b9\u5f0f","text":"<ul> <li>X (Twitter): @JKRiverse</li> <li>Discord: \u52a0\u5165</li> <li>Email: mailwangjk@gmail.com</li> <li>GitHub: wangjiake/JKRiver</li> </ul>"},{"location":"zh/about/license/","title":"\u8bb8\u53ef\u8bc1","text":"<p>\u672c\u9879\u76ee\u91c7\u7528\u53cc\u534f\u8bae\u6388\u6743\uff1a</p> \u7528\u9014 \u534f\u8bae \u8bf4\u660e \u4e2a\u4eba\u4f7f\u7528 / \u5f00\u6e90\u9879\u76ee AGPL-3.0 \u514d\u8d39\u4f7f\u7528\uff0c\u4fee\u6539\u540e\u5fc5\u987b\u5f00\u6e90 \u5546\u4e1a\u4f7f\u7528 / \u95ed\u6e90\u96c6\u6210 \u5546\u4e1a\u6388\u6743 \u8054\u7cfb mailwangjk@gmail.com <p>\u7b80\u5355\u6765\u8bf4\uff1a\u4e2a\u4eba\u5b66\u4e60\u3001\u7814\u7a76\u3001\u5f00\u6e90\u8d21\u732e\u968f\u4fbf\u7528\uff1b\u60f3\u95ed\u6e90\u5546\u7528\u6216\u505a\u6210 SaaS \u5356\u94b1\uff0c\u9700\u8981\u5546\u4e1a\u6388\u6743\u3002</p>"},{"location":"zh/development/api/","title":"REST API \u53c2\u8003","text":"<p>\u542f\u52a8 API \u670d\u52a1\uff1a</p> <pre><code>uvicorn agent.api:app --host 0.0.0.0 --port 8400\n</code></pre>"},{"location":"zh/development/api/#_1","title":"\u7aef\u70b9\u5217\u8868","text":"\u7aef\u70b9 \u65b9\u6cd5 \u8bf4\u660e <code>/chat</code> POST \u53d1\u9001\u6d88\u606f\uff0c\u83b7\u53d6\u56de\u590d <code>/session/new</code> POST \u521b\u5efa\u65b0\u4f1a\u8bdd <code>/sleep</code> POST \u89e6\u53d1\u8bb0\u5fc6\u6574\u7406 <code>/profile</code> GET \u83b7\u53d6\u5f53\u524d\u753b\u50cf <code>/hypotheses</code> GET \u83b7\u53d6\u6240\u6709\u5047\u8bbe <code>/sessions</code> GET \u5217\u51fa\u6d3b\u8dc3\u4f1a\u8bdd <code>/ws/chat</code> WebSocket \u5b9e\u65f6\u5bf9\u8bdd"},{"location":"zh/development/api/#post-chat","title":"POST /chat","text":"<p>\u53d1\u9001\u6d88\u606f\u5e76\u63a5\u6536\u56de\u590d\u3002</p> <pre><code>curl -X POST http://localhost:8400/chat \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"message\": \"\u4f60\u597d\uff0c\u5f88\u9ad8\u5174\u8ba4\u8bc6\u4f60\uff01\"}'\n</code></pre>"},{"location":"zh/development/api/#post-sessionnew","title":"POST /session/new","text":"<p>\u521b\u5efa\u65b0\u7684\u5bf9\u8bdd\u4f1a\u8bdd\u3002</p> <pre><code>curl -X POST http://localhost:8400/session/new\n</code></pre>"},{"location":"zh/development/api/#post-sleep","title":"POST /sleep","text":"<p>\u89e6\u53d1\u79bb\u7ebf\u8bb0\u5fc6\u6574\u7406\uff08Sleep\uff09\u3002</p> <pre><code>curl -X POST http://localhost:8400/sleep\n</code></pre>"},{"location":"zh/development/api/#get-profile","title":"GET /profile","text":"<p>\u83b7\u53d6\u4ece\u5bf9\u8bdd\u4e2d\u6784\u5efa\u7684\u7528\u6237\u753b\u50cf\u3002</p> <pre><code>curl http://localhost:8400/profile\n</code></pre>"},{"location":"zh/development/api/#get-hypotheses","title":"GET /hypotheses","text":"<p>\u5217\u51fa\u7cfb\u7edf\u5bf9\u7528\u6237\u5f62\u6210\u7684\u6240\u6709\u5047\u8bbe\u3002</p> <pre><code>curl http://localhost:8400/hypotheses\n</code></pre>"},{"location":"zh/development/api/#get-sessions","title":"GET /sessions","text":"<p>\u5217\u51fa\u6240\u6709\u6d3b\u8dc3\u7684\u5bf9\u8bdd\u4f1a\u8bdd\u3002</p> <pre><code>curl http://localhost:8400/sessions\n</code></pre>"},{"location":"zh/development/api/#websocket-wschat","title":"WebSocket /ws/chat","text":"<p>\u8fde\u63a5\u8fdb\u884c\u5b9e\u65f6\u53cc\u5411\u5bf9\u8bdd\u3002</p> <pre><code>const ws = new WebSocket(\"ws://localhost:8400/ws/chat\");\nws.onmessage = (event) =&gt; console.log(event.data);\nws.send(JSON.stringify({ message: \"\u4f60\u597d\uff01\" }));\n</code></pre>"},{"location":"zh/development/custom-skill/","title":"\u81ea\u5b9a\u4e49\u6280\u80fd\u5f00\u53d1","text":"<p>\u6280\u80fd\u662f YAML \u5b9a\u4e49\u7684\u884c\u4e3a\u6269\u5c55\uff0c\u53ef\u4ee5\u6309\u5173\u952e\u8bcd\u89e6\u53d1\u6216\u5b9a\u65f6\u6267\u884c\u3002</p>"},{"location":"zh/development/custom-skill/#_2","title":"\u6280\u80fd\u6587\u4ef6\u4f4d\u7f6e","text":"<p>\u5c06 <code>.yaml</code> \u6587\u4ef6\u653e\u5165 <code>agent/skills/</code> \u76ee\u5f55\uff0c\u542f\u52a8\u65f6\u81ea\u52a8\u52a0\u8f7d\u3002</p>"},{"location":"zh/development/custom-skill/#_3","title":"\u6280\u80fd\u7c7b\u578b","text":""},{"location":"zh/development/custom-skill/#_4","title":"\u6307\u4ee4\u578b\u6280\u80fd\uff08\u5173\u952e\u8bcd\u89e6\u53d1\uff09","text":"<p>\u89e6\u53d1\u65f6\u4e3a LLM \u63d0\u4f9b\u6307\u4ee4\u7684\u7b80\u5355\u6280\u80fd\uff1a</p> <pre><code>name: explain_code\ndescription: \u7528\u6237\u53d1\u4ee3\u7801\u65f6\u81ea\u52a8\u63d0\u4f9b\u9010\u884c\u89e3\u91ca\ntrigger:\n  type: keyword\n  keywords: [\"\u89e3\u91ca\u4ee3\u7801\", \"explain code\"]\ninstruction: |\n  \u7528\u6237\u5e0c\u671b\u4f60\u89e3\u91ca\u4ee3\u7801\u3002\u8bf7\uff1a\n  1. \u5148\u7528\u4e00\u53e5\u8bdd\u6982\u62ec\u8fd9\u6bb5\u4ee3\u7801\u7684\u529f\u80fd\n  2. \u9010\u884c\u6216\u9010\u5757\u89e3\u91ca\u5173\u952e\u903b\u8f91\n  3. \u6307\u51fa\u53ef\u80fd\u7684\u6539\u8fdb\u70b9\nenabled: true\n</code></pre>"},{"location":"zh/development/custom-skill/#_5","title":"\u5de5\u4f5c\u6d41\u6280\u80fd\uff08\u5b9a\u65f6\u89e6\u53d1\uff09","text":"<p>\u6309 cron \u5b9a\u65f6\u6267\u884c\u7684\u6280\u80fd\uff1a</p> <pre><code>name: weekly_summary\ndescription: \u6bcf\u5468\u65e5\u665a\u4e0a\u53d1\u9001\u6e29\u99a8\u5468\u672b\u95ee\u5019\ntrigger:\n  type: schedule\n  cron: \"0 20 * * 0\"            # \u6bcf\u5468\u65e5 20:00\nsteps:\n  - respond: |\n      \u5199\u4e00\u6761\u7b80\u77ed\u6e29\u99a8\u7684\u5468\u672b\u95ee\u5019\u3002\nenabled: true\n</code></pre>"},{"location":"zh/development/custom-skill/#_6","title":"\u5b57\u6bb5\u53c2\u8003","text":"\u5b57\u6bb5 \u5fc5\u586b \u8bf4\u660e <code>name</code> \u662f \u6280\u80fd\u7684\u552f\u4e00\u6807\u8bc6 <code>description</code> \u662f \u6280\u80fd\u529f\u80fd\u63cf\u8ff0\uff08\u5e2e\u52a9 LLM \u5224\u65ad\u4f55\u65f6\u4f7f\u7528\uff09 <code>trigger.type</code> \u662f <code>keyword</code> \u6216 <code>schedule</code> <code>trigger.keywords</code> \u5173\u952e\u8bcd\u7c7b\u578b\u65f6 \u89e6\u53d1\u77ed\u8bed\u5217\u8868 <code>trigger.cron</code> \u5b9a\u65f6\u7c7b\u578b\u65f6 cron \u8868\u8fbe\u5f0f <code>instruction</code> \u5173\u952e\u8bcd\u7c7b\u578b\u65f6 LLM \u7684\u6307\u4ee4 <code>steps</code> \u5b9a\u65f6\u7c7b\u578b\u65f6 \u8981\u6267\u884c\u7684\u64cd\u4f5c\u5217\u8868 <code>enabled</code> \u662f <code>true</code> / <code>false</code>"},{"location":"zh/development/custom-skill/#_7","title":"\u5bf9\u8bdd\u4e2d\u521b\u5efa\u6280\u80fd","text":"<p>\u76f4\u63a5\u5bf9 Bot \u8bf4\u5373\u53ef\uff1a</p> <p>\"\u521b\u5efa\u4e00\u4e2a\u6280\u80fd\uff0c\u6bcf\u4e24\u5c0f\u65f6\u63d0\u9192\u6211\u559d\u6c34\"</p> <p>\"\u5e2e\u6211\u505a\u4e00\u4e2a\u6280\u80fd\uff0c\u6bcf\u5929\u665a\u4e0a 9 \u70b9\u603b\u7ed3\u6211\u7684\u4e00\u5929\"</p> <p>Bot \u4f1a\u81ea\u52a8\u751f\u6210 YAML \u5e76\u4fdd\u5b58\u5230 <code>agent/skills/</code>\u3002</p> <p>Tip</p> <p>\u5bf9\u4e8e Telegram \u5b9a\u65f6\u6280\u80fd\uff0c\u9700\u8981\u5b89\u88c5 job queue \u6269\u5c55\uff1a<code>pip install \"python-telegram-bot[job-queue]\"</code></p>"},{"location":"zh/development/custom-tool/","title":"\u81ea\u5b9a\u4e49\u5de5\u5177\u5f00\u53d1","text":"<p>Riverse \u91c7\u7528\u5373\u63d2\u5373\u7528\u7684\u5de5\u5177\u7cfb\u7edf\u3002\u53ea\u9700\u5728 <code>agent/tools/</code> \u76ee\u5f55\u4e0b\u521b\u5efa\u4e00\u4e2a <code>.py</code> \u6587\u4ef6\u5373\u53ef\u6dfb\u52a0\u65b0\u5de5\u5177\uff0c\u65e0\u9700\u989d\u5916\u6ce8\u518c\u3002</p>"},{"location":"zh/development/custom-tool/#_2","title":"\u63a5\u53e3","text":"<p>\u6bcf\u4e2a\u5de5\u5177\u7ee7\u627f <code>BaseTool</code>\uff0c\u5b9e\u73b0\u4e24\u4e2a\u65b9\u6cd5\uff1a</p> <pre><code>from agent.tools import BaseTool, ToolManifest, ToolResult\n\nclass MyTool(BaseTool):\n\n    def __init__(self, config: dict):\n        self.config = config\n\n    def manifest(self) -&gt; ToolManifest:\n        return ToolManifest(\n            name=\"my_tool\",                          # \u552f\u4e00\u6807\u8bc6\n            description=\"\u4f9b LLM \u5224\u65ad\u4f55\u65f6\u4f7f\u7528\u8be5\u5de5\u5177\u7684\u4e00\u53e5\u8bdd\u63cf\u8ff0\",\n            parameters={\n                \"param_name\": \"\u53c2\u6570\u542b\u4e49\u8bf4\u660e\",\n            },\n            examples=[\n                \"\u81ea\u7136\u8bed\u8a00\u89e6\u53d1\u793a\u4f8b 1\",\n                \"\u81ea\u7136\u8bed\u8a00\u89e6\u53d1\u793a\u4f8b 2\",\n            ],\n        )\n\n    def execute(self, params: dict) -&gt; ToolResult:\n        value = params.get(\"param_name\", \"\")\n\n        # \u5728\u8fd9\u91cc\u5b9e\u73b0\u4f60\u7684\u903b\u8f91...\n        result = f\"\u5904\u7406\u7ed3\u679c: {value}\"\n\n        return ToolResult(success=True, data=result)\n</code></pre>"},{"location":"zh/development/custom-tool/#toolmanifest","title":"ToolManifest","text":"\u5b57\u6bb5 \u7528\u9014 <code>name</code> \u552f\u4e00\u6807\u8bc6\u7b26\uff0cLLM \u901a\u8fc7\u6b64\u540d\u79f0\u8c03\u7528\u5de5\u5177\u3002 <code>description</code> \u4e00\u53e5\u8bdd\u63cf\u8ff0\uff0cLLM \u636e\u6b64\u5224\u65ad\u4f55\u65f6\u4f7f\u7528\u8be5\u5de5\u5177\u3002 <code>parameters</code> <code>{\u53c2\u6570\u540d: \u8bf4\u660e}</code> \u5b57\u5178\uff0cLLM \u4f1a\u81ea\u52a8\u586b\u5165\u53c2\u6570\u503c\u3002 <code>examples</code> 2-3 \u4e2a\u4f1a\u89e6\u53d1\u8be5\u5de5\u5177\u7684\u81ea\u7136\u8bed\u8a00\u793a\u4f8b\u3002"},{"location":"zh/development/custom-tool/#toolresult","title":"ToolResult","text":"\u5b57\u6bb5 \u7528\u9014 <code>success</code> <code>True</code> / <code>False</code> <code>data</code> \u5b57\u7b26\u4e32\uff0c\u4f5c\u4e3a\u53c2\u8003\u4fe1\u606f\u6ce8\u5165 LLM \u4e0a\u4e0b\u6587\u3002 <code>error</code> \u9519\u8bef\u4fe1\u606f\uff08\u4ec5\u5728 <code>success=False</code> \u65f6\u4f7f\u7528\uff09\u3002"},{"location":"zh/development/custom-tool/#is_available","title":"\u53ef\u9009\uff1a<code>is_available()</code>","text":"<p>\u91cd\u5199\u6b64\u65b9\u6cd5\u53ef\u5728\u4f9d\u8d56\u7f3a\u5931\u65f6\u7981\u7528\u5de5\u5177\uff1a</p> <pre><code>def is_available(self) -&gt; bool:\n    return self.config.get(\"tools\", {}).get(\"my_tool\", {}).get(\"enabled\", True)\n</code></pre>"},{"location":"zh/development/custom-tool/#_3","title":"\u793a\u4f8b\uff1a\u5929\u6c14\u67e5\u8be2\u5de5\u5177","text":"<pre><code>import requests\nfrom agent.tools import BaseTool, ToolManifest, ToolResult\n\nclass WeatherTool(BaseTool):\n\n    def __init__(self, config: dict):\n        self.config = config\n\n    def manifest(self) -&gt; ToolManifest:\n        return ToolManifest(\n            name=\"weather\",\n            description=\"\u67e5\u8be2\u6307\u5b9a\u57ce\u5e02\u7684\u5f53\u524d\u5929\u6c14\",\n            parameters={\"city\": \"\u57ce\u5e02\u540d\uff0c\u4f8b\u5982 \u4e1c\u4eac\u3001\u4f26\u6566\"},\n            examples=[\"\u4e1c\u4eac\u4eca\u5929\u5929\u6c14\u600e\u4e48\u6837\uff1f\", \"\u4f26\u6566\u5728\u4e0b\u96e8\u5417\uff1f\"],\n        )\n\n    def execute(self, params: dict) -&gt; ToolResult:\n        city = params.get(\"city\", \"\").strip()\n        if not city:\n            return ToolResult(success=False, data=\"\", error=\"\u7f3a\u5c11\u57ce\u5e02\u540d\")\n\n        try:\n            r = requests.get(f\"https://wttr.in/{city}?format=j1\", timeout=10)\n            data = r.json()[\"current_condition\"][0]\n            summary = f\"{city}: {data['temp_C']}\u00b0C, {data['weatherDesc'][0]['value']}\"\n            return ToolResult(success=True, data=summary)\n        except Exception as e:\n            return ToolResult(success=False, data=\"\", error=str(e))\n</code></pre> <p>\u4fdd\u5b58\u4e3a <code>agent/tools/weather.py</code>\uff0c\u4e0b\u6b21\u542f\u52a8\u5373\u53ef\u4f7f\u7528\u3002</p>"},{"location":"zh/development/custom-tool/#_4","title":"\u5de5\u4f5c\u539f\u7406","text":"<ol> <li>\u542f\u52a8\u65f6\uff0c<code>ToolRegistry</code> \u626b\u63cf <code>agent/tools/</code> \u4e0b\u6240\u6709 <code>.py</code> \u6587\u4ef6\uff08\u8df3\u8fc7 <code>_</code> \u5f00\u5934\u7684\u6587\u4ef6\uff09\u3002</li> <li>\u5bf9\u6bcf\u4e2a <code>BaseTool</code> \u5b50\u7c7b\u8c03\u7528 <code>is_available()</code>\u3002</li> <li>\u53ef\u7528\u7684\u5de5\u5177\u6309 <code>manifest().name</code> \u6ce8\u518c\u3002</li> <li>\u7528\u6237\u53d1\u9001\u6d88\u606f\u65f6\uff0cLLM \u4f1a\u770b\u5230\u6240\u6709\u5de5\u5177\u7684 manifest\uff0c\u51b3\u5b9a\u8c03\u7528\u54ea\u4e2a\u3002</li> <li>\u5de5\u5177\u7684 <code>execute()</code> \u7ed3\u679c\u4f1a\u6ce8\u5165 LLM \u4e0a\u4e0b\u6587\uff0c\u7528\u4e8e\u751f\u6210\u6700\u7ec8\u56de\u590d\u3002</li> </ol>"},{"location":"zh/features/agents/","title":"\u5916\u90e8 Agent","text":"<p>\u901a\u8fc7\u7f16\u8f91 <code>agent/config/agents_zh.yaml</code> \u63a5\u5165\u5916\u90e8\u670d\u52a1\u3002LLM \u4f1a\u81ea\u52a8\u5224\u65ad\u4f55\u65f6\u8c03\u7528\u3002</p>"},{"location":"zh/features/agents/#_1","title":"\u5185\u7f6e\u6a21\u677f","text":"Agent \u7c7b\u578b \u8bf4\u660e \u9ed8\u8ba4\u72b6\u6001 weather_query HTTP wttr.in \u5929\u6c14\u67e5\u8be2 \u542f\u7528 home_lights HTTP Home Assistant \u706f\u63a7 \u7981\u7528 home_status HTTP Home Assistant \u8bbe\u5907\u72b6\u6001 \u7981\u7528 n8n_email HTTP n8n \u53d1\u9001\u90ae\u4ef6 \u7981\u7528 n8n_workflow HTTP n8n \u901a\u7528\u5de5\u4f5c\u6d41 \u7981\u7528 dify_agent HTTP Dify \u5b50 Agent \u7981\u7528 backup_notes Command \u672c\u5730\u5907\u4efd\u811a\u672c \u7981\u7528 system_info Command \u67e5\u770b\u7cfb\u7edf\u4fe1\u606f \u7981\u7528"},{"location":"zh/features/agents/#agent_1","title":"\u542f\u7528 Agent","text":"<p>\u5c06 <code>enabled</code> \u6539\u4e3a <code>true</code> \u5e76\u586b\u5165\u5730\u5740/Token\uff1a</p> <pre><code>- name: home_lights\n  type: http\n  enabled: true\n  url: \"http://your-home-assistant:8123/api/services/light/toggle\"\n  headers:\n    Authorization: \"Bearer YOUR_TOKEN\"\n  description: \"\u901a\u8fc7 Home Assistant \u63a7\u5236\u706f\u5149\"\n</code></pre>"},{"location":"zh/features/agents/#agent_2","title":"Agent \u7c7b\u578b","text":""},{"location":"zh/features/agents/#http-agent","title":"HTTP Agent","text":"<p>\u5411\u5916\u90e8\u670d\u52a1\u53d1\u9001 HTTP \u8bf7\u6c42\uff08Home Assistant\u3001n8n\u3001Dify \u7b49\uff09\u3002</p>"},{"location":"zh/features/agents/#command-agent","title":"Command Agent","text":"<p>\u6267\u884c\u672c\u5730 shell \u547d\u4ee4\uff08\u5907\u4efd\u811a\u672c\u3001\u7cfb\u7edf\u67e5\u8be2\u7b49\uff09\u3002</p>"},{"location":"zh/features/agents/#_2","title":"\u591a\u8bed\u8a00\u914d\u7f6e","text":"<p>Agent \u914d\u7f6e\u6587\u4ef6\u652f\u6301\u591a\u8bed\u8a00\uff1a</p> <ul> <li><code>agent/config/agents_en.yaml</code> \u2014 \u82f1\u6587</li> <li><code>agent/config/agents_zh.yaml</code> \u2014 \u4e2d\u6587</li> <li><code>agent/config/agents_ja.yaml</code> \u2014 \u65e5\u6587</li> </ul> <p>\u4f7f\u7528\u54ea\u4e2a\u53d6\u51b3\u4e8e <code>settings.yaml</code> \u4e2d\u7684 <code>language</code> \u8bbe\u7f6e\u3002</p>"},{"location":"zh/features/mcp/","title":"MCP \u534f\u8bae","text":"<p>Riverse \u652f\u6301 Model Context Protocol (MCP)\uff0c\u53ef\u8fde\u63a5 Gmail \u7b49\u5916\u90e8 MCP Server\u3002</p>"},{"location":"zh/features/mcp/#_1","title":"\u914d\u7f6e","text":"<p>\u5728 <code>settings.yaml</code> \u4e2d\u542f\u7528 MCP \u5e76\u914d\u7f6e\u670d\u52a1\u5668\uff1a</p> <pre><code>mcp:\n  enabled: true\n  servers:\n    - name: \"gmail\"\n      command: \"npx\"\n      args: [\"-y\", \"@anthropic/mcp-gmail\"]\n</code></pre>"},{"location":"zh/features/mcp/#mcp_1","title":"\u4ec0\u4e48\u662f MCP\uff1f","text":"<p>Model Context Protocol \u662f\u4e00\u79cd\u5c06 AI \u6a21\u578b\u8fde\u63a5\u5230\u5916\u90e8\u6570\u636e\u6e90\u548c\u5de5\u5177\u7684\u6807\u51c6\u534f\u8bae\u3002\u5b83\u5141\u8bb8 Riverse \u4e0e\u4ee5\u4e0b\u670d\u52a1\u4ea4\u4e92\uff1a</p> <ul> <li>Gmail \u2014 \u9605\u8bfb\u548c\u53d1\u9001\u90ae\u4ef6</li> <li>\u5176\u4ed6 MCP \u517c\u5bb9\u670d\u52a1</li> </ul>"},{"location":"zh/features/mcp/#_2","title":"\u5de5\u4f5c\u539f\u7406","text":"<p>\u542f\u7528 MCP \u540e\uff0cRiverse \u5728\u542f\u52a8\u65f6\u8fde\u63a5\u5230\u914d\u7f6e\u7684 MCP \u670d\u52a1\u5668\u3002LLM \u5728\u5bf9\u8bdd\u4e2d\u53ef\u4ee5\u4f7f\u7528\u8fd9\u4e9b\u670d\u52a1\u5668\u63d0\u4f9b\u7684\u5de5\u5177\uff0c\u5c31\u50cf\u4f7f\u7528\u5185\u7f6e\u5de5\u5177\u4e00\u6837\u3002</p>"},{"location":"zh/features/memory/","title":"\u8bb0\u5fc6\u4e0e Sleep","text":""},{"location":"zh/features/memory/#_1","title":"\u6301\u4e45\u8bb0\u5fc6","text":"<p>Riverse \u8de8\u4f1a\u8bdd\u8bb0\u5fc6\uff0c\u6784\u5efa\u968f\u4f60\u6f14\u5316\u7684\u7528\u6237\u753b\u50cf\u3002\u6bcf\u4e00\u6b21\u5bf9\u8bdd\u90fd\u4f1a\u52a0\u6df1\u5bf9\u4f60\u6027\u683c\u3001\u504f\u597d\u3001\u7ecf\u5386\u548c\u4eba\u9645\u5173\u7cfb\u7684\u7406\u89e3\u3002</p> <p>\u8fd9\u7531\u6cb3\u6d41\u7b97\u6cd5\u9a71\u52a8 \u2014 \u5bf9\u8bdd\u50cf\u6c34\u6d41\uff0c\u5173\u952e\u4fe1\u606f\u50cf\u6cb3\u5e8a\u6ce5\u6c99\u4e00\u6837\u6c89\u6dc0\uff0c\u7ecf\u8fc7\u591a\u8f6e\u9a8c\u8bc1\u9010\u6b65\u4ece\"\u731c\u6d4b\"\u5347\u7ea7\u4e3a\"\u786e\u8ba4\"\u518d\u5230\"\u7a33\u56fa\"\u3002</p>"},{"location":"zh/features/memory/#sleep_1","title":"Sleep \u2014 \u79bb\u7ebf\u8bb0\u5fc6\u6574\u5408","text":"<p>Sleep \u662f Riverse \u6d88\u5316\u5bf9\u8bdd\u3001\u66f4\u65b0\u753b\u50cf\u7684\u8fc7\u7a0b\u3002\u652f\u6301\u81ea\u52a8\u89e6\u53d1\u548c\u624b\u52a8\u89e6\u53d1\uff1a</p> \u89e6\u53d1\u65b9\u5f0f \u8bf4\u660e Telegram \u53d1\u9001 <code>/new</code> \u2014 \u91cd\u7f6e\u4f1a\u8bdd\u5e76\u5728\u540e\u53f0\u8fd0\u884c Sleep CLI \u9000\u51fa\u65f6\u81ea\u52a8\u6267\u884c\uff08<code>quit</code> \u6216 Ctrl+C\uff09 REST API <code>POST /sleep</code> \u5b9a\u65f6\u4efb\u52a1\uff08\u63a8\u8350\uff09 \u7528 cron \u8bbe\u5b9a\u6bcf\u665a\u5b9a\u65f6\u8dd1\uff0c\u6574\u5408\u4e00\u5929\u7684\u5bf9\u8bdd"},{"location":"zh/features/memory/#cron","title":"cron \u793a\u4f8b","text":"<p>\u6bcf\u5929\u51cc\u6668 0 \u70b9\u8fd0\u884c Sleep\uff1a</p> <pre><code># crontab -e\n0 0 * * * cd /path/to/JKRiver &amp;&amp; /path/to/python -c \"from agent.sleep import run; run()\"\n</code></pre>"},{"location":"zh/features/memory/#_2","title":"\u8bed\u4e49\u641c\u7d22","text":"<p>\u5f00\u542f\u5411\u91cf\u5d4c\u5165\uff08BGE-M3\uff09\u540e\uff0cRiverse \u53ef\u4ee5\u6309\u8bed\u4e49\u800c\u975e\u5173\u952e\u8bcd\u68c0\u7d22\u76f8\u5173\u8bb0\u5fc6\u3002</p> <pre><code>embedding:\n  enabled: true\n  model: \"bge-m3\"\n  api_base: \"http://localhost:11434\"\n</code></pre>"},{"location":"zh/features/memory/#_3","title":"\u8bb0\u5fc6\u51c6\u786e\u6027","text":"<p>Info</p> <p>\u76ee\u524d\u6ca1\u6709\u4efb\u4f55 LLM \u662f\u4e13\u95e8\u4e3a\u4e2a\u4eba\u753b\u50cf\u63d0\u53d6\u8bad\u7ec3\u7684\uff0c\u63d0\u53d6\u7ed3\u679c\u53ef\u80fd\u5076\u5c14\u51fa\u73b0\u504f\u5dee\u3002\u53d1\u73b0\u4e0d\u51c6\u786e\u7684\u5185\u5bb9\u65f6\uff0c\u53ef\u4ee5\u5728 Web \u9762\u677f\u4e2d\u62d2\u7edd\u9519\u8bef\u8bb0\u5fc6\u6216\u5173\u95ed\u4e0d\u518d\u9002\u7528\u7684\u8bb0\u5fc6\u3002Riverse \u4e0d\u652f\u6301\u624b\u52a8\u7f16\u8f91\u8bb0\u5fc6\u5185\u5bb9 \u2014 \u9519\u8bef\u7684\u8bb0\u5fc6\u5c31\u50cf\u6cb3\u6d41\u4e2d\u7684\u6ce5\u6c99\uff0c\u5e94\u8be5\u88ab\u6c34\u6d41\u51b2\u8d70\uff0c\u800c\u4e0d\u662f\u4eba\u5de5\u96d5\u523b\u6cb3\u5e8a\u3002\u968f\u7740\u5bf9\u8bdd\u79ef\u7d2f\uff0c\u6cb3\u6d41\u7b97\u6cd5\u4f1a\u901a\u8fc7\u591a\u8f6e\u9a8c\u8bc1\u548c\u77db\u76fe\u68c0\u6d4b\u4e0d\u65ad\u81ea\u6211\u4fee\u6b63\uff0c\u753b\u50cf\u4f1a\u8d8a\u6765\u8d8a\u51c6\u786e\u3002</p>"},{"location":"zh/features/multi-channel/","title":"\u591a\u6e20\u9053\u63a5\u5165","text":"<p>Riverse \u652f\u6301\u591a\u79cd\u901a\u4fe1\u6e20\u9053\uff0c\u6240\u6709\u6e20\u9053\u5171\u4eab\u540c\u4e00\u4efd\u8bb0\u5fc6\u548c\u753b\u50cf\u3002</p>"},{"location":"zh/features/multi-channel/#_2","title":"\u652f\u6301\u7684\u6e20\u9053","text":"\u6e20\u9053 \u547d\u4ee4 \u8bf4\u660e CLI <code>python -m agent.main</code> \u7ec8\u7aef\u4ea4\u4e92\u6a21\u5f0f Telegram Bot <code>python -m agent.telegram_bot</code> \u652f\u6301\u6587\u672c\u3001\u8bed\u97f3\u3001\u56fe\u7247\u3001\u6587\u4ef6 Discord Bot <code>python -m agent.discord_bot</code> \u6587\u672c\u804a\u5929 REST API <code>uvicorn agent.api:app --host 0.0.0.0 --port 8400</code> HTTP \u7aef\u70b9 WebSocket \u5305\u542b\u5728 REST API \u4e2d \u5b9e\u65f6\u53cc\u5411\u5bf9\u8bdd Web \u4eea\u8868\u76d8 <code>python web.py</code> \u753b\u50cf\u67e5\u770b\u548c\u8bb0\u5fc6\u7ba1\u7406"},{"location":"zh/features/multi-channel/#telegram-bot","title":"Telegram Bot","text":"<p>\u63a8\u8350\u7684\u4e3b\u8981\u804a\u5929\u5165\u53e3 \u2014 \u652f\u6301\u591a\u6a21\u6001\u8f93\u5165\uff08\u6587\u672c\u3001\u8bed\u97f3\u3001\u56fe\u7247\u3001\u6587\u4ef6\uff09\u3002</p> <p>\u8bbe\u7f6e\uff1a</p> <ol> <li>\u901a\u8fc7 @BotFather \u521b\u5efa Bot\uff08<code>/newbot</code>\uff09</li> <li>\u4ece @userinfobot \u83b7\u53d6\u4f60\u7684 User ID</li> <li>\u5728 <code>settings.yaml</code> \u4e2d\u914d\u7f6e\uff1a</li> </ol> <pre><code>telegram:\n  bot_token: \"123456:ABC-DEF...\"\n  temp_dir: \"tmp/telegram\"\n  allowed_user_ids: [your_user_id]\n</code></pre>"},{"location":"zh/features/multi-channel/#discord-bot","title":"Discord Bot","text":"<ol> <li>\u5728 Discord Developer Portal \u521b\u5efa\u5e94\u7528</li> <li>\u5728 Bot \u9875\u9762\u5f00\u542f Message Content Intent</li> <li>\u7528 OAuth2 URL \u9080\u8bf7 Bot \u5230\u670d\u52a1\u5668</li> </ol> <pre><code>discord:\n  bot_token: \"your-discord-bot-token\"\n  allowed_user_ids: []           # \u7a7a = \u5141\u8bb8\u6240\u6709\u4eba\n</code></pre>"},{"location":"zh/features/multi-channel/#web","title":"Web \u4eea\u8868\u76d8","text":"<pre><code>python web.py                          # \u9ed8\u8ba4\u7aef\u53e3 1234\npython web.py --port 8401              # \u6307\u5b9a\u7aef\u53e3\n</code></pre> <p>\u4eea\u8868\u76d8\u529f\u80fd\uff1a</p> <ul> <li>\u753b\u50cf\u603b\u89c8\uff08\u5206\u7c7b\u3001\u65f6\u95f4\u7ebf\u3001\u786e\u8ba4/\u5f85\u786e\u8ba4\u72b6\u6001\uff09</li> <li>\u4eba\u9645\u5173\u7cfb\u56fe</li> <li>\u4eba\u7269\u8f68\u8ff9\u5206\u6790</li> <li>\u89c2\u5bdf\u8bb0\u5f55</li> <li>\u4eba\u5de5\u5ba1\u6838\uff08\u7f16\u8f91\u3001\u786e\u8ba4\u3001\u9a73\u56de\u3001\u89e3\u51b3\u77db\u76fe\uff09</li> <li>\u8d22\u52a1\u6570\u636e\u3001\u5065\u5eb7\u6570\u636e</li> </ul>"},{"location":"zh/features/proactive/","title":"\u4e3b\u52a8\u5173\u6000","text":"<p>Riverse \u53ef\u4ee5\u4e3b\u52a8\u8054\u7cfb\u4f60 \u2014 \u8ddf\u8fdb\u91cd\u8981\u4e8b\u4ef6\u3001\u7a7a\u95f2\u95ee\u5019\u3001\u7b56\u7565\u63d0\u9192\u3002</p>"},{"location":"zh/features/proactive/#_2","title":"\u914d\u7f6e","text":"<pre><code>proactive:\n  enabled: true\n  scan_interval_minutes: 30       # \u626b\u63cf\u95f4\u9694\uff08\u5206\u949f\uff09\n  quiet_hours:\n    start: \"23:00\"\n    end: \"08:00\"\n  max_messages_per_day: 3         # \u6bcf\u5929\u6700\u591a\u63a8\u9001\u6761\u6570\n  min_gap_minutes: 120            # \u4e24\u6b21\u63a8\u9001\u6700\u5c0f\u95f4\u9694\uff08\u5206\u949f\uff09\n</code></pre>"},{"location":"zh/features/proactive/#_3","title":"\u89e6\u53d1\u7c7b\u578b","text":""},{"location":"zh/features/proactive/#_4","title":"\u4e8b\u4ef6\u8ddf\u8fdb","text":"<p>\u81ea\u52a8\u8ddf\u8fdb\u91cd\u8981\u4e8b\u4ef6\uff08\u4f8b\u5982\u4f60\u63d0\u5230\u7684\u9762\u8bd5\u3001\u65c5\u884c\u8ba1\u5212\u7b49\uff09\u3002</p> <pre><code>proactive:\n  triggers:\n    event_followup:\n      enabled: true\n      min_importance: 0.6         # \u6700\u4f4e\u91cd\u8981\u6027\u5206\u6570\uff080-1\uff09\n      followup_after_hours: 24    # \u4e8b\u4ef6\u53d1\u751f\u540e\u7b49\u5f85\u591a\u4e45\u518d\u8ddf\u8fdb\n      max_age_days: 7             # \u8d85\u8fc7\u6b64\u5929\u6570\u7684\u4e8b\u4ef6\u4e0d\u518d\u8ddf\u8fdb\n</code></pre>"},{"location":"zh/features/proactive/#_5","title":"\u7b56\u7565\u63a8\u9001","text":"<p>\u57fa\u4e8e\u753b\u50cf\u7b56\u7565\u6d1e\u5bdf\u89e6\u53d1\u4e3b\u52a8\u6d88\u606f \u2014 \u4f8b\u5982\u6839\u636e\u5bf9\u8bdd\u4e2d\u53d1\u73b0\u7684\u6a21\u5f0f\u5efa\u8bae\u884c\u52a8\u3002</p> <pre><code>proactive:\n  triggers:\n    strategy:\n      enabled: true\n</code></pre>"},{"location":"zh/features/proactive/#_6","title":"\u7a7a\u95f2\u95ee\u5019","text":"<p>\u4e00\u6bb5\u65f6\u95f4\u6ca1\u804a\u5929\u65f6\u53d1\u9001\u53cb\u597d\u6d88\u606f\u3002</p> <pre><code>proactive:\n  triggers:\n    idle_checkin:\n      enabled: true\n      idle_hours: 48              # \u9759\u9ed8\u8d85\u8fc7\u6b64\u5c0f\u65f6\u6570\u540e\u89e6\u53d1\n</code></pre>"},{"location":"zh/features/proactive/#_7","title":"\u5de5\u4f5c\u539f\u7406","text":"<p>\u4e3b\u52a8\u7cfb\u7edf\u6309 <code>scan_interval_minutes</code> \u95f4\u9694\u5b9a\u671f\u626b\u63cf\u3002\u6bcf\u6b21\u626b\u63cf\uff1a</p> <ol> <li>\u68c0\u67e5\u662f\u5426\u5728\u9759\u9ed8\u65f6\u6bb5 \u2014 \u5982\u679c\u662f\u5219\u8df3\u8fc7</li> <li>\u68c0\u67e5\u9891\u7387\u9650\u5236\uff08<code>max_messages_per_day</code>\u3001<code>min_gap_minutes</code>\uff09</li> <li>\u4f9d\u6b21\u8bc4\u4f30\u6bcf\u79cd\u89e6\u53d1\u7c7b\u578b</li> <li>\u5982\u679c\u89e6\u53d1\u6761\u4ef6\u6ee1\u8db3\uff0c\u4f7f\u7528\u4e0e\u666e\u901a\u5bf9\u8bdd\u76f8\u540c\u7684\u8bb0\u5fc6\u548c\u8ba4\u77e5\u7cfb\u7edf\u751f\u6210\u4e0a\u4e0b\u6587\u76f8\u5173\u7684\u6d88\u606f</li> </ol>"},{"location":"zh/features/skills/","title":"\u6280\u80fd\u7cfb\u7edf","text":"<p>\u7528\u7b80\u5355\u7684 YAML \u6587\u4ef6\u521b\u5efa\u81ea\u5b9a\u4e49\u884c\u4e3a \u2014 \u6309\u5173\u952e\u8bcd\u6216 cron \u5b9a\u65f6\u89e6\u53d1\u3002</p>"},{"location":"zh/features/skills/#_2","title":"\u521b\u5efa\u6280\u80fd","text":"<p>\u5728 <code>agent/skills/</code> \u76ee\u5f55\u4e0b\u521b\u5efa <code>.yaml</code> \u6587\u4ef6\u5373\u53ef\u5b9a\u4e49\u6280\u80fd\u3002</p>"},{"location":"zh/features/skills/#_3","title":"\u5173\u952e\u8bcd\u89e6\u53d1","text":"<pre><code>name: explain_code\ndescription: \u7528\u6237\u53d1\u4ee3\u7801\u65f6\u81ea\u52a8\u63d0\u4f9b\u9010\u884c\u89e3\u91ca\ntrigger:\n  type: keyword\n  keywords: [\"\u89e3\u91ca\u4ee3\u7801\", \"explain code\"]\ninstruction: |\n  \u7528\u6237\u5e0c\u671b\u4f60\u89e3\u91ca\u4ee3\u7801\u3002\u8bf7\uff1a\n  1. \u5148\u7528\u4e00\u53e5\u8bdd\u6982\u62ec\u8fd9\u6bb5\u4ee3\u7801\u7684\u529f\u80fd\n  2. \u9010\u884c\u6216\u9010\u5757\u89e3\u91ca\u5173\u952e\u903b\u8f91\n  3. \u6307\u51fa\u53ef\u80fd\u7684\u6539\u8fdb\u70b9\nenabled: true\n</code></pre>"},{"location":"zh/features/skills/#_4","title":"\u5b9a\u65f6\u89e6\u53d1","text":"<pre><code>name: weekly_summary\ndescription: \u6bcf\u5468\u65e5\u665a\u4e0a\u53d1\u9001\u6e29\u99a8\u5468\u672b\u95ee\u5019\ntrigger:\n  type: schedule\n  cron: \"0 20 * * 0\"            # \u6bcf\u5468\u65e5 20:00\nsteps:\n  - respond: |\n      \u5199\u4e00\u6761\u7b80\u77ed\u6e29\u99a8\u7684\u5468\u672b\u95ee\u5019\u3002\nenabled: true\n</code></pre>"},{"location":"zh/features/skills/#_5","title":"\u5bf9\u8bdd\u4e2d\u521b\u5efa\u6280\u80fd","text":"<p>\u76f4\u63a5\u5bf9 Bot \u8bf4\"\u521b\u5efa\u4e00\u4e2a\u6280\u80fd...\"\u6216\"\u5e2e\u6211\u505a\u4e00\u4e2a\u5b9a\u65f6\u63d0\u9192...\"\uff0cBot \u4f1a\u81ea\u52a8\u751f\u6210 YAML \u5e76\u4fdd\u5b58\u3002</p>"},{"location":"zh/features/skills/#_6","title":"\u81ea\u5b9a\u4e49\u6280\u80fd\u5f00\u53d1","text":"<p>\u66f4\u591a\u8be6\u60c5\u53c2\u89c1\u81ea\u5b9a\u4e49\u6280\u80fd\u5f00\u53d1\u6307\u5357\u3002</p>"},{"location":"zh/features/tools/","title":"\u5185\u7f6e\u5de5\u5177","text":"<p>Riverse \u5305\u542b\u53ef\u63d2\u62d4\u7684\u5de5\u5177\u7cfb\u7edf\u3002LLM \u4f1a\u6839\u636e\u5bf9\u8bdd\u4e0a\u4e0b\u6587\u81ea\u52a8\u5224\u65ad\u4f55\u65f6\u8c03\u7528\u5de5\u5177\u3002</p>"},{"location":"zh/features/tools/#_2","title":"\u53ef\u7528\u5de5\u5177","text":"\u5de5\u5177 \u8bf4\u660e \u7f51\u9875\u641c\u7d22 \u641c\u7d22\u7f51\u9875\u83b7\u53d6\u6700\u65b0\u4fe1\u606f\uff08\u4f7f\u7528 cloud LLM \u4e2d <code>search: true</code> \u7684\u6a21\u578b\uff09 \u56fe\u50cf\u7406\u89e3 \u901a\u8fc7 GPT-4 Vision / Ollama LLaVA \u5206\u6790\u56fe\u7247 \u8bed\u97f3\u8bc6\u522b \u901a\u8fc7 OpenAI Whisper-1 \u8bed\u97f3\u8f6c\u6587\u5b57 TTS \u901a\u8fc7 Edge TTS \u6587\u5b57\u8f6c\u8bed\u97f3 \u6587\u4ef6\u8bfb\u53d6 \u8bfb\u53d6\u672c\u5730\u6587\u672c\u6587\u4ef6\uff08.txt, .py, .yaml, .json, .md\uff09 Shell \u547d\u4ee4 \u6267\u884c\u5b89\u5168\u7684 Shell \u547d\u4ee4\uff08\u767d\u540d\u5355\u673a\u5236\uff0c\u9ed8\u8ba4\u5173\u95ed\uff09 \u8d22\u52a1\u8ffd\u8e2a \u8ffd\u8e2a\u548c\u5206\u6790\u8d22\u52a1\u6570\u636e \u5065\u5eb7\u540c\u6b65 \u4ece Withings \u8bbe\u5907\u540c\u6b65\u5065\u5eb7\u6570\u636e"},{"location":"zh/features/tools/#_3","title":"\u914d\u7f6e","text":"<pre><code>tools:\n  enabled: true\n  shell_exec:\n    enabled: false               # \u5b89\u5168\u8003\u8651\u9ed8\u8ba4\u7981\u7528\n</code></pre>"},{"location":"zh/features/tools/#_4","title":"\u5de5\u4f5c\u539f\u7406","text":"<ol> <li>\u542f\u52a8\u65f6\uff0c<code>ToolRegistry</code> \u626b\u63cf <code>agent/tools/</code> \u4e0b\u6240\u6709 <code>.py</code> \u6587\u4ef6\uff08\u8df3\u8fc7 <code>_</code> \u5f00\u5934\u7684\u6587\u4ef6\uff09</li> <li>\u5bf9\u6bcf\u4e2a <code>BaseTool</code> \u5b50\u7c7b\u8c03\u7528 <code>is_available()</code></li> <li>\u53ef\u7528\u7684\u5de5\u5177\u6309 <code>manifest().name</code> \u6ce8\u518c</li> <li>\u7528\u6237\u53d1\u9001\u6d88\u606f\u65f6\uff0cLLM \u4f1a\u770b\u5230\u6240\u6709\u5de5\u5177\u7684 manifest\uff0c\u51b3\u5b9a\u8c03\u7528\u54ea\u4e2a</li> <li>\u5de5\u5177\u7684 <code>execute()</code> \u7ed3\u679c\u4f1a\u6ce8\u5165 LLM \u4e0a\u4e0b\u6587\uff0c\u7528\u4e8e\u751f\u6210\u6700\u7ec8\u56de\u590d</li> </ol>"},{"location":"zh/features/tools/#_5","title":"\u81ea\u5b9a\u4e49\u5de5\u5177","text":"<p>\u4f60\u53ef\u4ee5\u901a\u8fc7\u5728 <code>agent/tools/</code> \u76ee\u5f55\u4e0b\u6dfb\u52a0 <code>.py</code> \u6587\u4ef6\u6765\u521b\u5efa\u81ea\u5df1\u7684\u5de5\u5177\u3002\u53c2\u89c1\u81ea\u5b9a\u4e49\u5de5\u5177\u5f00\u53d1\u6307\u5357\u3002</p>"},{"location":"zh/getting-started/configuration/","title":"\u914d\u7f6e","text":"<p>\u6240\u6709\u914d\u7f6e\u7edf\u4e00\u5728\u9879\u76ee\u6839\u76ee\u5f55\u7684 <code>settings.yaml</code> \u4e2d\u7ba1\u7406\u3002</p>"},{"location":"zh/getting-started/configuration/#_2","title":"\u6570\u636e\u5e93","text":"<pre><code>database:\n    name: \"Riverse\"\n    user: \"your_username\"     # \u2190 \u6539\u4e3a\u4f60\u7684 PostgreSQL \u7528\u6237\u540d\n    host: \"localhost\"\n</code></pre> <p>Tip</p> <p>macOS Homebrew \u5b89\u88c5\u7684 PostgreSQL \u7528\u6237\u540d\u901a\u5e38\u662f\u4f60\u7684\u7cfb\u7edf\u7528\u6237\u540d\uff08\u7ec8\u7aef\u6267\u884c <code>whoami</code> \u67e5\u770b\uff09\uff1bLinux/Windows \u5b89\u88c5\u901a\u5e38\u662f <code>postgres</code>\u3002</p>"},{"location":"zh/getting-started/configuration/#_3","title":"\u8bed\u8a00","text":"<pre><code>language: \"zh\"                  # zh / en / ja\n</code></pre>"},{"location":"zh/getting-started/configuration/#llm","title":"LLM \u914d\u7f6e","text":"\u672c\u5730 Ollama\uff08\u63a8\u8350\uff09\u7eaf\u4e91\u7aef\uff08\u4e0d\u9700\u8981 Ollama\uff09 <pre><code>ollama pull &lt;your-model&gt;         # \u4f8b\u5982 qwen2.5:14b, llama3, mistral\nollama pull bge-m3              # \u5411\u91cf\u5d4c\u5165\u6a21\u578b\uff08\u53ef\u9009\uff09\n</code></pre> <pre><code>llm_provider: \"local\"\n\nlocal:\n  model: \"your-model\"            # \u4f8b\u5982 qwen2.5:14b, llama3, mistral\n  api_base: \"http://localhost:11434\"\n  temperature: 0.7              # \u56de\u590d\u968f\u673a\u6027 0-1\n  max_tokens: 2048              # \u6700\u5927\u56de\u590d\u957f\u5ea6\n</code></pre> <pre><code>llm_provider: \"openai\"\n\nopenai:\n  model: \"gpt-4o-mini\"\n  api_base: \"https://api.openai.com\"\n  api_key: \"sk-your-openai-api-key\"\n  temperature: 0.7\n  max_tokens: 2048\n</code></pre> <p>Tip</p> <p><code>openai</code> \u914d\u7f6e\u652f\u6301\u6240\u6709 OpenAI \u517c\u5bb9\u63a5\u53e3\uff1aOpenAI / DeepSeek / Groq / \u672c\u5730 vLLM \u7b49\u3002\u53ea\u9700\u4fee\u6539 <code>api_base</code> \u548c <code>api_key</code>\u3002</p>"},{"location":"zh/getting-started/configuration/#llm_1","title":"\u4e91\u7aef LLM\uff08\u515c\u5e95 + \u7f51\u9875\u641c\u7d22\uff09","text":"<p>\u672c\u5730\u6a21\u578b\u56de\u7b54\u8d28\u91cf\u4e0d\u8db3\u65f6\u81ea\u52a8\u5347\u7ea7\u5230\u4e91\u7aef\u3002\u5373\u4f7f\u7528\u672c\u5730\u6a21\u578b\u4e5f\u5efa\u8bae\u914d\u7f6e\uff1a</p> <pre><code>cloud_llm:\n  enabled: true\n  providers:\n    - name: \"openai\"\n      model: \"gpt-4o\"\n      api_base: \"https://api.openai.com\"\n      api_key: \"sk-your-openai-api-key\"\n      search: true              # \u542f\u7528\u7f51\u9875\u641c\u7d22\u80fd\u529b\n      priority: 1\n    - name: \"deepseek\"\n      model: \"deepseek-chat\"\n      api_base: \"https://api.deepseek.com\"\n      api_key: \"sk-your-deepseek-key\"\n      priority: 2\n  escalation:\n    auto: true                    # \u81ea\u52a8\u5347\u7ea7\n    feedback: true                # \u5347\u7ea7\u540e\u544a\u77e5\u7528\u6237\n    min_response_length: 20       # \u56de\u590d\u5c11\u4e8e\u6b64\u5b57\u6570\u89c6\u4e3a\u4f4e\u8d28\u91cf\n    failure_keywords:             # \u5305\u542b\u8fd9\u4e9b\u5173\u952e\u8bcd\u89c6\u4e3a\u5931\u8d25\n      - \"\u6211\u4e0d\u786e\u5b9a\"\n      - \"\u6211\u65e0\u6cd5\"\n</code></pre>"},{"location":"zh/getting-started/configuration/#telegram-bot","title":"Telegram Bot","text":"<ol> <li>\u5728 Telegram \u627e @BotFather\uff0c\u53d1 <code>/newbot</code> \u521b\u5efa Bot\uff0c\u83b7\u53d6 Token</li> <li>\u83b7\u53d6\u4f60\u7684 user ID\uff08\u4e8c\u9009\u4e00\uff09\uff1a<ul> <li>\u7ed9 @userinfobot \u53d1\u4efb\u610f\u6d88\u606f\uff0c\u5b83\u4f1a\u56de\u590d\u4f60\u7684 ID</li> <li>\u6216\u7ed9 Bot \u53d1\u4e00\u6761\u6d88\u606f\uff0c\u7136\u540e\u8bbf\u95ee <code>https://api.telegram.org/bot&lt;TOKEN&gt;/getUpdates</code> \u67e5\u770b</li> </ul> </li> <li>\u586b\u5165\u914d\u7f6e\uff1a</li> </ol> <pre><code>telegram:\n  bot_token: \"123456:ABC-DEF...\"\n  temp_dir: \"tmp/telegram\"\n  allowed_user_ids: [your_user_id]  # \u53ea\u5141\u8bb8\u4f60\u81ea\u5df1\u4f7f\u7528\n</code></pre>"},{"location":"zh/getting-started/configuration/#discord-bot","title":"Discord Bot\uff08\u53ef\u9009\uff09","text":"<ol> <li>\u524d\u5f80 Discord Developer Portal \u521b\u5efa\u5e94\u7528</li> <li>\u5728 Bot \u9875\u9762\u83b7\u53d6 Token\uff0c\u5f00\u542f Message Content Intent</li> <li>\u7528 OAuth2 URL \u9080\u8bf7 Bot \u5230\u4f60\u7684\u670d\u52a1\u5668</li> </ol> <pre><code>discord:\n  bot_token: \"your-discord-bot-token\"\n  allowed_user_ids: []           # \u7a7a = \u5141\u8bb8\u6240\u6709\u4eba\uff1b\u586b ID \u5219\u9650\u5236\n</code></pre>"},{"location":"zh/getting-started/configuration/#_4","title":"\u5411\u91cf\u5d4c\u5165\uff08\u53ef\u9009\uff0c\u9ed8\u8ba4\u5173\u95ed\uff09","text":"<p>\u542f\u7528\u540e\u53ef\u6309\u8bed\u4e49\u641c\u7d22\u8bb0\u5fc6\uff08\u800c\u975e\u5173\u952e\u8bcd\u5339\u914d\uff09\u3002\u9700\u8981 Ollama \u8fd0\u884c bge-m3 \u6a21\u578b\uff1a</p> <pre><code>ollama pull bge-m3\n</code></pre> <pre><code>embedding:\n  enabled: true\n  model: \"bge-m3\"\n  api_base: \"http://localhost:11434\"\n</code></pre>"},{"location":"zh/getting-started/configuration/#_5","title":"\u5176\u4ed6\u53ef\u9009\u914d\u7f6e","text":"<pre><code># \u5de5\u5177\ntools:\n  enabled: true\n  shell_exec:\n    enabled: false               # \u5b89\u5168\u8003\u8651\u9ed8\u8ba4\u7981\u7528\n\n# TTS \u6587\u5b57\u8f6c\u8bed\u97f3\ntts:\n  enabled: false\n\n# MCP \u534f\u8bae\nmcp:\n  enabled: false\n  servers: []\n\n# \u4e3b\u52a8\u63a8\u9001\nproactive:\n  enabled: true\n  quiet_hours:\n    start: \"23:00\"\n    end: \"08:00\"\n</code></pre>"},{"location":"zh/getting-started/docker/","title":"Docker \u5feb\u901f\u4f53\u9a8c","text":"<p>\u4e0d\u60f3\u88c5 Python \u548c PostgreSQL\uff1f\u7528 Docker \u4e09\u6761\u547d\u4ee4\u5373\u53ef\u4f53\u9a8c Riverse\u3002</p>"},{"location":"zh/getting-started/docker/#_1","title":"\u5feb\u901f\u5f00\u59cb","text":"<p>\u8bbf\u95ee Riverse-Docker \u4ed3\u5e93\u83b7\u53d6\u5b8c\u6574\u8bf4\u660e\u3002</p> <p>\u652f\u6301\uff1a</p> <ul> <li>OpenAI</li> <li>DeepSeek</li> <li>Groq</li> <li>\u4efb\u4f55 OpenAI \u517c\u5bb9\u63a5\u53e3</li> </ul>"},{"location":"zh/getting-started/docker/#_2","title":"\u5305\u542b\u5185\u5bb9","text":"<p>Docker \u90e8\u7f72\u5305\u542b\uff1a</p> <ul> <li>Python \u8fd0\u884c\u65f6</li> <li>PostgreSQL \u6570\u636e\u5e93</li> <li>Riverse \u5e94\u7528</li> <li>\u6240\u6709\u4f9d\u8d56</li> </ul> <p>\u65e0\u9700\u624b\u52a8\u5b89\u88c5 Python\u3001PostgreSQL \u6216 Ollama \u2014 \u53ea\u9700\u63d0\u4f9b API Key \u5373\u53ef\u5f00\u59cb\u5bf9\u8bdd\u3002</p>"},{"location":"zh/getting-started/first-chat/","title":"\u7b2c\u4e00\u6b21\u5bf9\u8bdd","text":"<p>\u5b89\u88c5\u548c\u914d\u7f6e\u5b8c\u6210\u540e\uff0c\u4ee5\u4e0b\u662f\u5f00\u59cb\u7b2c\u4e00\u6b21\u5bf9\u8bdd\u7684\u65b9\u6cd5\u3002</p>"},{"location":"zh/getting-started/first-chat/#cli","title":"CLI \u4ea4\u4e92\u6a21\u5f0f","text":"<p>\u6700\u7b80\u5355\u7684\u5165\u95e8\u65b9\u5f0f\uff1a</p> <pre><code>source .venv/bin/activate\npython -m agent.main\n</code></pre> <p>\u5728\u7ec8\u7aef\u4e2d\u76f4\u63a5\u8f93\u5165\u6587\u5b57\u5bf9\u8bdd\uff0c\u8f93\u5165 <code>quit</code> \u6216\u6309 <code>Ctrl+C</code> \u9000\u51fa\u3002\u9000\u51fa\u65f6\u4f1a\u81ea\u52a8\u89e6\u53d1 Sleep \u6574\u7406\u8bb0\u5fc6\u3002</p>"},{"location":"zh/getting-started/first-chat/#telegram-bot","title":"Telegram Bot","text":"<pre><code>python -m agent.telegram_bot\n</code></pre> <p>\u6253\u5f00 Telegram \u4e0e Bot \u5bf9\u8bdd\u3002\u652f\u6301\uff1a</p> <ul> <li>\u6587\u672c\u6d88\u606f</li> <li>\u8bed\u97f3\u6d88\u606f\uff08\u901a\u8fc7 Whisper \u8f6c\u5199\uff09</li> <li>\u56fe\u7247\uff08\u901a\u8fc7 GPT-4 Vision / LLaVA \u5206\u6790\uff09</li> <li>\u6587\u4ef6</li> </ul> <p>\u53d1\u9001 <code>/new</code> \u5f00\u59cb\u65b0\u4f1a\u8bdd\u5e76\u89e6\u53d1 Sleep\u3002\u53d1\u9001 <code>/sleep</code> \u53ef\u624b\u52a8\u89e6\u53d1\u8bb0\u5fc6\u6574\u7406\u800c\u4e0d\u5f00\u59cb\u65b0\u4f1a\u8bdd\u3002</p>"},{"location":"zh/getting-started/first-chat/#rest-api","title":"REST API","text":"<pre><code>uvicorn agent.api:app --host 0.0.0.0 --port 8400\n</code></pre> <p>\u53d1\u9001\u6d88\u606f\uff1a</p> <pre><code>curl -X POST http://localhost:8400/chat \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"message\": \"\u4f60\u597d\uff0c\u5f88\u9ad8\u5174\u8ba4\u8bc6\u4f60\uff01\"}'\n</code></pre>"},{"location":"zh/getting-started/first-chat/#web","title":"Web \u4eea\u8868\u76d8","text":"<pre><code>python web.py                          # \u9ed8\u8ba4\u7aef\u53e3 1234\npython web.py --port 8401              # \u6307\u5b9a\u7aef\u53e3\n</code></pre> <p>\u6d4f\u89c8\u5668\u8bbf\u95ee <code>http://localhost:1234</code>\uff0c\u53ef\u67e5\u770b\uff1a</p> <ul> <li>\u753b\u50cf\u603b\u89c8\uff08\u5206\u7c7b\u3001\u65f6\u95f4\u7ebf\u3001\u786e\u8ba4/\u5f85\u786e\u8ba4\u72b6\u6001\uff09</li> <li>\u4eba\u9645\u5173\u7cfb\u56fe</li> <li>\u4eba\u7269\u8f68\u8ff9\u5206\u6790</li> <li>\u89c2\u5bdf\u8bb0\u5f55</li> <li>\u4eba\u5de5\u5ba1\u6838\uff08\u7f16\u8f91\u3001\u786e\u8ba4\u3001\u9a73\u56de\u3001\u89e3\u51b3\u77db\u76fe\uff09</li> <li>\u8d22\u52a1\u6570\u636e\u3001\u5065\u5eb7\u6570\u636e</li> </ul>"},{"location":"zh/getting-started/first-chat/#_2","title":"\u63d0\u793a","text":"<p>\u63a8\u8350\uff1aTelegram Bot</p> <p>\u7531\u4e8e Riverse \u9700\u8981\u5904\u7406\u56fe\u7247\u3001\u8bed\u97f3\u548c\u6587\u4ef6\uff0c\u5efa\u8bae\u4f7f\u7528 Telegram Bot \u4f5c\u4e3a\u4e3b\u8981\u804a\u5929\u5165\u53e3\uff0c\u5728 <code>settings.yaml</code> \u4e2d\u586b\u5165\u4f60\u552f\u4e00\u7684 Telegram User ID\u3002</p> <p>\u5173\u4e8e\u51c6\u786e\u6027</p> <p>\u76ee\u524d\u6ca1\u6709\u4efb\u4f55 LLM \u662f\u4e13\u95e8\u4e3a\u4e2a\u4eba\u753b\u50cf\u63d0\u53d6\u8bad\u7ec3\u7684\uff0c\u63d0\u53d6\u7ed3\u679c\u53ef\u80fd\u5076\u5c14\u51fa\u73b0\u504f\u5dee\u3002\u53d1\u73b0\u4e0d\u51c6\u786e\u7684\u5185\u5bb9\u65f6\uff0c\u53ef\u4ee5\u5728 Web \u9762\u677f\u4e2d\u62d2\u7edd\u9519\u8bef\u8bb0\u5fc6\u6216\u5173\u95ed\u4e0d\u518d\u9002\u7528\u7684\u8bb0\u5fc6\u3002Riverse \u4e0d\u652f\u6301\u624b\u52a8\u7f16\u8f91\u8bb0\u5fc6\u5185\u5bb9 \u2014 \u9519\u8bef\u7684\u8bb0\u5fc6\u5c31\u50cf\u6cb3\u6d41\u4e2d\u7684\u6ce5\u6c99\uff0c\u5e94\u8be5\u88ab\u6c34\u6d41\u51b2\u8d70\uff0c\u800c\u4e0d\u662f\u4eba\u5de5\u96d5\u523b\u6cb3\u5e8a\u3002\u968f\u7740\u5bf9\u8bdd\u79ef\u7d2f\uff0c\u6cb3\u6d41\u7b97\u6cd5\u4f1a\u4e0d\u65ad\u81ea\u6211\u4fee\u6b63\u3002</p>"},{"location":"zh/getting-started/installation/","title":"\u5b89\u88c5","text":""},{"location":"zh/getting-started/installation/#_2","title":"\u524d\u7f6e\u8981\u6c42","text":"\u4f9d\u8d56 \u8bf4\u660e Python 3.10+ \u8fd0\u884c\u65f6 PostgreSQL 16+ \u6570\u636e\u5b58\u50a8 Ollama \u672c\u5730 LLM \u63a8\u7406\uff08\u53ef\u9009\uff0c\u4e5f\u53ef\u7eaf\u4e91\u7aef\uff09"},{"location":"zh/getting-started/installation/#_3","title":"\u514b\u9686\u9879\u76ee\u5e76\u5b89\u88c5\u4f9d\u8d56","text":"<pre><code>git clone https://github.com/wangjiake/JKRiver.git\ncd JKRiver\npython3 -m venv .venv\nsource .venv/bin/activate        # macOS / Linux\n# .venv\\Scripts\\activate         # Windows\n\npip install -r requirements.txt\n</code></pre>"},{"location":"zh/getting-started/installation/#postgresql","title":"\u914d\u7f6e PostgreSQL","text":"<pre><code># \u521b\u5efa\u6570\u636e\u5e93\uff08\u6839\u636e\u4f60\u7684 PostgreSQL \u7528\u6237\u540d\u8c03\u6574\uff09\ncreatedb -h localhost -U your_username Riverse\n\n# \u5efa\u8868\npsql -h localhost -U your_username -d Riverse -f agent/schema.sql\n</code></pre> <p>Note</p> <p>Riverse \u548c \u6cb3\u6d41\u7b97\u6cd5 \u2014 AI \u5bf9\u8bdd\u5386\u53f2\u7279\u522b\u7bc7 \u5171\u4eab\u540c\u4e00\u4e2a\u6570\u636e\u5e93\u3002\u4efb\u4e00\u9879\u76ee\u7684\u5efa\u8868\u547d\u4ee4\u90fd\u4f1a\u521b\u5efa\u4e24\u4e2a\u9879\u76ee\u6240\u9700\u7684\u5168\u90e8\u8868\u3002\u5982\u679c\u4f60\u5df2\u7ecf\u8fd0\u884c\u8fc7\u53e6\u4e00\u4e2a\u9879\u76ee\u7684\u5efa\u8868\u547d\u4ee4\uff0c\u53ef\u4ee5\u8df3\u8fc7\u6b64\u6b65\u9aa4\u3002</p> <p>\u9a8c\u8bc1\u5efa\u8868\u6210\u529f\uff1a</p> <pre><code>psql -h localhost -U your_username -d Riverse -c \"\\dt\"\n</code></pre> <p>\u5e94\u770b\u5230 <code>conversation_turns</code>\u3001<code>user_profile</code>\u3001<code>observations</code> \u7b49\u5341\u4f59\u5f20\u8868\u3002</p> <p>Tip</p> <p>\u5982\u9700\u5b9a\u65f6\u6280\u80fd\u652f\u6301\uff08Telegram Job Queue\uff09\uff1a <pre><code>pip install \"python-telegram-bot[job-queue]\"\n</code></pre></p>"},{"location":"zh/getting-started/installation/#ollama","title":"\u62c9\u53d6 Ollama \u6a21\u578b\uff08\u53ef\u9009\uff09","text":"<p>\u5982\u679c\u4f7f\u7528\u672c\u5730 LLM\uff1a</p> <pre><code>ollama pull &lt;your-model&gt;         # \u4f8b\u5982 qwen2.5:14b, llama3, mistral\nollama pull bge-m3              # \u5411\u91cf\u5d4c\u5165\u6a21\u578b\uff08\u53ef\u9009\uff09\n</code></pre>"},{"location":"zh/getting-started/installation/#_4","title":"\u542f\u52a8","text":"<pre><code>python -m agent.main                                    # CLI\nuvicorn agent.api:app --host 0.0.0.0 --port 8400       # REST API\npython web.py                                            # Web \u4eea\u8868\u76d8\npython -m agent.telegram_bot                             # Telegram Bot\npython -m agent.discord_bot                              # Discord Bot\n</code></pre>"},{"location":"ja/","title":"\u30db\u30fc\u30e0","text":"<p>RAG / \u65e2\u5b58 AI \u30e1\u30e2\u30ea</p> <p>Riverse / \u6cb3\u6d41\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0</p> \u30b7\u30ca\u30ea\u30aa\uff1a\u300c\u6700\u8fd1\u982d\u75db\u304c\u3059\u308b\u300d\u3068\u8a00\u3063\u305f \u2014 2\u30f6\u6708\u524d\u306b\u8ee2\u8077\u3092\u8a71\u3057\u3066\u3044\u305f RAG \u30a2\u30d7\u30ed\u30fc\u30c1 \u6700\u8fd1\u982d\u75db\u304c\u3059\u308b\u3093\u3060\u3088\u306d \u305d\u308c\u306f\u5927\u5909\u3067\u3059\u306d\u3002\u982d\u75db\u306e\u4e00\u822c\u7684\u306a\u539f\u56e0\u306f\uff1a\u8131\u6c34\u3001\u753b\u9762\u306e\u898b\u3059\u304e\u3001\u30b9\u30c8\u30ec\u30b9\u306a\u3069\u304c\u3042\u308a\u307e\u3059\u3002\u4f55\u304b\u30a2\u30c9\u30d0\u30a4\u30b9\u3057\u307e\u3057\u3087\u3046\u304b\uff1f <p>\u30d9\u30af\u30c8\u30eb\u691c\u7d22\u3067\u533b\u7642Q&amp;A\u304b\u3089\u300c\u982d\u75db\u300d\u3092\u898b\u3064\u3051\u305f\u3060\u3051\u3002\u3042\u306a\u305f\u306e\u4eba\u751f\u3068\u306f\u7121\u95a2\u4fc2\u3002</p> \u6cb3\u6d41\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0 \u6700\u8fd1\u982d\u75db\u304c\u3059\u308b\u3093\u3060\u3088\u306d \u7d042\u30f6\u6708\u524d\u306b\u30de\u30cd\u30fc\u30b8\u30e3\u30fc\u306b\u306a\u3063\u3066\u304b\u3089\u3001\u540c\u3058\u9803\u306b\u7761\u7720\u3082\u60aa\u5316\u3057\u3066\u307e\u3057\u305f\u306d \u2014 \u591c1\u6642\u904e\u304e\u307e\u3067\u8d77\u304d\u3066\u305f\u3063\u3066\u4f55\u5ea6\u304b\u8a00\u3063\u3066\u307e\u3057\u305f\u3002\u982d\u75db\u306f\u305d\u308c\u3068\u95a2\u9023\u3057\u3066\u3044\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u4ed5\u4e8b\u306e\u30d7\u30ec\u30c3\u30b7\u30e3\u30fc\u306f\u3069\u3046\u3067\u3059\u304b\uff1f\u5065\u5eb7\u30d1\u30bf\u30fc\u30f3\u3068\u3057\u3066\u8ffd\u8de1\u3057\u307e\u3057\u3087\u3046\u304b\uff1f <p>\u56e0\u679c\u30c1\u30a7\u30fc\u30f3\uff1a\u8ee2\u8077 \u2192 \u7761\u7720\u969c\u5bb3 \u2192 \u982d\u75db\u3002\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u8a8d\u8b58\u3001\u500b\u4eba\u91cd\u307f\u4ed8\u3051\u99c6\u52d5\u3002</p> <p>\u4f1a\u8a71\u306f\u6c34\u306e\u6d41\u308c\u3001\u91cd\u8981\u306a\u60c5\u5831\u306f\u6cb3\u5e8a\u306e\u5806\u7a4d\u7269\u306e\u3088\u3046\u306b\u6c88\u6bbf\u3057\u3001\u8907\u6570\u30bf\u30fc\u30f3\u306e\u691c\u8a3c\u3092\u7d4c\u3066\u300c\u63a8\u6e2c\u300d\u304b\u3089\u300c\u78ba\u8a8d\u300d\u3078\u3001\u3055\u3089\u306b\u300c\u78ba\u7acb\u300d\u3078\u3068\u6bb5\u968e\u7684\u306b\u6607\u683c\u3057\u307e\u3059\u3002\u30aa\u30d5\u30e9\u30a4\u30f3\u6574\u7406\uff08Sleep\uff09\u306f\u6cb3\u306e\u81ea\u6d44\u4f5c\u7528\u3067\u3059\u3002</p> <pre><code>\u4f1a\u8a71\u304c\u6d41\u5165 \u2500\u2500\u2192 \u6d78\u98df \u2500\u2500\u2192 \u5806\u7a4d \u2500\u2500\u2192 \u8a8d\u77e5\u3092\u5f62\u6210 \u2500\u2500\u2192 \u6d41\u308c\u7d9a\u3051\u308b\n                \u2502         \u2502         \u2502\n                \u2502         \u2502         \u2514\u2500 \u78ba\u8a8d\u3055\u308c\u305f\u8a8d\u77e5 \u2192 \u5b89\u5b9a\u3057\u305f\u5ca9\u76e4\n                \u2502         \u2514\u2500 \u91cd\u8981\u306a\u60c5\u5831 \u2192 \u89b3\u5bdf\u30fb\u4eee\u8aac\u30fb\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\n                \u2514\u2500 \u77db\u76fe\u3059\u308b\u53e4\u3044\u8a8d\u8b58\u306f\u6d17\u3044\u6d41\u3055\u308c\u3001\u65b0\u305f\u306a\u6d1e\u5bdf\u306b\n</code></pre> <p></p> <p></p> <p></p> <p></p> <p></p> <p></p> <p></p> <p></p> <p></p> <p></p> <p></p> <p></p> <p></p> <p></p> \u30ec\u30a4\u30e4\u30fc \u6280\u8853 \u30e9\u30f3\u30bf\u30a4\u30e0 Python 3.10+, PostgreSQL 16+ \u30ed\u30fc\u30ab\u30eb LLM Ollama\uff08\u4efb\u610f\u306e\u4e92\u63db\u30e2\u30c7\u30eb\uff09 \u30af\u30e9\u30a6\u30c9 LLM OpenAI GPT-4o / DeepSeek\uff08\u30d5\u30a9\u30fc\u30eb\u30d0\u30c3\u30af\uff09 \u57cb\u3081\u8fbc\u307f Ollama + BGE-M3 REST API FastAPI + Uvicorn Web \u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9 Flask Telegram python-telegram-bot (async) Discord discord.py (async) \u97f3\u58f0 / \u753b\u50cf Whisper-1, GPT-4 Vision, LLaVA TTS Edge TTS"},{"location":"ja/#riverse","title":"Riverse","text":"<p> \u500b\u4eba\u30c7\u30d0\u30a4\u30b9\u306e\u305f\u3081\u306b\u8a2d\u8a08\u3055\u308c\u305f AI \u30a8\u30fc\u30b8\u30a7\u30f3\u30c8 \u2014 \u6c38\u7d9a\u7684\u306a\u8a18\u61b6\u3001\u30aa\u30d5\u30e9\u30a4\u30f3\u8a8d\u77e5\u3001\u4f7f\u3046\u307b\u3069\u3042\u306a\u305f\u3092\u7406\u89e3\u3059\u308b\u3002\u3059\u3079\u3066\u306e\u30c7\u30fc\u30bf\u306f\u30ed\u30fc\u30ab\u30eb\u306b\u4fdd\u5b58\u3002 v1.0 Beta \u00b7 \u30b7\u30f3\u30b0\u30eb\u30e6\u30fc\u30b6\u30fc\u63a8\u5968 </p> \u306f\u3058\u3081\u308b Docker \u30af\u30a4\u30c3\u30af\u30b9\u30bf\u30fc\u30c8 GitHub"},{"location":"ja/#rag-vs","title":"RAG \u30e1\u30e2\u30ea vs. \u6cb3\u6d41\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0","text":"<p>\u985e\u4f3c\u5ea6\u691c\u7d22\u3060\u3051\u3067\u306f\u500b\u4eba AI \u306b\u306f\u4e0d\u5341\u5206\u306a\u7406\u7531\u3002</p>"},{"location":"ja/#_1","title":"\u691c\u7d22\u3057\u3066\u5fd8\u308c\u308b","text":"<ul> <li>\u30ad\u30fc\u30ef\u30fc\u30c9 / \u30d9\u30af\u30c8\u30eb\u985e\u4f3c\u5ea6\u691c\u7d22 \u2014 \u300c\u4f3c\u3066\u3044\u308b\u300d\u30c6\u30ad\u30b9\u30c8\u3092\u898b\u3064\u3051\u308b\u3060\u3051\u3067\u3001\u3042\u306a\u305f\u306b\u3068\u3063\u3066\u4f55\u304c\u91cd\u8981\u304b\u306f\u7406\u89e3\u3057\u306a\u3044</li> <li>\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u306a\u3057 \u2014 3\u5e74\u524d\u306e\u4e8b\u5b9f\u3068\u6628\u65e5\u306e\u4e8b\u5b9f\u304c\u540c\u3058\u91cd\u307f\u3067\u6271\u308f\u308c\u308b</li> <li>\u56e0\u679c\u63a8\u8ad6\u306a\u3057 \u2014 \u300c\u982d\u75db\u304c\u3059\u308b\u300d\u3068\u300c\u8ee2\u8077\u3057\u305f\u300d\u306f\u5b64\u7acb\u3057\u305f\u65ad\u7247\u306e\u307e\u307e\u3001\u6c7a\u3057\u3066\u7d50\u3073\u3064\u304b\u306a\u3044</li> <li>\u5747\u7b49\u306a\u91cd\u307f \u2014 \u6620\u753b\u306e\u611f\u60f3\u3068\u4eba\u751f\u306e\u6838\u5fc3\u7684\u306a\u4fa1\u5024\u89b3\u304c\u540c\u5217\u306b\u4e26\u3076</li> <li>\u30af\u30e9\u30a6\u30c9\u4f9d\u5b58 \u2014 \u3059\u3079\u3066\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u30ea\u30e2\u30fc\u30c8\u30e2\u30c7\u30eb\u3092\u7d4c\u7531\u3002\u30c7\u30fc\u30bf\u306f\u4ed6\u4eba\u306e\u30b5\u30fc\u30d0\u30fc\u306b</li> </ul>"},{"location":"ja/#_2","title":"\u7406\u89e3\u3057\u3066\u9032\u5316\u3059\u308b","text":"<ul> <li>\u500b\u4eba\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u91cd\u307f\u4ed8\u3051 \u2014 \u30c6\u30ad\u30b9\u30c8\u985e\u4f3c\u5ea6\u3067\u306f\u306a\u304f\u3001\u3042\u306a\u305f\u3068\u306e\u95a2\u9023\u6027\u3067\u60c5\u5831\u3092\u30e9\u30f3\u30af\u4ed8\u3051</li> <li>\u6642\u9593\u7684\u9032\u5316 \u2014 \u6700\u8fd1\u306e\u51fa\u6765\u4e8b\u306f\u52e2\u3044\u3092\u6301\u3061\u3001\u53e4\u3044\u30d1\u30bf\u30fc\u30f3\u306f\u6642\u9593\u3068\u5171\u306b\u81ea\u7136\u306b\u56fa\u5316\u307e\u305f\u306f\u6d88\u9000</li> <li>\u56e0\u679c\u63a8\u8ad6 \u2014 \u300c\u8ee2\u8077 \u2192 \u30b9\u30c8\u30ec\u30b9 \u2192 \u982d\u75db \u2192 \u7761\u7720\u969c\u5bb3\u300d\u3092\u4e00\u8cab\u3057\u305f\u56e0\u679c\u30c1\u30a7\u30fc\u30f3\u3068\u3057\u3066\u63a5\u7d9a</li> <li>\u78ba\u4fe1\u5ea6\u30ec\u30d9\u30eb \u2014 \u89b3\u5bdf\u306f\u63a8\u6e2c \u2192 \u78ba\u8a8d \u2192 \u78ba\u7acb\u3078\u3068\u3001\u30de\u30eb\u30c1\u30bf\u30fc\u30f3\u691c\u8a3c\u3092\u901a\u3058\u3066\u6bb5\u968e\u7684\u306b\u6607\u683c</li> <li>\u30ed\u30fc\u30ab\u30eb\u99c6\u52d5 \u2014 \u30e1\u30e2\u30ea\u306f\u3042\u306a\u305f\u306e\u30c7\u30d0\u30a4\u30b9\u306b\u3002\u30ea\u30e2\u30fc\u30c8 LLM \u306f\u30ed\u30fc\u30ab\u30eb\u8a8d\u77e5\u3067\u89e3\u6c7a\u3067\u304d\u306a\u3044\u6642\u3060\u3051\u4e00\u5ea6\u547c\u3073\u51fa\u3059</li> </ul>"},{"location":"ja/#_3","title":"\u672a\u6765\uff1a\u3042\u306a\u305f\u306e\u30c7\u30d0\u30a4\u30b9\u3001\u3042\u306a\u305f\u306e\u77e5\u6027","text":"<p>\u4eca\u65e5\u306e AI \u306f\u30af\u30e9\u30a6\u30c9\u4e2d\u5fc3 \u2014 \u3059\u3079\u3066\u306e\u601d\u8003\u304c\u4ed6\u4eba\u306e\u30b5\u30fc\u30d0\u30fc\u3092\u7d4c\u7531\u3057\u307e\u3059\u3002Riverse \u306f\u3053\u308c\u3092\u9006\u8ee2\u3057\u307e\u3059\u3002\u3042\u306a\u305f\u306e\u500b\u4eba\u30c7\u30d0\u30a4\u30b9\u304c\u30e1\u30e2\u30ea\u3001\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u3001\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u4fdd\u6301\u3057\u3001\u30ed\u30fc\u30ab\u30eb\u3067\u3042\u306a\u305f\u3092\u7406\u89e3\u3057\u307e\u3059\u3002\u30ed\u30fc\u30ab\u30eb\u306e\u8a8d\u77e5\u80fd\u529b\u3092\u8d85\u3048\u308b\u554f\u984c\u306b\u906d\u9047\u3057\u305f\u6642\u3060\u3051\u3001\u554f\u984c\u3092\u7684\u78ba\u306b\u8a18\u8ff0\u3057\u3066\u30ea\u30e2\u30fc\u30c8 LLM \u3092\u4e00\u5ea6\u3060\u3051\u547c\u3073\u51fa\u3059 \u2014 \u8133\u3092\u30a2\u30a6\u30c8\u30bd\u30fc\u30b9\u3059\u308b\u306e\u3067\u306f\u306a\u304f\u3001\u5c02\u9580\u5bb6\u306b\u76f8\u8ac7\u3059\u308b\u3088\u3046\u306b\u3002</p> \u30ed\u30fc\u30ab\u30eb\u30e1\u30e2\u30ea &amp; \u30d7\u30ed\u30d5\u30a3\u30fc\u30eb \u2192 \u30ed\u30fc\u30ab\u30eb\u8a8d\u77e5 \u2192 \u30ed\u30fc\u30ab\u30eb\u3067\u89e3\u6c7a\u53ef\u80fd\uff1f \u2192 \u4e0d\u53ef \u2192 \u554f\u984c\u3092\u8a18\u8ff0 \u2192 \u30ea\u30e2\u30fc\u30c81\u56de\u547c\u51fa <p>\u3053\u308c\u304c\u3001\u30b9\u30de\u30fc\u30c8\u30d5\u30a9\u30f3\u3084\u30b9\u30de\u30fc\u30c8\u30a6\u30a9\u30c3\u30c1\u306a\u3069\u306e\u500b\u4eba\u30c7\u30d0\u30a4\u30b9\u3067\u672c\u5f53\u306e\u30d1\u30fc\u30bd\u30ca\u30eb AI \u3092\u5b9f\u884c\u3059\u308b\u305f\u3081\u306e\u57fa\u76e4\u3067\u3059 \u2014 \u3042\u306a\u305f\u304c\u30c7\u30fc\u30bf\u3001\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u3001\u77e5\u6027\u3092\u6240\u6709\u3059\u308b\u3002</p>"},{"location":"ja/#_4","title":"\u6cb3\u6d41\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0","text":"<p>Riverse \u3092\u969b\u7acb\u305f\u305b\u308b\u30b3\u30a2\u8a8d\u77e5\u30e2\u30c7\u30eb\u3002</p>"},{"location":"ja/#flow","title":"\u6d41\u308c\uff08Flow\uff09","text":"<p>\u3059\u3079\u3066\u306e\u4f1a\u8a71\u306f\u6d41\u308c\u308b\u6c34\u3002\u5ddd\u306f\u6b62\u307e\u3089\u305a\u3001\u3042\u306a\u305f\u3078\u306e\u7406\u89e3\u306f\u9032\u5316\u3057\u7d9a\u3051\u3001\u30ea\u30bb\u30c3\u30c8\u3055\u308c\u306a\u3044\u3002</p>"},{"location":"ja/#sediment","title":"\u5806\u7a4d\uff08Sediment\uff09","text":"<p>\u91cd\u8981\u60c5\u5831\u306f\u6c88\u6ce5\u306e\u3088\u3046\u306b\u5806\u7a4d\uff1a\u4e8b\u5b9f\u306f\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u306b\u3001\u611f\u60c5\u306f\u89b3\u5bdf\u306b\u3001\u30d1\u30bf\u30fc\u30f3\u306f\u4eee\u8aac\u306b\u3002\u7e70\u308a\u8fd4\u3057\u78ba\u8a8d\u3055\u308c\u305f\u8a8d\u77e5\u306f\u3088\u308a\u6df1\u304f\u6c88\u3080\u3002</p>"},{"location":"ja/#purify","title":"\u81ea\u6d44\uff08Purify\uff09","text":"<p>Sleep \u306f\u5ddd\u306e\u81ea\u6d44\u80fd\u529b \u2014 \u53e4\u3044\u60c5\u5831\u3092\u6d17\u3044\u6d41\u3057\u3001\u77db\u76fe\u3092\u89e3\u6d88\u3057\u3001\u65ad\u7247\u3092\u7d71\u5408\u3057\u3066\u4e00\u8cab\u3057\u305f\u7406\u89e3\u3078\u3002</p>"},{"location":"ja/#_5","title":"\u7279\u5fb4","text":"<p>\u672c\u5f53\u306e\u30d1\u30fc\u30bd\u30ca\u30eb AI \u306b\u5fc5\u8981\u306a\u3059\u3079\u3066\u3002</p>"},{"location":"ja/#_6","title":"\u6c38\u7d9a\u7684\u306a\u8a18\u61b6","text":"<p>\u30bb\u30c3\u30b7\u30e7\u30f3\u3092\u8d85\u3048\u3066\u8a18\u61b6\u3002\u3042\u306a\u305f\u3068\u5171\u306b\u9032\u5316\u3059\u308b\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u3092\u69cb\u7bc9\u3002</p>"},{"location":"ja/#_7","title":"\u30aa\u30d5\u30e9\u30a4\u30f3\u6574\u7406","text":"<p>\u4f1a\u8a71\u7d42\u4e86\u5f8c\u306b\u81ea\u52d5\u51e6\u7406 \u2014 \u6d1e\u5bdf\u306e\u62bd\u51fa\u3001\u77db\u76fe\u306e\u89e3\u6d88\u3001\u78ba\u8a8d\u6e08\u307f\u77e5\u8b58\u306e\u5f37\u5316\u3002</p>"},{"location":"ja/#_8","title":"\u30de\u30eb\u30c1\u30e2\u30fc\u30c0\u30eb\u5165\u529b","text":"<p>\u30c6\u30ad\u30b9\u30c8\u3001\u97f3\u58f0\u3001\u753b\u50cf\u3001\u30d5\u30a1\u30a4\u30eb \u2014 Whisper\u3001GPT-4 Vision\u3001LLaVA \u3067\u30cd\u30a4\u30c6\u30a3\u30d6\u306b\u7406\u89e3\u3002</p>"},{"location":"ja/#_9","title":"\u30d7\u30e9\u30ac\u30d6\u30eb\u30c4\u30fc\u30eb","text":"<p>Web\u691c\u7d22\u3001\u8ca1\u52d9\u8ffd\u8de1\u3001\u5065\u5eb7\u540c\u671f\uff08Withings\uff09\u3001TTS \u306a\u3069\u3002</p>"},{"location":"ja/#yaml","title":"YAML \u30b9\u30ad\u30eb","text":"<p>\u30b7\u30f3\u30d7\u30eb\u306a YAML \u3067\u30ab\u30b9\u30bf\u30e0\u52d5\u4f5c\u3092\u4f5c\u6210\u3001\u30ad\u30fc\u30ef\u30fc\u30c9\u307e\u305f\u306f\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u3067\u30c8\u30ea\u30ac\u30fc\u3002</p>"},{"location":"ja/#_10","title":"\u5916\u90e8\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8","text":"<p>\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3067 Home Assistant\u3001n8n\u3001Dify \u7b49\u3092\u63a5\u7d9a\u3002</p>"},{"location":"ja/#_11","title":"\u30de\u30eb\u30c1\u30c1\u30e3\u30cd\u30eb","text":"<p>Telegram\u3001Discord\u3001REST API\u3001WebSocket\u3001CLI\u3001Web \u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u3002</p>"},{"location":"ja/#_12","title":"\u30ed\u30fc\u30ab\u30eb\u30d5\u30a1\u30fc\u30b9\u30c8","text":"<p>\u30c7\u30d5\u30a9\u30eb\u30c8\u306f Ollama\u3001\u5fc5\u8981\u6642\u306b OpenAI / DeepSeek \u3078\u81ea\u52d5\u30a8\u30b9\u30ab\u30ec\u30fc\u30b7\u30e7\u30f3\u3002</p>"},{"location":"ja/#_13","title":"\u30d7\u30ed\u30a2\u30af\u30c6\u30a3\u30d6","text":"<p>\u30a4\u30d9\u30f3\u30c8\u30d5\u30a9\u30ed\u30fc\u30a2\u30c3\u30d7\u3001\u30a2\u30a4\u30c9\u30eb\u30c1\u30a7\u30c3\u30af\u30a4\u30f3\u3001\u9759\u5bc2\u6642\u9593\u5e2f\u3092\u5c0a\u91cd\u3002</p>"},{"location":"ja/#_14","title":"\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u691c\u7d22","text":"<p>BGE-M3 \u30d9\u30af\u30c8\u30eb\u57cb\u3081\u8fbc\u307f\u3001\u610f\u5473\u3067\u95a2\u9023\u3059\u308b\u8a18\u61b6\u3092\u691c\u7d22\u3002</p>"},{"location":"ja/#mcp","title":"MCP \u30d7\u30ed\u30c8\u30b3\u30eb","text":"<p>Model Context Protocol \u5bfe\u5fdc\u3001Gmail \u7b49\u306e MCP Server \u3092\u63a5\u7d9a\u3002</p>"},{"location":"ja/#_15","title":"\u6280\u8853\u30b9\u30bf\u30c3\u30af","text":""},{"location":"ja/faq/","title":"\u3088\u304f\u3042\u308b\u8cea\u554f","text":""},{"location":"ja/faq/#postgresql","title":"PostgreSQL \u63a5\u7d9a\u5931\u6557","text":"<p>PostgreSQL \u304c\u52d5\u4f5c\u3057\u3066\u3044\u308b\u304b\u78ba\u8a8d\uff1a</p> <pre><code>pg_isready -h localhost\n</code></pre> <p>\u30e6\u30fc\u30b6\u30fc\u540d\u304c <code>postgres</code> \u3067\u306a\u3044\u5834\u5408\u3001<code>settings.yaml</code> \u306e <code>database.user</code> \u3092\u66f4\u65b0\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"ja/faq/#ollama","title":"Ollama \u30e2\u30c7\u30eb\u304c\u898b\u3064\u304b\u3089\u306a\u3044","text":"<pre><code>ollama list\nollama pull &lt;your-model&gt;    # \u4f8b\uff1aqwen2.5:14b, llama3, mistral\nollama pull bge-m3\n</code></pre>"},{"location":"ja/faq/#telegram-bot","title":"Telegram Bot \u304c\u5fdc\u7b54\u3057\u306a\u3044","text":"<ol> <li><code>bot_token</code> \u304c\u6b63\u3057\u3044\u304b\u78ba\u8a8d</li> <li><code>allowed_user_ids</code> \u306b\u81ea\u5206\u306e Telegram user ID \u304c\u542b\u307e\u308c\u3066\u3044\u308b\u304b\u78ba\u8a8d</li> <li>\u30bf\u30fc\u30df\u30ca\u30eb\u306e\u30ed\u30b0\u51fa\u529b\u3092\u78ba\u8a8d</li> </ol>"},{"location":"ja/faq/#ollama_1","title":"Ollama \u306a\u3057\u3067\u30af\u30e9\u30a6\u30c9\u306e\u307f","text":"<p><code>llm_provider: \"openai\"</code> \u306b\u8a2d\u5b9a\u3001API \u30ad\u30fc\u3092\u5165\u529b\u3001<code>embedding.enabled: false</code> \u306b\u8a2d\u5b9a\u3002</p>"},{"location":"ja/about/contact/","title":"\u304a\u554f\u3044\u5408\u308f\u305b","text":"<ul> <li>X (Twitter): @JKRiverse</li> <li>Discord: \u53c2\u52a0</li> <li>Email: mailwangjk@gmail.com</li> <li>GitHub: wangjiake/JKRiver</li> </ul>"},{"location":"ja/about/license/","title":"\u30e9\u30a4\u30bb\u30f3\u30b9","text":"<p>\u672c\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306f\u30c7\u30e5\u30a2\u30eb\u30e9\u30a4\u30bb\u30f3\u30b9\u3067\u3059\uff1a</p> \u7528\u9014 \u30e9\u30a4\u30bb\u30f3\u30b9 \u8a73\u7d30 \u500b\u4eba\u5229\u7528 / \u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9 AGPL-3.0 \u7121\u6599\u5229\u7528\u53ef\u3001\u5909\u66f4\u306f\u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9\u5fc5\u9808 \u5546\u7528 / \u30af\u30ed\u30fc\u30ba\u30c9\u30bd\u30fc\u30b9 \u5546\u7528\u30e9\u30a4\u30bb\u30f3\u30b9 mailwangjk@gmail.com \u307e\u3067\u9023\u7d61 <p>\u500b\u4eba\u5229\u7528\u3001\u7814\u7a76\u3001\u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9\u8ca2\u732e\u306f\u81ea\u7531\u3067\u3059\u3002\u30af\u30ed\u30fc\u30ba\u30c9\u30bd\u30fc\u30b9\u3067\u306e\u5546\u7528\u5229\u7528\u3084 SaaS \u306b\u306f\u5546\u7528\u30e9\u30a4\u30bb\u30f3\u30b9\u304c\u5fc5\u8981\u3067\u3059\u3002</p>"},{"location":"ja/development/api/","title":"REST API \u30ea\u30d5\u30a1\u30ec\u30f3\u30b9","text":"<p>API \u30b5\u30fc\u30d0\u30fc\u306e\u8d77\u52d5\uff1a</p> <pre><code>uvicorn agent.api:app --host 0.0.0.0 --port 8400\n</code></pre>"},{"location":"ja/development/api/#_1","title":"\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8","text":"\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8 \u30e1\u30bd\u30c3\u30c9 \u8aac\u660e <code>/chat</code> POST \u30e1\u30c3\u30bb\u30fc\u30b8\u9001\u4fe1\u3001\u8fd4\u4fe1\u53d6\u5f97 <code>/session/new</code> POST \u65b0\u898f\u30bb\u30c3\u30b7\u30e7\u30f3\u4f5c\u6210 <code>/sleep</code> POST \u8a18\u61b6\u6574\u7406\u3092\u30c8\u30ea\u30ac\u30fc <code>/profile</code> GET \u73fe\u5728\u306e\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u53d6\u5f97 <code>/hypotheses</code> GET \u5168\u4eee\u8aac\u53d6\u5f97 <code>/sessions</code> GET \u30a2\u30af\u30c6\u30a3\u30d6\u30bb\u30c3\u30b7\u30e7\u30f3\u4e00\u89a7 <code>/ws/chat</code> WebSocket \u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u30c1\u30e3\u30c3\u30c8"},{"location":"ja/development/api/#post-chat","title":"POST /chat","text":"<p>\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u9001\u4fe1\u3057\u3066\u8fd4\u4fe1\u3092\u53d7\u3051\u53d6\u308b\u3002</p> <pre><code>curl -X POST http://localhost:8400/chat \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"message\": \"\u3053\u3093\u306b\u3061\u306f\u3001\u521d\u3081\u307e\u3057\u3066\uff01\"}'\n</code></pre>"},{"location":"ja/development/api/#post-sessionnew","title":"POST /session/new","text":"<p>\u65b0\u3057\u3044\u4f1a\u8a71\u30bb\u30c3\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\u3002</p> <pre><code>curl -X POST http://localhost:8400/session/new\n</code></pre>"},{"location":"ja/development/api/#post-sleep","title":"POST /sleep","text":"<p>\u30aa\u30d5\u30e9\u30a4\u30f3\u8a18\u61b6\u7d71\u5408\uff08Sleep\uff09\u3092\u30c8\u30ea\u30ac\u30fc\u3002</p> <pre><code>curl -X POST http://localhost:8400/sleep\n</code></pre>"},{"location":"ja/development/api/#get-profile","title":"GET /profile","text":"<p>\u4f1a\u8a71\u304b\u3089\u69cb\u7bc9\u3055\u308c\u305f\u30e6\u30fc\u30b6\u30fc\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u3092\u53d6\u5f97\u3002</p> <pre><code>curl http://localhost:8400/profile\n</code></pre>"},{"location":"ja/development/api/#get-hypotheses","title":"GET /hypotheses","text":"<p>\u30b7\u30b9\u30c6\u30e0\u304c\u30e6\u30fc\u30b6\u30fc\u306b\u3064\u3044\u3066\u5f62\u6210\u3057\u305f\u5168\u4eee\u8aac\u3092\u30ea\u30b9\u30c8\u3002</p> <pre><code>curl http://localhost:8400/hypotheses\n</code></pre>"},{"location":"ja/development/api/#get-sessions","title":"GET /sessions","text":"<p>\u30a2\u30af\u30c6\u30a3\u30d6\u306a\u4f1a\u8a71\u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u4e00\u89a7\u3002</p> <pre><code>curl http://localhost:8400/sessions\n</code></pre>"},{"location":"ja/development/api/#websocket-wschat","title":"WebSocket /ws/chat","text":"<p>\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u53cc\u65b9\u5411\u30c1\u30e3\u30c3\u30c8\u306b\u63a5\u7d9a\u3002</p> <pre><code>const ws = new WebSocket(\"ws://localhost:8400/ws/chat\");\nws.onmessage = (event) =&gt; console.log(event.data);\nws.send(JSON.stringify({ message: \"\u3053\u3093\u306b\u3061\u306f\uff01\" }));\n</code></pre>"},{"location":"ja/development/custom-skill/","title":"\u30ab\u30b9\u30bf\u30e0\u30b9\u30ad\u30eb\u958b\u767a","text":"<p>\u30b9\u30ad\u30eb\u306f YAML \u3067\u5b9a\u7fa9\u3055\u308c\u308b\u52d5\u4f5c\u62e1\u5f35\u3067\u3001\u30ad\u30fc\u30ef\u30fc\u30c9\u30c8\u30ea\u30ac\u30fc\u307e\u305f\u306f\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u5b9f\u884c\u304c\u53ef\u80fd\u3067\u3059\u3002</p>"},{"location":"ja/development/custom-skill/#_2","title":"\u30b9\u30ad\u30eb\u30d5\u30a1\u30a4\u30eb\u306e\u5834\u6240","text":"<p><code>.yaml</code> \u30d5\u30a1\u30a4\u30eb\u3092 <code>agent/skills/</code> \u306b\u914d\u7f6e\u3002\u8d77\u52d5\u6642\u306b\u81ea\u52d5\u7684\u306b\u30ed\u30fc\u30c9\u3055\u308c\u307e\u3059\u3002</p>"},{"location":"ja/development/custom-skill/#_3","title":"\u30b9\u30ad\u30eb\u30bf\u30a4\u30d7","text":""},{"location":"ja/development/custom-skill/#_4","title":"\u30a4\u30f3\u30b9\u30c8\u30e9\u30af\u30b7\u30e7\u30f3\u30b9\u30ad\u30eb\uff08\u30ad\u30fc\u30ef\u30fc\u30c9\u30c8\u30ea\u30ac\u30fc\uff09","text":"<p>\u30c8\u30ea\u30ac\u30fc\u6642\u306b LLM \u306b\u30a4\u30f3\u30b9\u30c8\u30e9\u30af\u30b7\u30e7\u30f3\u3092\u63d0\u4f9b\u3059\u308b\u30b7\u30f3\u30d7\u30eb\u306a\u30b9\u30ad\u30eb\uff1a</p> <pre><code>name: explain_code\ndescription: \u30b3\u30fc\u30c9\u3092\u9001\u3063\u305f\u6642\u306b\u81ea\u52d5\u3067\u8aac\u660e\ntrigger:\n  type: keyword\n  keywords: [\"\u30b3\u30fc\u30c9\u8aac\u660e\", \"explain code\"]\ninstruction: |\n  \u30b3\u30fc\u30c9\u3092\u30b9\u30c6\u30c3\u30d7\u30d0\u30a4\u30b9\u30c6\u30c3\u30d7\u3067\u8aac\u660e\u3057\u3066\u304f\u3060\u3055\u3044\uff1a\n  1. \u30b3\u30fc\u30c9\u306e\u6a5f\u80fd\u3092\u4e00\u6587\u3067\u8981\u7d04\n  2. \u30ad\u30fc\u30ed\u30b8\u30c3\u30af\u3092\u884c\u3054\u3068\u306b\u8aac\u660e\n  3. \u6539\u5584\u70b9\u3092\u6307\u6458\nenabled: true\n</code></pre>"},{"location":"ja/development/custom-skill/#_5","title":"\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u30b9\u30ad\u30eb\uff08\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\uff09","text":"<p>cron \u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u3067\u5b9f\u884c\u3055\u308c\u308b\u30b9\u30ad\u30eb\uff1a</p> <pre><code>name: weekly_summary\ndescription: \u6bce\u9031\u65e5\u66dc\u65e5\u306b\u9031\u672b\u306e\u6328\u62f6\u3092\u9001\u4fe1\ntrigger:\n  type: schedule\n  cron: \"0 20 * * 0\"            # \u6bce\u9031\u65e5\u66dc 20:00\nsteps:\n  - respond: |\n      \u77ed\u304f\u6e29\u304b\u3044\u9031\u672b\u306e\u6328\u62f6\u3092\u66f8\u3044\u3066\u304f\u3060\u3055\u3044\u3002\nenabled: true\n</code></pre>"},{"location":"ja/development/custom-skill/#_6","title":"\u30d5\u30a3\u30fc\u30eb\u30c9\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9","text":"\u30d5\u30a3\u30fc\u30eb\u30c9 \u5fc5\u9808 \u8aac\u660e <code>name</code> \u306f\u3044 \u30b9\u30ad\u30eb\u306e\u4e00\u610f\u8b58\u5225\u5b50 <code>description</code> \u306f\u3044 \u30b9\u30ad\u30eb\u306e\u6a5f\u80fd\u8aac\u660e\uff08LLM \u304c\u3044\u3064\u4f7f\u3046\u304b\u5224\u65ad\u306b\u4f7f\u7528\uff09 <code>trigger.type</code> \u306f\u3044 <code>keyword</code> \u307e\u305f\u306f <code>schedule</code> <code>trigger.keywords</code> keyword \u30bf\u30a4\u30d7\u6642 \u30c8\u30ea\u30ac\u30fc\u30d5\u30ec\u30fc\u30ba\u306e\u30ea\u30b9\u30c8 <code>trigger.cron</code> schedule \u30bf\u30a4\u30d7\u6642 cron \u5f0f <code>instruction</code> keyword \u30bf\u30a4\u30d7\u6642 LLM \u3078\u306e\u30a4\u30f3\u30b9\u30c8\u30e9\u30af\u30b7\u30e7\u30f3 <code>steps</code> schedule \u30bf\u30a4\u30d7\u6642 \u5b9f\u884c\u3059\u308b\u30a2\u30af\u30b7\u30e7\u30f3\u306e\u30ea\u30b9\u30c8 <code>enabled</code> \u306f\u3044 <code>true</code> / <code>false</code>"},{"location":"ja/development/custom-skill/#_7","title":"\u30c1\u30e3\u30c3\u30c8\u3067\u30b9\u30ad\u30eb\u3092\u4f5c\u6210","text":"<p>Bot \u306b\u76f4\u63a5\u8a71\u3057\u304b\u3051\u308b\u3060\u3051\uff1a</p> <p>\u300c\u30b9\u30ad\u30eb\u3092\u4f5c\u3063\u3066\u30012\u6642\u9593\u3054\u3068\u306b\u6c34\u3092\u98f2\u3080\u3088\u3046\u601d\u3044\u51fa\u3055\u305b\u3066\u300d</p> <p>\u300c\u6bce\u66699\u6642\u306b\u4e00\u65e5\u306e\u307e\u3068\u3081\u3092\u9001\u308b\u30b9\u30ad\u30eb\u3092\u4f5c\u3063\u3066\u300d</p> <p>Bot \u304c\u81ea\u52d5\u7684\u306b YAML \u3092\u751f\u6210\u3057\u3001<code>agent/skills/</code> \u306b\u4fdd\u5b58\u3057\u307e\u3059\u3002</p> <p>Tip</p> <p>Telegram \u306e\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u30b9\u30ad\u30eb\u306b\u306f job queue \u62e1\u5f35\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u5fc5\u8981\u3067\u3059\uff1a<code>pip install \"python-telegram-bot[job-queue]\"</code></p>"},{"location":"ja/development/custom-tool/","title":"\u30ab\u30b9\u30bf\u30e0\u30c4\u30fc\u30eb\u958b\u767a","text":"<p>Riverse \u306f\u30c9\u30ed\u30c3\u30d7\u30a4\u30f3\u65b9\u5f0f\u306e\u30c4\u30fc\u30eb\u30b7\u30b9\u30c6\u30e0\u3092\u63a1\u7528\u3057\u3066\u3044\u307e\u3059\u3002<code>agent/tools/</code> \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b <code>.py</code> \u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3059\u308b\u3060\u3051\u3067\u65b0\u3057\u3044\u30c4\u30fc\u30eb\u3092\u8ffd\u52a0\u3067\u304d\u307e\u3059\u3002\u767b\u9332\u30b3\u30fc\u30c9\u306f\u4e0d\u8981\u3067\u3059\u3002</p>"},{"location":"ja/development/custom-tool/#_2","title":"\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9","text":"<p>\u5404\u30c4\u30fc\u30eb\u306f <code>BaseTool</code> \u3092\u7d99\u627f\u3057\u30012\u3064\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u5b9f\u88c5\u3057\u307e\u3059\uff1a</p> <pre><code>from agent.tools import BaseTool, ToolManifest, ToolResult\n\nclass MyTool(BaseTool):\n\n    def __init__(self, config: dict):\n        self.config = config\n\n    def manifest(self) -&gt; ToolManifest:\n        return ToolManifest(\n            name=\"my_tool\",                          # \u4e00\u610f\u306e\u8b58\u5225\u5b50\n            description=\"LLM \u304c\u3053\u306e\u30c4\u30fc\u30eb\u3092\u4f7f\u3046\u3079\u304d\u304b\u5224\u65ad\u3059\u308b\u305f\u3081\u306e\u4e00\u884c\u8aac\u660e\",\n            parameters={\n                \"param_name\": \"\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u610f\u5473\",\n            },\n            examples=[\n                \"\u81ea\u7136\u8a00\u8a9e\u30c8\u30ea\u30ac\u30fc\u4f8b 1\",\n                \"\u81ea\u7136\u8a00\u8a9e\u30c8\u30ea\u30ac\u30fc\u4f8b 2\",\n            ],\n        )\n\n    def execute(self, params: dict) -&gt; ToolResult:\n        value = params.get(\"param_name\", \"\")\n\n        # \u3053\u3053\u306b\u51e6\u7406\u3092\u5b9f\u88c5...\n        result = f\"\u51e6\u7406\u7d50\u679c: {value}\"\n\n        return ToolResult(success=True, data=result)\n</code></pre>"},{"location":"ja/development/custom-tool/#toolmanifest","title":"ToolManifest","text":"\u30d5\u30a3\u30fc\u30eb\u30c9 \u7528\u9014 <code>name</code> \u4e00\u610f\u306e\u8b58\u5225\u5b50\u3002LLM \u306f\u3053\u306e\u540d\u524d\u3067\u30c4\u30fc\u30eb\u3092\u547c\u3073\u51fa\u3057\u307e\u3059\u3002 <code>description</code> \u4e00\u884c\u306e\u8aac\u660e\u3002LLM \u306f\u3053\u308c\u3092\u8aad\u3093\u3067\u3044\u3064\u4f7f\u3046\u304b\u5224\u65ad\u3057\u307e\u3059\u3002 <code>parameters</code> <code>{\u30d1\u30e9\u30e1\u30fc\u30bf\u540d: \u8aac\u660e}</code> \u306e\u8f9e\u66f8\u3002LLM \u304c\u81ea\u52d5\u7684\u306b\u5024\u3092\u57cb\u3081\u307e\u3059\u3002 <code>examples</code> \u3053\u306e\u30c4\u30fc\u30eb\u3092\u30c8\u30ea\u30ac\u30fc\u3059\u308b\u81ea\u7136\u8a00\u8a9e\u30d5\u30ec\u30fc\u30ba\u3092 2-3 \u500b\u3002"},{"location":"ja/development/custom-tool/#toolresult","title":"ToolResult","text":"\u30d5\u30a3\u30fc\u30eb\u30c9 \u7528\u9014 <code>success</code> <code>True</code> / <code>False</code> <code>data</code> \u53c2\u8003\u60c5\u5831\u3068\u3057\u3066 LLM \u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u6ce8\u5165\u3055\u308c\u308b\u6587\u5b57\u5217\u3002 <code>error</code> \u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\uff08<code>success=False</code> \u306e\u5834\u5408\u306e\u307f\uff09\u3002"},{"location":"ja/development/custom-tool/#is_available","title":"\u30aa\u30d7\u30b7\u30e7\u30f3\uff1a<code>is_available()</code>","text":"<p>\u4f9d\u5b58\u95a2\u4fc2\u304c\u4e0d\u8db3\u3057\u3066\u3044\u308b\u5834\u5408\u306b\u30c4\u30fc\u30eb\u3092\u7121\u52b9\u5316\u3059\u308b\u306b\u306f\u3053\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u30aa\u30fc\u30d0\u30fc\u30e9\u30a4\u30c9\u3057\u307e\u3059\uff1a</p> <pre><code>def is_available(self) -&gt; bool:\n    return self.config.get(\"tools\", {}).get(\"my_tool\", {}).get(\"enabled\", True)\n</code></pre>"},{"location":"ja/development/custom-tool/#_3","title":"\u4f8b\uff1a\u5929\u6c17\u30c4\u30fc\u30eb","text":"<pre><code>import requests\nfrom agent.tools import BaseTool, ToolManifest, ToolResult\n\nclass WeatherTool(BaseTool):\n\n    def __init__(self, config: dict):\n        self.config = config\n\n    def manifest(self) -&gt; ToolManifest:\n        return ToolManifest(\n            name=\"weather\",\n            description=\"\u6307\u5b9a\u3057\u305f\u90fd\u5e02\u306e\u73fe\u5728\u306e\u5929\u6c17\u3092\u53d6\u5f97\u3059\u308b\",\n            parameters={\"city\": \"\u90fd\u5e02\u540d\uff08\u4f8b\uff1a\u6771\u4eac\u3001\u30ed\u30f3\u30c9\u30f3\uff09\"},\n            examples=[\"\u6771\u4eac\u306e\u5929\u6c17\u306f\uff1f\", \"\u30ed\u30f3\u30c9\u30f3\u306f\u96e8\u3067\u3059\u304b\uff1f\"],\n        )\n\n    def execute(self, params: dict) -&gt; ToolResult:\n        city = params.get(\"city\", \"\").strip()\n        if not city:\n            return ToolResult(success=False, data=\"\", error=\"\u90fd\u5e02\u540d\u304c\u3042\u308a\u307e\u305b\u3093\")\n\n        try:\n            r = requests.get(f\"https://wttr.in/{city}?format=j1\", timeout=10)\n            data = r.json()[\"current_condition\"][0]\n            summary = f\"{city}: {data['temp_C']}\u00b0C, {data['weatherDesc'][0]['value']}\"\n            return ToolResult(success=True, data=summary)\n        except Exception as e:\n            return ToolResult(success=False, data=\"\", error=str(e))\n</code></pre> <p><code>agent/tools/weather.py</code> \u3068\u3057\u3066\u4fdd\u5b58\u3059\u308c\u3070\u3001\u6b21\u56de\u8d77\u52d5\u6642\u304b\u3089\u5229\u7528\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002</p>"},{"location":"ja/development/custom-tool/#_4","title":"\u4ed5\u7d44\u307f","text":"<ol> <li>\u8d77\u52d5\u6642\u306b <code>ToolRegistry</code> \u304c <code>agent/tools/</code> \u5185\u306e\u3059\u3079\u3066\u306e <code>.py</code> \u30d5\u30a1\u30a4\u30eb\u3092\u30b9\u30ad\u30e3\u30f3\u3057\u307e\u3059\uff08<code>_</code> \u3067\u59cb\u307e\u308b\u30d5\u30a1\u30a4\u30eb\u306f\u30b9\u30ad\u30c3\u30d7\uff09\u3002</li> <li>\u5404 <code>BaseTool</code> \u30b5\u30d6\u30af\u30e9\u30b9\u306b\u5bfe\u3057\u3066 <code>is_available()</code> \u3092\u547c\u3073\u51fa\u3057\u307e\u3059\u3002</li> <li>\u5229\u7528\u53ef\u80fd\u306a\u30c4\u30fc\u30eb\u306f <code>manifest().name</code> \u3067\u767b\u9332\u3055\u308c\u307e\u3059\u3002</li> <li>\u30e6\u30fc\u30b6\u30fc\u304c\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u9001\u4fe1\u3059\u308b\u3068\u3001LLM \u306f\u3059\u3079\u3066\u306e\u30c4\u30fc\u30eb\u306e manifest \u3092\u78ba\u8a8d\u3057\u3001\u3069\u308c\u3092\u547c\u3073\u51fa\u3059\u304b\u6c7a\u5b9a\u3057\u307e\u3059\u3002</li> <li>\u30c4\u30fc\u30eb\u306e <code>execute()</code> \u7d50\u679c\u304c LLM \u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u6ce8\u5165\u3055\u308c\u3001\u6700\u7d42\u56de\u7b54\u306e\u751f\u6210\u306b\u4f7f\u308f\u308c\u307e\u3059\u3002</li> </ol>"},{"location":"ja/features/agents/","title":"\u5916\u90e8\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8","text":"<p><code>agent/config/agents_ja.yaml</code> \u3092\u7de8\u96c6\u3057\u3066\u5916\u90e8\u30b5\u30fc\u30d3\u30b9\u3092\u63a5\u7d9a\u3002LLM \u304c\u81ea\u52d5\u7684\u306b\u3044\u3064\u547c\u3073\u51fa\u3059\u304b\u3092\u5224\u65ad\u3057\u307e\u3059\u3002</p>"},{"location":"ja/features/agents/#_2","title":"\u7d44\u307f\u8fbc\u307f\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8","text":"\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8 \u30bf\u30a4\u30d7 \u8aac\u660e \u30c7\u30d5\u30a9\u30eb\u30c8 weather_query HTTP wttr.in \u5929\u6c17\u53d6\u5f97 \u6709\u52b9 home_lights HTTP Home Assistant \u7167\u660e\u5236\u5fa1 \u7121\u52b9 home_status HTTP Home Assistant \u30c7\u30d0\u30a4\u30b9\u72b6\u614b \u7121\u52b9 n8n_email HTTP n8n \u30e1\u30fc\u30eb\u9001\u4fe1 \u7121\u52b9 n8n_workflow HTTP n8n \u30ef\u30fc\u30af\u30d5\u30ed\u30fc \u7121\u52b9 dify_agent HTTP Dify \u30b5\u30d6\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8 \u7121\u52b9 backup_notes Command \u30ed\u30fc\u30ab\u30eb\u30d0\u30c3\u30af\u30a2\u30c3\u30d7 \u7121\u52b9 system_info Command \u30b7\u30b9\u30c6\u30e0\u60c5\u5831\u53d6\u5f97 \u7121\u52b9"},{"location":"ja/features/agents/#_3","title":"\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u306e\u6709\u52b9\u5316","text":"<p><code>enabled</code> \u3092 <code>true</code> \u306b\u5909\u66f4\u3057\u3001URL/\u30c8\u30fc\u30af\u30f3\u3092\u5165\u529b\uff1a</p> <pre><code>- name: home_lights\n  type: http\n  enabled: true\n  url: \"http://your-home-assistant:8123/api/services/light/toggle\"\n  headers:\n    Authorization: \"Bearer YOUR_TOKEN\"\n  description: \"Home Assistant \u3067\u7167\u660e\u3092\u5236\u5fa1\"\n</code></pre>"},{"location":"ja/features/agents/#_4","title":"\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u30bf\u30a4\u30d7","text":""},{"location":"ja/features/agents/#http","title":"HTTP \u30a8\u30fc\u30b8\u30a7\u30f3\u30c8","text":"<p>\u5916\u90e8\u30b5\u30fc\u30d3\u30b9\u306b HTTP \u30ea\u30af\u30a8\u30b9\u30c8\u3092\u9001\u4fe1\uff08Home Assistant\u3001n8n\u3001Dify \u306a\u3069\uff09\u3002</p>"},{"location":"ja/features/agents/#command","title":"Command \u30a8\u30fc\u30b8\u30a7\u30f3\u30c8","text":"<p>\u30ed\u30fc\u30ab\u30eb\u30b7\u30a7\u30eb\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\uff08\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u30b9\u30af\u30ea\u30d7\u30c8\u3001\u30b7\u30b9\u30c6\u30e0\u30af\u30a8\u30ea\u306a\u3069\uff09\u3002</p>"},{"location":"ja/features/agents/#_5","title":"\u591a\u8a00\u8a9e\u8a2d\u5b9a","text":"<p>\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u8a2d\u5b9a\u306f\u8907\u6570\u8a00\u8a9e\u3067\u5229\u7528\u53ef\u80fd\uff1a</p> <ul> <li><code>agent/config/agents_en.yaml</code> \u2014 \u82f1\u8a9e</li> <li><code>agent/config/agents_zh.yaml</code> \u2014 \u4e2d\u56fd\u8a9e</li> <li><code>agent/config/agents_ja.yaml</code> \u2014 \u65e5\u672c\u8a9e</li> </ul> <p>\u4f7f\u7528\u3055\u308c\u308b\u8a2d\u5b9a\u306f <code>settings.yaml</code> \u306e <code>language</code> \u8a2d\u5b9a\u3067\u6c7a\u307e\u308a\u307e\u3059\u3002</p>"},{"location":"ja/features/mcp/","title":"MCP \u30d7\u30ed\u30c8\u30b3\u30eb","text":"<p>Riverse \u306f Model Context Protocol (MCP) \u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u304a\u308a\u3001Gmail \u306a\u3069\u306e\u5916\u90e8 MCP Server \u306b\u63a5\u7d9a\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"ja/features/mcp/#_1","title":"\u8a2d\u5b9a","text":"<p><code>settings.yaml</code> \u3067 MCP \u3092\u6709\u52b9\u5316\u3057\u30b5\u30fc\u30d0\u30fc\u3092\u8a2d\u5b9a\uff1a</p> <pre><code>mcp:\n  enabled: true\n  servers:\n    - name: \"gmail\"\n      command: \"npx\"\n      args: [\"-y\", \"@anthropic/mcp-gmail\"]\n</code></pre>"},{"location":"ja/features/mcp/#mcp_1","title":"MCP \u3068\u306f\uff1f","text":"<p>Model Context Protocol \u306f AI \u30e2\u30c7\u30eb\u3092\u5916\u90e8\u30c7\u30fc\u30bf\u30bd\u30fc\u30b9\u3084\u30c4\u30fc\u30eb\u306b\u63a5\u7d9a\u3059\u308b\u305f\u3081\u306e\u6a19\u6e96\u30d7\u30ed\u30c8\u30b3\u30eb\u3067\u3059\u3002Riverse \u304c\u4ee5\u4e0b\u306e\u30b5\u30fc\u30d3\u30b9\u3068\u9023\u643a\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\uff1a</p> <ul> <li>Gmail \u2014 \u30e1\u30fc\u30eb\u306e\u8aad\u307f\u53d6\u308a\u3068\u9001\u4fe1</li> <li>\u305d\u306e\u4ed6\u306e MCP \u4e92\u63db\u30b5\u30fc\u30d3\u30b9</li> </ul>"},{"location":"ja/features/mcp/#_2","title":"\u4ed5\u7d44\u307f","text":"<p>MCP \u3092\u6709\u52b9\u306b\u3059\u308b\u3068\u3001Riverse \u306f\u8d77\u52d5\u6642\u306b\u8a2d\u5b9a\u3055\u308c\u305f MCP \u30b5\u30fc\u30d0\u30fc\u306b\u63a5\u7d9a\u3057\u307e\u3059\u3002LLM \u306f\u4f1a\u8a71\u4e2d\u306b\u3053\u308c\u3089\u306e\u30b5\u30fc\u30d0\u30fc\u304c\u63d0\u4f9b\u3059\u308b\u30c4\u30fc\u30eb\u3092\u30d3\u30eb\u30c8\u30a4\u30f3\u30c4\u30fc\u30eb\u3068\u540c\u69d8\u306b\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"ja/features/memory/","title":"\u30e1\u30e2\u30ea &amp; Sleep","text":""},{"location":"ja/features/memory/#_1","title":"\u6c38\u7d9a\u7684\u306a\u8a18\u61b6","text":"<p>Riverse \u306f\u30bb\u30c3\u30b7\u30e7\u30f3\u3092\u8d85\u3048\u3066\u8a18\u61b6\u3057\u3001\u3042\u306a\u305f\u3068\u5171\u306b\u9032\u5316\u3059\u308b\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u30d9\u30fc\u30b9\u306e\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002\u3059\u3079\u3066\u306e\u4f1a\u8a71\u304c\u3001\u6027\u683c\u3001\u597d\u307f\u3001\u7d4c\u9a13\u3001\u4eba\u9593\u95a2\u4fc2\u306e\u7406\u89e3\u3092\u6df1\u3081\u307e\u3059\u3002</p> <p>\u3053\u308c\u306f\u6cb3\u6d41\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u306b\u3088\u3063\u3066\u5b9f\u73fe\u3055\u308c\u307e\u3059 \u2014 \u4f1a\u8a71\u306f\u6c34\u306e\u6d41\u308c\u3001\u91cd\u8981\u306a\u60c5\u5831\u306f\u6cb3\u5e8a\u306e\u5806\u7a4d\u7269\u306e\u3088\u3046\u306b\u6c88\u6bbf\u3057\u3001\u8907\u6570\u30bf\u30fc\u30f3\u306e\u691c\u8a3c\u3092\u7d4c\u3066\u300c\u63a8\u6e2c\u300d\u304b\u3089\u300c\u78ba\u8a8d\u300d\u3078\u3001\u3055\u3089\u306b\u300c\u78ba\u7acb\u300d\u3078\u3068\u6607\u683c\u3057\u307e\u3059\u3002</p>"},{"location":"ja/features/memory/#sleep_1","title":"Sleep \u2014 \u30aa\u30d5\u30e9\u30a4\u30f3\u8a18\u61b6\u7d71\u5408","text":"<p>Sleep \u306f Riverse \u304c\u4f1a\u8a71\u3092\u6d88\u5316\u3057\u3001\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u3092\u66f4\u65b0\u3059\u308b\u30d7\u30ed\u30bb\u30b9\u3067\u3059\u3002\u81ea\u52d5\u30fb\u624b\u52d5\u306e\u4e21\u65b9\u3067\u5b9f\u884c\u53ef\u80fd\uff1a</p> \u30c8\u30ea\u30ac\u30fc \u65b9\u6cd5 Telegram <code>/new</code> \u3092\u9001\u4fe1 \u2014 \u30bb\u30c3\u30b7\u30e7\u30f3\u3092\u30ea\u30bb\u30c3\u30c8\u3057\u3001\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u3067 Sleep \u3092\u5b9f\u884c CLI \u7d42\u4e86\u6642\u306b\u81ea\u52d5\u5b9f\u884c\uff08<code>quit</code> \u307e\u305f\u306f Ctrl+C\uff09 REST API <code>POST /sleep</code> cron\uff08\u63a8\u5968\uff09 \u6bce\u6669\u306e\u5b9a\u6642\u30b8\u30e7\u30d6\u3067\u4e00\u65e5\u306e\u4f1a\u8a71\u3092\u7d71\u5408"},{"location":"ja/features/memory/#cron","title":"cron \u306e\u4f8b","text":"<p>\u6bce\u65e5 0 \u6642\u306b Sleep \u3092\u5b9f\u884c\uff1a</p> <pre><code># crontab -e\n0 0 * * * cd /path/to/JKRiver &amp;&amp; /path/to/python -c \"from agent.sleep import run; run()\"\n</code></pre>"},{"location":"ja/features/memory/#_2","title":"\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u691c\u7d22","text":"<p>\u57cb\u3081\u8fbc\u307f\uff08BGE-M3\uff09\u3092\u6709\u52b9\u306b\u3059\u308b\u3068\u3001\u30ad\u30fc\u30ef\u30fc\u30c9\u3067\u306f\u306a\u304f\u610f\u5473\u3067\u95a2\u9023\u3059\u308b\u8a18\u61b6\u3092\u691c\u7d22\u3067\u304d\u307e\u3059\u3002</p> <pre><code>embedding:\n  enabled: true\n  model: \"bge-m3\"\n  api_base: \"http://localhost:11434\"\n</code></pre>"},{"location":"ja/features/memory/#_3","title":"\u30e1\u30e2\u30ea\u306e\u7cbe\u5ea6","text":"<p>Info</p> <p>\u73fe\u5728\u3001\u500b\u4eba\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u62bd\u51fa\u306b\u7279\u5316\u3057\u3066\u8a13\u7df4\u3055\u308c\u305f LLM \u306f\u5b58\u5728\u3057\u306a\u3044\u305f\u3081\u3001\u62bd\u51fa\u7d50\u679c\u306b\u8aa4\u308a\u304c\u542b\u307e\u308c\u308b\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002\u4e0d\u6b63\u78ba\u306a\u5185\u5bb9\u3092\u898b\u3064\u3051\u305f\u5834\u5408\u306f\u3001Web \u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u3067\u8aa4\u3063\u305f\u8a18\u61b6\u3092\u62d2\u5426\u3059\u308b\u304b\u3001\u53e4\u304f\u306a\u3063\u305f\u8a18\u61b6\u3092\u30af\u30ed\u30fc\u30ba\u3067\u304d\u307e\u3059\u3002Riverse \u306f\u8a18\u61b6\u5185\u5bb9\u306e\u624b\u52d5\u7de8\u96c6\u3092\u610f\u56f3\u7684\u306b\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u305b\u3093 \u2014 \u8aa4\u3063\u305f\u8a18\u61b6\u306f\u6cb3\u306e\u4e2d\u306e\u6ce5\u6c99\u306e\u3088\u3046\u306b\u3001\u6c34\u6d41\u306b\u6d17\u3044\u6d41\u3055\u308c\u308b\u3079\u304d\u3082\u306e\u3067\u3042\u308a\u3001\u4eba\u306e\u624b\u3067\u6cb3\u5e8a\u3092\u524a\u308b\u3079\u304d\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u4f1a\u8a71\u304c\u84c4\u7a4d\u3055\u308c\u308b\u306b\u3064\u308c\u3001\u6cb3\u6d41\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u304c\u30de\u30eb\u30c1\u30bf\u30fc\u30f3\u691c\u8a3c\u3068\u77db\u76fe\u691c\u51fa\u306b\u3088\u308a\u7d99\u7d9a\u7684\u306b\u81ea\u5df1\u4fee\u6b63\u3057\u3001\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u306f\u3088\u308a\u6b63\u78ba\u306b\u306a\u3063\u3066\u3044\u304d\u307e\u3059\u3002</p>"},{"location":"ja/features/multi-channel/","title":"\u30de\u30eb\u30c1\u30c1\u30e3\u30cd\u30eb\u30a2\u30af\u30bb\u30b9","text":"<p>Riverse \u306f\u8907\u6570\u306e\u901a\u4fe1\u30c1\u30e3\u30cd\u30eb\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002\u3059\u3079\u3066\u306e\u30c1\u30e3\u30cd\u30eb\u3067\u540c\u3058\u30e1\u30e2\u30ea\u3068\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u3092\u5171\u6709\u3057\u307e\u3059\u3002</p>"},{"location":"ja/features/multi-channel/#_2","title":"\u5bfe\u5fdc\u30c1\u30e3\u30cd\u30eb","text":"\u30c1\u30e3\u30cd\u30eb \u30b3\u30de\u30f3\u30c9 \u8aac\u660e CLI <code>python -m agent.main</code> \u30bf\u30fc\u30df\u30ca\u30eb\u5bfe\u8a71\u30e2\u30fc\u30c9 Telegram Bot <code>python -m agent.telegram_bot</code> \u30c6\u30ad\u30b9\u30c8\u3001\u97f3\u58f0\u3001\u753b\u50cf\u3001\u30d5\u30a1\u30a4\u30eb\u5bfe\u5fdc Discord Bot <code>python -m agent.discord_bot</code> \u30c6\u30ad\u30b9\u30c8\u30c1\u30e3\u30c3\u30c8 REST API <code>uvicorn agent.api:app --host 0.0.0.0 --port 8400</code> HTTP \u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8 WebSocket REST API \u306b\u542b\u307e\u308c\u308b \u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u53cc\u65b9\u5411\u30c1\u30e3\u30c3\u30c8 Web \u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9 <code>python web.py</code> \u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u8868\u793a\u3068\u30e1\u30e2\u30ea\u7ba1\u7406"},{"location":"ja/features/multi-channel/#telegram-bot","title":"Telegram Bot","text":"<p>\u63a8\u5968\u30e1\u30a4\u30f3\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9 \u2014 \u30de\u30eb\u30c1\u30e2\u30fc\u30c0\u30eb\u5165\u529b\uff08\u30c6\u30ad\u30b9\u30c8\u3001\u97f3\u58f0\u3001\u753b\u50cf\u3001\u30d5\u30a1\u30a4\u30eb\uff09\u3092\u30b5\u30dd\u30fc\u30c8\u3002</p> <p>\u8a2d\u5b9a\uff1a</p> <ol> <li>@BotFather \u3067 Bot \u3092\u4f5c\u6210\uff08<code>/newbot</code>\uff09</li> <li>@userinfobot \u3067 User ID \u3092\u53d6\u5f97</li> <li><code>settings.yaml</code> \u3067\u8a2d\u5b9a\uff1a</li> </ol> <pre><code>telegram:\n  bot_token: \"123456:ABC-DEF...\"\n  temp_dir: \"tmp/telegram\"\n  allowed_user_ids: [your_user_id]\n</code></pre>"},{"location":"ja/features/multi-channel/#discord-bot","title":"Discord Bot","text":"<ol> <li>Discord Developer Portal \u3067\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u6210</li> <li>Bot \u30da\u30fc\u30b8\u3067 Message Content Intent \u3092\u6709\u52b9\u5316</li> <li>OAuth2 \u3067\u30b5\u30fc\u30d0\u30fc\u306b\u62db\u5f85</li> </ol> <pre><code>discord:\n  bot_token: \"your-discord-bot-token\"\n  allowed_user_ids: []           # \u7a7a = \u5168\u54e1\u8a31\u53ef\n</code></pre>"},{"location":"ja/features/multi-channel/#web","title":"Web \u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9","text":"<pre><code>python web.py                          # \u30c7\u30d5\u30a9\u30eb\u30c8\u30dd\u30fc\u30c8 1234\npython web.py --port 8401              # \u30dd\u30fc\u30c8\u6307\u5b9a\n</code></pre> <p>\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u6a5f\u80fd\uff1a</p> <ul> <li>\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u6982\u8981\uff08\u30ab\u30c6\u30b4\u30ea\u3001\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u3001\u78ba\u8a8d/\u672a\u78ba\u8a8d\u30b9\u30c6\u30fc\u30bf\u30b9\uff09</li> <li>\u4eba\u9593\u95a2\u4fc2\u30b0\u30e9\u30d5</li> <li>\u8ecc\u8de1\u5206\u6790</li> <li>\u89b3\u5bdf\u8a18\u9332</li> <li>\u30e1\u30e2\u30ea\u30ec\u30d3\u30e5\u30fc\uff08\u78ba\u8a8d\u3001\u62d2\u5426\u3001\u77db\u76fe\u306e\u89e3\u6c7a\uff09</li> <li>\u8ca1\u52d9\u30fb\u5065\u5eb7\u30c7\u30fc\u30bf</li> </ul>"},{"location":"ja/features/proactive/","title":"\u30d7\u30ed\u30a2\u30af\u30c6\u30a3\u30d6\u901a\u77e5","text":"<p>Riverse \u306f\u30d7\u30ed\u30a2\u30af\u30c6\u30a3\u30d6\u306b\u3042\u306a\u305f\u306b\u9023\u7d61\u3067\u304d\u307e\u3059 \u2014 \u30a4\u30d9\u30f3\u30c8\u306e\u30d5\u30a9\u30ed\u30fc\u30a2\u30c3\u30d7\u3001\u30a2\u30a4\u30c9\u30eb\u30c1\u30a7\u30c3\u30af\u30a4\u30f3\u3001\u30bf\u30a4\u30e0\u30ea\u30fc\u306a\u30ea\u30de\u30a4\u30f3\u30c0\u30fc\u3002</p>"},{"location":"ja/features/proactive/#_2","title":"\u8a2d\u5b9a","text":"<pre><code>proactive:\n  enabled: true\n  scan_interval_minutes: 30       # \u30b9\u30ad\u30e3\u30f3\u9593\u9694\uff08\u5206\uff09\n  quiet_hours:\n    start: \"23:00\"\n    end: \"08:00\"\n  max_messages_per_day: 3         # 1\u65e5\u306e\u6700\u5927\u30e1\u30c3\u30bb\u30fc\u30b8\u6570\n  min_gap_minutes: 120            # \u30e1\u30c3\u30bb\u30fc\u30b8\u9593\u306e\u6700\u5c0f\u9593\u9694\uff08\u5206\uff09\n</code></pre>"},{"location":"ja/features/proactive/#_3","title":"\u30c8\u30ea\u30ac\u30fc\u30bf\u30a4\u30d7","text":""},{"location":"ja/features/proactive/#_4","title":"\u30a4\u30d9\u30f3\u30c8\u30d5\u30a9\u30ed\u30fc\u30a2\u30c3\u30d7","text":"<p>\u91cd\u8981\u306a\u30a4\u30d9\u30f3\u30c8\u3092\u81ea\u52d5\u7684\u306b\u30d5\u30a9\u30ed\u30fc\u30a2\u30c3\u30d7\uff08\u4f8b\uff1a\u9762\u63a5\u3001\u65c5\u884c\u306e\u8a08\u753b\u306a\u3069\uff09\u3002</p> <pre><code>proactive:\n  triggers:\n    event_followup:\n      enabled: true\n      min_importance: 0.6         # \u6700\u5c0f\u91cd\u8981\u5ea6\u30b9\u30b3\u30a2\uff080-1\uff09\n      followup_after_hours: 24    # \u30d5\u30a9\u30ed\u30fc\u30a2\u30c3\u30d7\u307e\u3067\u306e\u5f85\u6a5f\u6642\u9593\n      max_age_days: 7             # \u3053\u308c\u3088\u308a\u53e4\u3044\u30a4\u30d9\u30f3\u30c8\u306f\u30d5\u30a9\u30ed\u30fc\u3057\u306a\u3044\n</code></pre>"},{"location":"ja/features/proactive/#_5","title":"\u6226\u7565","text":"<p>\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u6226\u7565\u306e\u6d1e\u5bdf\u306b\u57fa\u3065\u3044\u3066\u30d7\u30ed\u30a2\u30af\u30c6\u30a3\u30d6\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u30c8\u30ea\u30ac\u30fc \u2014 \u4f1a\u8a71\u3067\u767a\u898b\u3055\u308c\u305f\u30d1\u30bf\u30fc\u30f3\u306b\u57fa\u3065\u304f\u30a2\u30af\u30b7\u30e7\u30f3\u63d0\u6848\u306a\u3069\u3002</p> <pre><code>proactive:\n  triggers:\n    strategy:\n      enabled: true\n</code></pre>"},{"location":"ja/features/proactive/#_6","title":"\u30a2\u30a4\u30c9\u30eb\u30c1\u30a7\u30c3\u30af\u30a4\u30f3","text":"<p>\u3057\u3070\u3089\u304f\u4f1a\u8a71\u304c\u306a\u3044\u6642\u306b\u30d5\u30ec\u30f3\u30c9\u30ea\u30fc\u306a\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u9001\u4fe1\u3002</p> <pre><code>proactive:\n  triggers:\n    idle_checkin:\n      enabled: true\n      idle_hours: 48              # \u3053\u306e\u6642\u9593\u6c88\u9ed9\u5f8c\u306b\u30c1\u30a7\u30c3\u30af\u30a4\u30f3\n</code></pre>"},{"location":"ja/features/proactive/#_7","title":"\u4ed5\u7d44\u307f","text":"<p>\u30d7\u30ed\u30a2\u30af\u30c6\u30a3\u30d6\u30b7\u30b9\u30c6\u30e0\u306f <code>scan_interval_minutes</code> \u9593\u9694\u3067\u5b9a\u671f\u7684\u306b\u30b9\u30ad\u30e3\u30f3\u3057\u307e\u3059\u3002\u5404\u30b9\u30ad\u30e3\u30f3\u3067\uff1a</p> <ol> <li>\u9759\u5bc2\u6642\u9593\u5e2f\u304b\u3069\u3046\u304b\u3092\u78ba\u8a8d \u2014 \u8a72\u5f53\u3059\u308b\u5834\u5408\u306f\u30b9\u30ad\u30c3\u30d7</li> <li>\u30ec\u30fc\u30c8\u5236\u9650\u3092\u78ba\u8a8d\uff08<code>max_messages_per_day</code>\u3001<code>min_gap_minutes</code>\uff09</li> <li>\u5404\u30c8\u30ea\u30ac\u30fc\u30bf\u30a4\u30d7\u3092\u9806\u756a\u306b\u8a55\u4fa1</li> <li>\u30c8\u30ea\u30ac\u30fc\u6761\u4ef6\u304c\u6e80\u305f\u3055\u308c\u305f\u5834\u5408\u3001\u901a\u5e38\u306e\u4f1a\u8a71\u3068\u540c\u3058\u30e1\u30e2\u30ea\u3068\u8a8d\u77e5\u30b7\u30b9\u30c6\u30e0\u3092\u4f7f\u7528\u3057\u3066\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u5373\u3057\u305f\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u751f\u6210</li> </ol>"},{"location":"ja/features/skills/","title":"\u30b9\u30ad\u30eb\u30b7\u30b9\u30c6\u30e0","text":"<p>\u30b7\u30f3\u30d7\u30eb\u306a YAML \u30d5\u30a1\u30a4\u30eb\u3067\u30ab\u30b9\u30bf\u30e0\u52d5\u4f5c\u3092\u4f5c\u6210 \u2014 \u30ad\u30fc\u30ef\u30fc\u30c9\u307e\u305f\u306f cron \u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u3067\u30c8\u30ea\u30ac\u30fc\u3002</p>"},{"location":"ja/features/skills/#_2","title":"\u30b9\u30ad\u30eb\u306e\u4f5c\u6210","text":"<p><code>agent/skills/</code> \u306b <code>.yaml</code> \u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u3066\u30b9\u30ad\u30eb\u3092\u5b9a\u7fa9\u3002</p>"},{"location":"ja/features/skills/#_3","title":"\u30ad\u30fc\u30ef\u30fc\u30c9\u30c8\u30ea\u30ac\u30fc","text":"<pre><code>name: explain_code\ndescription: \u30b3\u30fc\u30c9\u3092\u9001\u3063\u305f\u6642\u306b\u81ea\u52d5\u3067\u8aac\u660e\ntrigger:\n  type: keyword\n  keywords: [\"\u30b3\u30fc\u30c9\u8aac\u660e\", \"explain code\"]\ninstruction: |\n  \u30e6\u30fc\u30b6\u30fc\u304c\u30b3\u30fc\u30c9\u306e\u8aac\u660e\u3092\u6c42\u3081\u3066\u3044\u307e\u3059\u3002\u4ee5\u4e0b\u306e\u624b\u9806\u3067\uff1a\n  1. \u30b3\u30fc\u30c9\u306e\u76ee\u7684\u3092\u4e00\u6587\u3067\u8981\u7d04\n  2. \u4e3b\u8981\u306a\u30ed\u30b8\u30c3\u30af\u3092\u884c\u3054\u3068\u307e\u305f\u306f\u30d6\u30ed\u30c3\u30af\u3054\u3068\u306b\u8aac\u660e\n  3. \u6539\u5584\u70b9\u3092\u6307\u6458\nenabled: true\n</code></pre>"},{"location":"ja/features/skills/#_4","title":"\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u30c8\u30ea\u30ac\u30fc","text":"<pre><code>name: weekly_summary\ndescription: \u6bce\u9031\u65e5\u66dc\u65e5\u306b\u9031\u672b\u306e\u6328\u62f6\u3092\u9001\u4fe1\ntrigger:\n  type: schedule\n  cron: \"0 20 * * 0\"\nsteps:\n  - respond: |\n      \u77ed\u304f\u6e29\u304b\u3044\u9031\u672b\u306e\u6328\u62f6\u3092\u66f8\u3044\u3066\u304f\u3060\u3055\u3044\u3002\nenabled: true\n</code></pre>"},{"location":"ja/features/skills/#_5","title":"\u30c1\u30e3\u30c3\u30c8\u3067\u30b9\u30ad\u30eb\u3092\u4f5c\u6210","text":"<p>Bot \u306b\u76f4\u63a5\u8a71\u3057\u304b\u3051\u308b\u3060\u3051\u3067\u30b9\u30ad\u30eb\u3092\u4f5c\u6210\u3067\u304d\u307e\u3059\uff1a</p> <p>\u300c\u30b9\u30ad\u30eb\u3092\u4f5c\u3063\u3066\u30012\u6642\u9593\u3054\u3068\u306b\u6c34\u3092\u98f2\u3080\u3088\u3046\u601d\u3044\u51fa\u3055\u305b\u3066\u300d</p> <p>Bot \u304c\u81ea\u52d5\u7684\u306b YAML \u3092\u751f\u6210\u3057\u3001<code>agent/skills/</code> \u306b\u4fdd\u5b58\u3057\u307e\u3059\u3002</p>"},{"location":"ja/features/skills/#_6","title":"\u30ab\u30b9\u30bf\u30e0\u30b9\u30ad\u30eb\u958b\u767a","text":"<p>\u9ad8\u5ea6\u306a\u30b9\u30ad\u30eb\u69cb\u7bc9\u306e\u8a73\u7d30\u306f\u30ab\u30b9\u30bf\u30e0\u30b9\u30ad\u30eb\u958b\u767a\u30ac\u30a4\u30c9\u3092\u3054\u53c2\u7167\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"ja/features/tools/","title":"\u30d3\u30eb\u30c8\u30a4\u30f3\u30c4\u30fc\u30eb","text":"<p>Riverse \u306b\u306f\u30d7\u30e9\u30ac\u30d6\u30eb\u306a\u30c4\u30fc\u30eb\u30b7\u30b9\u30c6\u30e0\u304c\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u3002LLM \u304c\u4f1a\u8a71\u306e\u6587\u8108\u306b\u57fa\u3065\u3044\u3066\u81ea\u52d5\u7684\u306b\u30c4\u30fc\u30eb\u306e\u547c\u3073\u51fa\u3057\u3092\u5224\u65ad\u3057\u307e\u3059\u3002</p>"},{"location":"ja/features/tools/#_2","title":"\u5229\u7528\u53ef\u80fd\u306a\u30c4\u30fc\u30eb","text":"\u30c4\u30fc\u30eb \u8aac\u660e Web \u691c\u7d22 \u6700\u65b0\u60c5\u5831\u3092 Web \u3067\u691c\u7d22\uff08cloud LLM \u306e <code>search: true</code> \u30e2\u30c7\u30eb\u3092\u4f7f\u7528\uff09 \u753b\u50cf\u8a8d\u8b58 GPT-4 Vision / Ollama LLaVA \u3067\u753b\u50cf\u5206\u6790 \u97f3\u58f0\u8a8d\u8b58 OpenAI Whisper-1 \u3067\u97f3\u58f0\u3092\u30c6\u30ad\u30b9\u30c8\u306b\u5909\u63db TTS Edge TTS \u3067\u30c6\u30ad\u30b9\u30c8\u3092\u97f3\u58f0\u306b\u5909\u63db \u30d5\u30a1\u30a4\u30eb\u8aad\u307f\u53d6\u308a \u30ed\u30fc\u30ab\u30eb\u30c6\u30ad\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\uff08.txt, .py, .yaml, .json, .md\uff09\u3092\u8aad\u307f\u53d6\u308a Shell \u30b3\u30de\u30f3\u30c9 \u5b89\u5168\u306a\u30b7\u30a7\u30eb\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\uff08\u30db\u30ef\u30a4\u30c8\u30ea\u30b9\u30c8\u5236\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u7121\u52b9\uff09 \u8ca1\u52d9\u8ffd\u8de1 \u8ca1\u52d9\u30c7\u30fc\u30bf\u306e\u8ffd\u8de1\u3068\u5206\u6790 \u5065\u5eb7\u540c\u671f Withings \u30c7\u30d0\u30a4\u30b9\u304b\u3089\u5065\u5eb7\u30c7\u30fc\u30bf\u3092\u540c\u671f"},{"location":"ja/features/tools/#_3","title":"\u8a2d\u5b9a","text":"<pre><code>tools:\n  enabled: true\n  shell_exec:\n    enabled: false               # \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u306e\u305f\u3081\u30c7\u30d5\u30a9\u30eb\u30c8\u7121\u52b9\n</code></pre>"},{"location":"ja/features/tools/#_4","title":"\u4ed5\u7d44\u307f","text":"<ol> <li>\u8d77\u52d5\u6642\u306b <code>ToolRegistry</code> \u304c <code>agent/tools/</code> \u5185\u306e\u3059\u3079\u3066\u306e <code>.py</code> \u30d5\u30a1\u30a4\u30eb\u3092\u30b9\u30ad\u30e3\u30f3\uff08<code>_</code> \u3067\u59cb\u307e\u308b\u30d5\u30a1\u30a4\u30eb\u306f\u30b9\u30ad\u30c3\u30d7\uff09</li> <li>\u5404 <code>BaseTool</code> \u30b5\u30d6\u30af\u30e9\u30b9\u306b\u5bfe\u3057\u3066 <code>is_available()</code> \u3092\u547c\u3073\u51fa\u3057</li> <li>\u5229\u7528\u53ef\u80fd\u306a\u30c4\u30fc\u30eb\u306f <code>manifest().name</code> \u3067\u767b\u9332</li> <li>\u30e6\u30fc\u30b6\u30fc\u304c\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u9001\u4fe1\u3059\u308b\u3068\u3001LLM \u306f\u3059\u3079\u3066\u306e\u30c4\u30fc\u30eb\u306e manifest \u3092\u78ba\u8a8d\u3057\u3001\u3069\u308c\u3092\u547c\u3073\u51fa\u3059\u304b\u6c7a\u5b9a</li> <li>\u30c4\u30fc\u30eb\u306e <code>execute()</code> \u7d50\u679c\u304c LLM \u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306b\u6ce8\u5165\u3055\u308c\u3001\u6700\u7d42\u56de\u7b54\u306e\u751f\u6210\u306b\u4f7f\u7528</li> </ol>"},{"location":"ja/features/tools/#_5","title":"\u30ab\u30b9\u30bf\u30e0\u30c4\u30fc\u30eb","text":"<p><code>agent/tools/</code> \u306b <code>.py</code> \u30d5\u30a1\u30a4\u30eb\u3092\u8ffd\u52a0\u3057\u3066\u72ec\u81ea\u306e\u30c4\u30fc\u30eb\u3092\u4f5c\u6210\u3067\u304d\u307e\u3059\u3002\u30ab\u30b9\u30bf\u30e0\u30c4\u30fc\u30eb\u958b\u767a\u30ac\u30a4\u30c9\u3092\u3054\u53c2\u7167\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"ja/getting-started/configuration/","title":"\u8a2d\u5b9a","text":"<p>\u3059\u3079\u3066\u306e\u8a2d\u5b9a\u306f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30eb\u30fc\u30c8\u306e <code>settings.yaml</code> \u3067\u4e00\u5143\u7ba1\u7406\u3057\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"ja/getting-started/configuration/#_2","title":"\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9","text":"<pre><code>database:\n    name: \"Riverse\"\n    user: \"your_username\"     # PostgreSQL \u306e\u30e6\u30fc\u30b6\u30fc\u540d\n    host: \"localhost\"\n</code></pre> <p>Tip</p> <p>macOS Homebrew \u306e PostgreSQL \u306f\u30b7\u30b9\u30c6\u30e0\u306e\u30e6\u30fc\u30b6\u30fc\u540d\uff08<code>whoami</code> \u3067\u78ba\u8a8d\uff09\u3092\u4f7f\u3044\u307e\u3059\u3002Linux/Windows \u306f\u901a\u5e38 <code>postgres</code> \u3067\u3059\u3002</p>"},{"location":"ja/getting-started/configuration/#_3","title":"\u8a00\u8a9e","text":"<pre><code>language: \"ja\"                  # en / zh / ja\n</code></pre>"},{"location":"ja/getting-started/configuration/#llm","title":"LLM \u8a2d\u5b9a","text":"\u30ed\u30fc\u30ab\u30eb\uff08Ollama\uff09\u30af\u30e9\u30a6\u30c9\u306e\u307f\uff08Ollama \u4e0d\u8981\uff09 <pre><code>ollama pull &lt;your-model&gt;         # \u4f8b\uff1aqwen2.5:14b, llama3, mistral\nollama pull bge-m3              # \u57cb\u3081\u8fbc\u307f\u30e2\u30c7\u30eb\uff08\u30aa\u30d7\u30b7\u30e7\u30f3\uff09\n</code></pre> <pre><code>llm_provider: \"local\"\n\nlocal:\n  model: \"your-model\"            # \u4f8b\uff1aqwen2.5:14b, llama3, mistral\n  api_base: \"http://localhost:11434\"\n  temperature: 0.7              # \u5fdc\u7b54\u306e\u30e9\u30f3\u30c0\u30e0\u6027 0-1\n  max_tokens: 2048              # \u6700\u5927\u5fdc\u7b54\u9577\n</code></pre> <pre><code>llm_provider: \"openai\"\n\nopenai:\n  model: \"gpt-4o-mini\"\n  api_base: \"https://api.openai.com\"\n  api_key: \"sk-your-openai-api-key\"\n  temperature: 0.7\n  max_tokens: 2048\n</code></pre> <p>Tip</p> <p><code>openai</code> \u8a2d\u5b9a\u306f\u3059\u3079\u3066\u306e OpenAI \u4e92\u63db API \u306b\u5bfe\u5fdc: OpenAI / DeepSeek / Groq / \u30ed\u30fc\u30ab\u30eb vLLM \u306a\u3069\u3002<code>api_base</code> \u3068 <code>api_key</code> \u3092\u5909\u66f4\u3059\u308b\u3060\u3051\u3067\u3059\u3002</p>"},{"location":"ja/getting-started/configuration/#llm_1","title":"\u30af\u30e9\u30a6\u30c9 LLM \u30d5\u30a9\u30fc\u30eb\u30d0\u30c3\u30af","text":"<p>\u30ed\u30fc\u30ab\u30eb\u30e2\u30c7\u30eb\u306e\u54c1\u8cea\u304c\u4e0d\u5341\u5206\u306a\u5834\u5408\u306b\u81ea\u52d5\u7684\u306b\u30af\u30e9\u30a6\u30c9\u306b\u30a8\u30b9\u30ab\u30ec\u30fc\u30b7\u30e7\u30f3\u3002\u30ed\u30fc\u30ab\u30eb\u30e2\u30c7\u30eb\u4f7f\u7528\u6642\u3067\u3082\u8a2d\u5b9a\u3092\u63a8\u5968\uff1a</p> <pre><code>cloud_llm:\n  enabled: true\n  providers:\n    - name: \"openai\"\n      model: \"gpt-4o\"\n      api_base: \"https://api.openai.com\"\n      api_key: \"sk-your-openai-api-key\"\n      search: true              # Web\u691c\u7d22\u3092\u6709\u52b9\u5316\n      priority: 1\n    - name: \"deepseek\"\n      model: \"deepseek-chat\"\n      api_base: \"https://api.deepseek.com\"\n      api_key: \"sk-your-deepseek-key\"\n      priority: 2\n  escalation:\n    auto: true                    # \u81ea\u52d5\u30a8\u30b9\u30ab\u30ec\u30fc\u30b7\u30e7\u30f3\n    feedback: true                # \u30a8\u30b9\u30ab\u30ec\u30fc\u30b7\u30e7\u30f3\u5f8c\u306b\u30e6\u30fc\u30b6\u30fc\u306b\u901a\u77e5\n    min_response_length: 20       # \u3053\u308c\u3088\u308a\u77ed\u3044\u56de\u7b54\u306f\u4f4e\u54c1\u8cea\u3068\u5224\u5b9a\n    failure_keywords:             # \u3053\u308c\u3089\u3092\u542b\u3080\u56de\u7b54\u306f\u5931\u6557\u3068\u5224\u5b9a\n      - \"\u308f\u304b\u308a\u307e\u305b\u3093\"\n      - \"\u3067\u304d\u307e\u305b\u3093\"\n</code></pre>"},{"location":"ja/getting-started/configuration/#telegram-bot","title":"Telegram Bot","text":"<ol> <li>Telegram \u3067 @BotFather \u306b <code>/newbot</code> \u3092\u9001\u4fe1\u3057\u3066 Bot \u3092\u4f5c\u6210\u3001\u30c8\u30fc\u30af\u30f3\u3092\u53d6\u5f97</li> <li>user ID \u3092\u53d6\u5f97\uff08\u3069\u3061\u3089\u304b\uff09\uff1a<ul> <li>@userinfobot \u306b\u4efb\u610f\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u9001\u308b\u3068\u3001ID \u304c\u8fd4\u3063\u3066\u304d\u307e\u3059</li> <li>\u307e\u305f\u306f Bot \u306b\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u9001\u308a\u3001<code>https://api.telegram.org/bot&lt;TOKEN&gt;/getUpdates</code> \u306b\u30a2\u30af\u30bb\u30b9</li> </ul> </li> <li><code>settings.yaml</code> \u3092\u7de8\u96c6\uff1a</li> </ol> <pre><code>telegram:\n  bot_token: \"123456:ABC-DEF...\"\n  temp_dir: \"tmp/telegram\"\n  allowed_user_ids: [your_user_id]  # \u81ea\u5206\u3060\u3051\u8a31\u53ef\n</code></pre>"},{"location":"ja/getting-started/configuration/#discord-bot","title":"Discord Bot\uff08\u30aa\u30d7\u30b7\u30e7\u30f3\uff09","text":"<ol> <li>Discord Developer Portal \u3067\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u6210</li> <li>Bot \u30da\u30fc\u30b8\u3067\u30c8\u30fc\u30af\u30f3\u3092\u53d6\u5f97\u3001Message Content Intent \u3092\u6709\u52b9\u5316</li> <li>OAuth2 URL \u3067 Bot \u3092\u30b5\u30fc\u30d0\u30fc\u306b\u62db\u5f85</li> </ol> <pre><code>discord:\n  bot_token: \"your-discord-bot-token\"\n  allowed_user_ids: []           # \u7a7a = \u5168\u54e1\u8a31\u53ef\u3001ID \u3092\u5165\u308c\u308b\u3068\u5236\u9650\n</code></pre>"},{"location":"ja/getting-started/configuration/#_4","title":"\u57cb\u3081\u8fbc\u307f / \u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af\u691c\u7d22\uff08\u30aa\u30d7\u30b7\u30e7\u30f3\uff09","text":"<p>\u30ad\u30fc\u30ef\u30fc\u30c9\u3067\u306f\u306a\u304f\u610f\u5473\u3067\u8a18\u61b6\u3092\u691c\u7d22\u3067\u304d\u307e\u3059\u3002Ollama + bge-m3 \u304c\u5fc5\u8981\uff1a</p> <pre><code>ollama pull bge-m3\n</code></pre> <pre><code>embedding:\n  enabled: true\n  model: \"bge-m3\"\n  api_base: \"http://localhost:11434\"\n</code></pre>"},{"location":"ja/getting-started/configuration/#_5","title":"\u305d\u306e\u4ed6\u306e\u8a2d\u5b9a","text":"<pre><code># \u30c4\u30fc\u30eb\ntools:\n  enabled: true\n  shell_exec:\n    enabled: false               # \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u306e\u305f\u3081\u30c7\u30d5\u30a9\u30eb\u30c8\u7121\u52b9\n\n# TTS\ntts:\n  enabled: false\n\n# MCP \u30d7\u30ed\u30c8\u30b3\u30eb\nmcp:\n  enabled: false\n  servers: []\n\n# \u30d7\u30ed\u30a2\u30af\u30c6\u30a3\u30d6\u901a\u77e5\nproactive:\n  enabled: true\n  quiet_hours:\n    start: \"23:00\"\n    end: \"08:00\"\n</code></pre>"},{"location":"ja/getting-started/docker/","title":"Docker \u30af\u30a4\u30c3\u30af\u30b9\u30bf\u30fc\u30c8","text":"<p>Python \u3084 PostgreSQL \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u304f\u306a\u3044\u65b9\u3078\u3002Docker \u3067 3 \u30b3\u30de\u30f3\u30c9\u3067 Riverse \u3092\u4f53\u9a13\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"ja/getting-started/docker/#_1","title":"\u30af\u30a4\u30c3\u30af\u30b9\u30bf\u30fc\u30c8","text":"<p>Riverse-Docker \u30ea\u30dd\u30b8\u30c8\u30ea\u3067\u5b8c\u5168\u306a\u624b\u9806\u3092\u3054\u78ba\u8a8d\u304f\u3060\u3055\u3044\u3002</p> <p>\u5bfe\u5fdc\uff1a</p> <ul> <li>OpenAI</li> <li>DeepSeek</li> <li>Groq</li> <li>\u305d\u306e\u4ed6\u306e OpenAI \u4e92\u63db API</li> </ul>"},{"location":"ja/getting-started/docker/#_2","title":"\u542b\u307e\u308c\u308b\u3082\u306e","text":"<p>Docker \u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u306b\u542b\u307e\u308c\u308b\u3082\u306e\uff1a</p> <ul> <li>Python \u30e9\u30f3\u30bf\u30a4\u30e0</li> <li>PostgreSQL \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9</li> <li>Riverse \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3</li> <li>\u3059\u3079\u3066\u306e\u4f9d\u5b58\u30d1\u30c3\u30b1\u30fc\u30b8</li> </ul> <p>Python\u3001PostgreSQL\u3001Ollama \u306e\u624b\u52d5\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u4e0d\u8981 \u2014 API \u30ad\u30fc\u3092\u5165\u529b\u3059\u308b\u3060\u3051\u3067\u3059\u3050\u306b\u4f1a\u8a71\u958b\u59cb\u3002</p>"},{"location":"ja/getting-started/first-chat/","title":"\u521d\u3081\u3066\u306e\u4f1a\u8a71","text":"<p>\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068\u8a2d\u5b9a\u304c\u5b8c\u4e86\u3057\u305f\u3089\u3001Riverse \u3068\u306e\u521d\u3081\u3066\u306e\u4f1a\u8a71\u3092\u59cb\u3081\u307e\u3057\u3087\u3046\u3002</p>"},{"location":"ja/getting-started/first-chat/#cli","title":"CLI \u30e2\u30fc\u30c9","text":"<p>\u6700\u3082\u7c21\u5358\u306a\u59cb\u3081\u65b9\uff1a</p> <pre><code>source .venv/bin/activate\npython -m agent.main\n</code></pre> <p>\u30bf\u30fc\u30df\u30ca\u30eb\u3067\u76f4\u63a5\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u5165\u529b\u3002<code>quit</code> \u307e\u305f\u306f <code>Ctrl+C</code> \u3067\u7d42\u4e86 \u2014 Sleep \u304c\u81ea\u52d5\u7684\u306b\u5b9f\u884c\u3055\u308c\u3001\u4f1a\u8a71\u304c\u8a18\u61b6\u306b\u7d71\u5408\u3055\u308c\u307e\u3059\u3002</p>"},{"location":"ja/getting-started/first-chat/#telegram-bot","title":"Telegram Bot","text":"<pre><code>python -m agent.telegram_bot\n</code></pre> <p>Telegram \u3067 Bot \u3068\u30c1\u30e3\u30c3\u30c8\u3092\u958b\u59cb\u3002\u5bfe\u5fdc\uff1a</p> <ul> <li>\u30c6\u30ad\u30b9\u30c8\u30e1\u30c3\u30bb\u30fc\u30b8</li> <li>\u97f3\u58f0\u30e1\u30c3\u30bb\u30fc\u30b8\uff08Whisper \u3067\u6587\u5b57\u8d77\u3053\u3057\uff09</li> <li>\u753b\u50cf\uff08GPT-4 Vision / LLaVA \u3067\u5206\u6790\uff09</li> <li>\u30d5\u30a1\u30a4\u30eb</li> </ul> <p><code>/new</code> \u3092\u9001\u4fe1\u3057\u3066\u65b0\u3057\u3044\u30bb\u30c3\u30b7\u30e7\u30f3\u3092\u958b\u59cb\u3057\u3001Sleep \u3092\u30c8\u30ea\u30ac\u30fc\u3002<code>/sleep</code> \u3092\u9001\u4fe1\u3059\u308b\u3068\u65b0\u3057\u3044\u30bb\u30c3\u30b7\u30e7\u30f3\u3092\u958b\u59cb\u305b\u305a\u306b\u30e1\u30e2\u30ea\u7d71\u5408\u3092\u624b\u52d5\u30c8\u30ea\u30ac\u30fc\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"ja/getting-started/first-chat/#rest-api","title":"REST API","text":"<pre><code>uvicorn agent.api:app --host 0.0.0.0 --port 8400\n</code></pre> <p>\u30e1\u30c3\u30bb\u30fc\u30b8\u9001\u4fe1\uff1a</p> <pre><code>curl -X POST http://localhost:8400/chat \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"message\": \"\u3053\u3093\u306b\u3061\u306f\u3001\u521d\u3081\u307e\u3057\u3066\uff01\"}'\n</code></pre>"},{"location":"ja/getting-started/first-chat/#web","title":"Web \u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9","text":"<pre><code>python web.py                          # \u30c7\u30d5\u30a9\u30eb\u30c8\u30dd\u30fc\u30c8 1234\npython web.py --port 8401              # \u30dd\u30fc\u30c8\u6307\u5b9a\n</code></pre> <p><code>http://localhost:1234</code> \u306b\u30a2\u30af\u30bb\u30b9\uff1a</p> <ul> <li>\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u6982\u8981\uff08\u30ab\u30c6\u30b4\u30ea\u3001\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u3001\u78ba\u8a8d/\u672a\u78ba\u8a8d\u30b9\u30c6\u30fc\u30bf\u30b9\uff09</li> <li>\u4eba\u9593\u95a2\u4fc2\u30b0\u30e9\u30d5</li> <li>\u8ecc\u8de1\u5206\u6790</li> <li>\u89b3\u5bdf\u8a18\u9332</li> <li>\u30e1\u30e2\u30ea\u30ec\u30d3\u30e5\u30fc\uff08\u78ba\u8a8d\u3001\u62d2\u5426\u3001\u77db\u76fe\u306e\u89e3\u6c7a\uff09</li> <li>\u8ca1\u52d9\u30fb\u5065\u5eb7\u30c7\u30fc\u30bf</li> </ul>"},{"location":"ja/getting-started/first-chat/#_2","title":"\u30d2\u30f3\u30c8","text":"<p>\u63a8\u5968\uff1aTelegram Bot</p> <p>Riverse \u306f\u753b\u50cf\u3001\u97f3\u58f0\u3001\u30d5\u30a1\u30a4\u30eb\u3092\u51e6\u7406\u3059\u308b\u305f\u3081\u3001Telegram Bot \u3092\u30e1\u30a4\u30f3\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3068\u3057\u3066\u4f7f\u7528\u3059\u308b\u3053\u3068\u3092\u63a8\u5968\u3057\u307e\u3059\u3002<code>settings.yaml</code> \u306b\u3042\u306a\u305f\u56fa\u6709\u306e Telegram User ID \u3092\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <p>\u7cbe\u5ea6\u306b\u3064\u3044\u3066</p> <p>\u73fe\u5728\u3001\u500b\u4eba\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u62bd\u51fa\u306b\u7279\u5316\u3057\u3066\u8a13\u7df4\u3055\u308c\u305f LLM \u306f\u5b58\u5728\u3057\u306a\u3044\u305f\u3081\u3001\u62bd\u51fa\u7d50\u679c\u306b\u8aa4\u308a\u304c\u542b\u307e\u308c\u308b\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002\u4e0d\u6b63\u78ba\u306a\u5185\u5bb9\u3092\u898b\u3064\u3051\u305f\u5834\u5408\u306f\u3001Web \u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u3067\u8aa4\u3063\u305f\u8a18\u61b6\u3092\u62d2\u5426\u3059\u308b\u304b\u3001\u53e4\u304f\u306a\u3063\u305f\u8a18\u61b6\u3092\u30af\u30ed\u30fc\u30ba\u3067\u304d\u307e\u3059\u3002Riverse \u306f\u8a18\u61b6\u5185\u5bb9\u306e\u624b\u52d5\u7de8\u96c6\u3092\u610f\u56f3\u7684\u306b\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u305b\u3093 \u2014 \u8aa4\u3063\u305f\u8a18\u61b6\u306f\u6cb3\u306e\u4e2d\u306e\u6ce5\u6c99\u306e\u3088\u3046\u306b\u3001\u6c34\u6d41\u306b\u6d17\u3044\u6d41\u3055\u308c\u308b\u3079\u304d\u3082\u306e\u3067\u3059\u3002\u4f1a\u8a71\u304c\u84c4\u7a4d\u3055\u308c\u308b\u306b\u3064\u308c\u3001\u6cb3\u6d41\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u304c\u7d99\u7d9a\u7684\u306b\u81ea\u5df1\u4fee\u6b63\u3057\u307e\u3059\u3002</p>"},{"location":"ja/getting-started/installation/","title":"\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","text":""},{"location":"ja/getting-started/installation/#_2","title":"\u524d\u63d0\u6761\u4ef6","text":"\u4f9d\u5b58 \u8aac\u660e Python 3.10+ \u30e9\u30f3\u30bf\u30a4\u30e0 PostgreSQL 16+ \u30c7\u30fc\u30bf\u4fdd\u5b58 Ollama \u30ed\u30fc\u30ab\u30eb LLM \u63a8\u8ad6\uff08\u30aa\u30d7\u30b7\u30e7\u30f3\u3001\u30af\u30e9\u30a6\u30c9\u306e\u307f\u3082\u53ef\uff09"},{"location":"ja/getting-started/installation/#_3","title":"\u30af\u30ed\u30fc\u30f3 &amp; \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","text":"<pre><code>git clone https://github.com/wangjiake/JKRiver.git\ncd JKRiver\npython3 -m venv .venv\nsource .venv/bin/activate        # macOS / Linux\n# .venv\\Scripts\\activate         # Windows\n\npip install -r requirements.txt\n</code></pre>"},{"location":"ja/getting-started/installation/#postgresql","title":"PostgreSQL \u30bb\u30c3\u30c8\u30a2\u30c3\u30d7","text":"<pre><code>createdb -h localhost -U your_username Riverse\npsql -h localhost -U your_username -d Riverse -f agent/schema.sql\n</code></pre> <p>Note</p> <p>Riverse \u3068 River Algorithm \u2014 AI\u4f1a\u8a71\u5c65\u6b74\u7279\u5225\u7248 \u306f\u540c\u3058\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u5171\u6709\u3057\u3066\u3044\u307e\u3059\u3002\u3069\u3061\u3089\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u304b\u3089\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u6210\u3057\u3066\u3082\u3001\u4e21\u65b9\u306b\u5fc5\u8981\u306a\u5168\u30c6\u30fc\u30d6\u30eb\u304c\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002\u3082\u3046\u4e00\u65b9\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u65e2\u306b\u30c6\u30fc\u30d6\u30eb\u4f5c\u6210\u6e08\u307f\u306e\u5834\u5408\u3001\u3053\u306e\u30b9\u30c6\u30c3\u30d7\u306f\u30b9\u30ad\u30c3\u30d7\u3067\u304d\u307e\u3059\u3002</p> <p>\u30c6\u30fc\u30d6\u30eb\u304c\u4f5c\u6210\u3055\u308c\u305f\u304b\u78ba\u8a8d\uff1a</p> <pre><code>psql -h localhost -U your_username -d Riverse -c \"\\dt\"\n</code></pre> <p><code>conversation_turns</code>\u3001<code>user_profile</code>\u3001<code>observations</code> \u306a\u306910\u4ee5\u4e0a\u306e\u30c6\u30fc\u30d6\u30eb\u304c\u8868\u793a\u3055\u308c\u308b\u306f\u305a\u3067\u3059\u3002</p> <p>Tip</p> <p>\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u30b9\u30ad\u30eb\u30b5\u30dd\u30fc\u30c8\u304c\u5fc5\u8981\u306a\u5834\u5408\uff08Telegram Job Queue\uff09\uff1a <pre><code>pip install \"python-telegram-bot[job-queue]\"\n</code></pre></p>"},{"location":"ja/getting-started/installation/#ollama","title":"Ollama \u30e2\u30c7\u30eb\u306e\u53d6\u5f97\uff08\u30aa\u30d7\u30b7\u30e7\u30f3\uff09","text":"<p>\u30ed\u30fc\u30ab\u30eb LLM \u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\uff1a</p> <pre><code>ollama pull &lt;your-model&gt;         # \u4f8b\uff1aqwen2.5:14b, llama3, mistral\nollama pull bge-m3              # \u57cb\u3081\u8fbc\u307f\u30e2\u30c7\u30eb\uff08\u30aa\u30d7\u30b7\u30e7\u30f3\uff09\n</code></pre>"},{"location":"ja/getting-started/installation/#_4","title":"\u8d77\u52d5","text":"<pre><code>python -m agent.main                                    # CLI\nuvicorn agent.api:app --host 0.0.0.0 --port 8400       # REST API\npython web.py                                            # Web \u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\npython -m agent.telegram_bot                             # Telegram Bot\npython -m agent.discord_bot                              # Discord Bot\n</code></pre>"}]}